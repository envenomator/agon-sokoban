Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED15-Apr-23     15:21:42     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optsize -noreduceopt -nopadbranch
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\game.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "sokobanlevel",1207
                           A     9    .DEFINE "xpos"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 12
                           A    13    .ENDEF
                           A    14    .DEFINE "ypos"
                           A    15    .VALUE 1
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "width"
                           A    20    .VALUE 2
                           A    21    .CLASS 8
                           A    22    .TYPE 12
                           A    23    .ENDEF
                           A    24    .DEFINE "height"
                           A    25    .VALUE 3
                           A    26    .CLASS 8
                           A    27    .TYPE 12
                           A    28    .ENDEF
                           A    29    .DEFINE "goals"
                           A    30    .VALUE 4
                           A    31    .CLASS 8
                           A    32    .TYPE 12
                           A    33    .ENDEF
                           A    34    .DEFINE "goalstaken"
                           A    35    .VALUE 5
                           A    36    .CLASS 8
                           A    37    .TYPE 12
                           A    38    .ENDEF
                           A    39    .DEFINE "crates"
                           A    40    .VALUE 6
                           A    41    .CLASS 8
                           A    42    .TYPE 12
                           A    43    .ENDEF
                           A    44    .DEFINE "data"
                           A    45    .VALUE 7
                           A    46    .CLASS 8
                           A    47    .DIM 30
                           A    48    .DIM 40
                           A    49    .TYPE 876
                           A    50    .ENDEF
                           A    51    .ENDREC "sokobanlevel"
                           A    52    .BEGREC "NONAME0",2
                           A    53    .DEFINE "ch"
                           A    54    .VALUE 0
                           A    55    .CLASS 8
                           A    56    .TYPE 2
                           A    57    .ENDEF
                           A    58    .DEFINE "tile_id"
                           A    59    .VALUE 1
                           A    60    .CLASS 8
                           A    61    .TYPE 12
                           A    62    .ENDEF
                           A    63    .ENDREC "NONAME0"
                           A    64    .BEGREC "undoitem",2
                           A    65    .DEFINE "movekey"
                           A    66    .VALUE 0
                           A    67    .CLASS 8
                           A    68    .TYPE 12
                           A    69    .ENDEF
                           A    70    .DEFINE "pushed"
                           A    71    .VALUE 1
                           A    72    .CLASS 8
                           A    73    .TYPE 12
                           A    74    .ENDEF
                           A    75    .ENDREC "undoitem"
                           A    76    .BEGREC "NONAME1",8
                           A    77    .DEFINE "baudRate"
                           A    78    .VALUE 0
                           A    79    .CLASS 8
                           A    80    .TYPE 4
                           A    81    .ENDEF
                           A    82    .DEFINE "dataBits"
                           A    83    .VALUE 3
                           A    84    .CLASS 8
                           A    85    .TYPE 12
                           A    86    .ENDEF
                           A    87    .DEFINE "stopBits"
                           A    88    .VALUE 4
                           A    89    .CLASS 8
                           A    90    .TYPE 12
                           A    91    .ENDEF
                           A    92    .DEFINE "parity"
                           A    93    .VALUE 5
                           A    94    .CLASS 8
                           A    95    .TYPE 12
                           A    96    .ENDEF
                           A    97    .DEFINE "flowcontrol"
                           A    98    .VALUE 6
                           A    99    .CLASS 8
                           A   100    .TYPE 12
                           A   101    .ENDEF
                           A   102    .DEFINE "eir"
                           A   103    .VALUE 7
                           A   104    .CLASS 8
                           A   105    .TYPE 12
                           A   106    .ENDEF
                           A   107    .ENDREC "NONAME1"
                           A   108    .BEGREC "fmt_type",19
                           A   109    .DEFINE "status"
                           A   110    .VALUE 0
                           A   111    .CLASS 8
                           A   112    .TYPE 12
                           A   113    .ENDEF
                           A   114    .DEFINE "flags"
                           A   115    .VALUE 1
                           A   116    .CLASS 8
                           A   117    .TYPE 12
                           A   118    .ENDEF
                           A   119    .DEFINE "size"
                           A   120    .VALUE 2
                           A   121    .CLASS 8
                           A   122    .TYPE 2
                           A   123    .ENDEF
                           A   124    .DEFINE "chr"
                           A   125    .VALUE 3
                           A   126    .CLASS 8
                           A   127    .TYPE 2
                           A   128    .ENDEF
                           A   129    .DEFINE "type"
                           A   130    .VALUE 4
                           A   131    .CLASS 8
                           A   132    .TYPE 2
                           A   133    .ENDEF
                           A   134    .DEFINE "field_width"
                           A   135    .VALUE 5
                           A   136    .CLASS 8
                           A   137    .TYPE 2
                           A   138    .ENDEF
                           A   139    .DEFINE "precision"
                           A   140    .VALUE 6
                           A   141    .CLASS 8
                           A   142    .TYPE 2
                           A   143    .ENDEF
                           A   144    .DEFINE "set_begin"
                           A   145    .VALUE 7
                           A   146    .CLASS 8
                           A   147    .TYPE 34
                           A   148    .ENDEF
                           A   149    .DEFINE "set_end"
                           A   150    .VALUE 10
                           A   151    .CLASS 8
                           A   152    .TYPE 34
                           A   153    .ENDEF
                           A   154    .DEFINE "pad_whole"
                           A   155    .VALUE 13
                           A   156    .CLASS 8
                           A   157    .TYPE 12
                           A   158    .ENDEF
                           A   159    .DEFINE "pad_pre_fract"
                           A   160    .VALUE 14
                           A   161    .CLASS 8
                           A   162    .TYPE 12
                           A   163    .ENDEF
                           A   164    .DEFINE "pad_post_fract"
                           A   165    .VALUE 15
                           A   166    .CLASS 8
                           A   167    .TYPE 12
                           A   168    .ENDEF
                           A   169    .DEFINE "pad_at"
                           A   170    .VALUE 16
                           A   171    .CLASS 8
                           A   172    .TYPE 34
                           A   173    .ENDEF
                           A   174    .ENDREC "fmt_type"
                           A   175    .BEGREC "flt_info",12
                           A   176    .DEFINE "flags"
                           A   177    .VALUE 0
                           A   178    .CLASS 8
                           A   179    .TYPE 12
                           A   180    .ENDEF
                           A   181    .DEFINE "exp"
                           A   182    .VALUE 1
                           A   183    .CLASS 8
                           A   184    .TYPE 2
                           A   185    .ENDEF
                           A   186    .DEFINE "digits"
                           A   187    .VALUE 2
                           A   188    .CLASS 8
                           A   189    .DIM 10
                           A   190    .TYPE 108
                           A   191    .ENDEF
                           A   192    .ENDREC "flt_info"
                           A   193    	SEGMENT BSS
0454D2                     A   194    _undomove:
0454D2                     A   195    	DS	256
                           A   196    .DEFINE "undomove"
                           A   197    .ALIAS "_undomove"
                           A   198    .CLASS 83
                           A   199    .VALUE _undomove
                           A   200    .DIM 128
                           A   201    .TAG "undoitem"
                           A   202    .TYPE 104
                           A   203    .ENDEF
0455D2                     A   204    _undo_head:
0455D2                     A   205    	DS	1
                           A   206    .DEFINE "undo_head"
                           A   207    .ALIAS "_undo_head"
                           A   208    .CLASS 83
                           A   209    .VALUE _undo_head
                           A   210    .TYPE 12
                           A   211    .ENDEF
0455D3                     A   212    _num_undomoves:
0455D3                     A   213    	DS	1
                           A   214    .DEFINE "num_undomoves"
                           A   215    .ALIAS "_num_undomoves"
                           A   216    .CLASS 83
                           A   217    .VALUE _num_undomoves
                           A   218    .TYPE 12
                           A   219    .ENDEF
0455D4                     A   220    _bitmapbuffer:
0455D4                     A   221    	DS	1024
                           A   222    .DEFINE "bitmapbuffer"
                           A   223    .ALIAS "_bitmapbuffer"
                           A   224    .CLASS 83
                           A   225    .VALUE _bitmapbuffer
                           A   226    .DIM 256
                           A   227    .TYPE 111
                           A   228    .ENDEF
0459D4                     A   229    _sprites:
0459D4                     A   230    	DS	1200
                           A   231    .DEFINE "sprites"
                           A   232    .ALIAS "_sprites"
                           A   233    .CLASS 83
                           A   234    .VALUE _sprites
                           A   235    .DIM 30
                           A   236    .DIM 40
                           A   237    .TYPE 876
                           A   238    .ENDEF
045E84                     A   239    _currentlevel:
045E84                     A   240    	DS	1207
                           A   241    .DEFINE "currentlevel"
                           A   242    .ALIAS "_currentlevel"
                           A   243    .CLASS 83
                           A   244    .VALUE _currentlevel
                           A   245    .TAG "sokobanlevel"
                           A   246    .TYPE 8
                           A   247    .ENDEF
04633B                     A   248    _spritenumber:
04633B                     A   249    	DS	1
                           A   250    .DEFINE "spritenumber"
                           A   251    .ALIAS "_spritenumber"
                           A   252    .CLASS 83
                           A   253    .VALUE _spritenumber
                           A   254    .TYPE 12
                           A   255    .ENDEF
                           A   256    	SEGMENT DATA
043855                     A   257    _wall_data:
043855 808000FF            A   258    	DL	-16744320
043859 808000FF            A   259    	DL	-16744320
04385D 808000FF            A   260    	DL	-16744320
043861 808000FF            A   261    	DL	-16744320
043865 808000FF            A   262    	DL	-16744320
043869 808000FF            A   263    	DL	-16744320
04386D 808000FF            A   264    	DL	-16744320
043871 404040FF            A   265    	DL	-12566464
043875 808000FF            A   266    	DL	-16744320
043879 808000FF            A   267    	DL	-16744320
04387D 808000FF            A   268    	DL	-16744320
043881 808000FF            A   269    	DL	-16744320
043885 808000FF            A   270    	DL	-16744320
043889 808000FF            A   271    	DL	-16744320
04388D 808000FF            A   272    	DL	-16744320
043891 808000FF            A   273    	DL	-16744320
043895 800000FF            A   274    	DL	-16777088
043899 800000FF            A   275    	DL	-16777088
04389D 800000FF            A   276    	DL	-16777088
0438A1 800000FF            A   277    	DL	-16777088
0438A5 800000FF            A   278    	DL	-16777088
0438A9 800000FF            A   279    	DL	-16777088
0438AD 808080FF            A   280    	DL	-8355712
0438B1 404040FF            A   281    	DL	-12566464
0438B5 808000FF            A   282    	DL	-16744320
0438B9 800000FF            A   283    	DL	-16777088
0438BD 800000FF            A   284    	DL	-16777088
0438C1 800000FF            A   285    	DL	-16777088
0438C5 800000FF            A   286    	DL	-16777088
0438C9 800000FF            A   287    	DL	-16777088
0438CD 800000FF            A   288    	DL	-16777088
0438D1 800000FF            A   289    	DL	-16777088
0438D5 800000FF            A   290    	DL	-16777088
0438D9 800000FF            A   291    	DL	-16777088
0438DD 800000FF            A   292    	DL	-16777088
0438E1 800000FF            A   293    	DL	-16777088
0438E5 800000FF            A   294    	DL	-16777088
0438E9 800000FF            A   295    	DL	-16777088
0438ED 808080FF            A   296    	DL	-8355712
0438F1 404040FF            A   297    	DL	-12566464
0438F5 808000FF            A   298    	DL	-16744320
0438F9 800000FF            A   299    	DL	-16777088
0438FD 808080FF            A   300    	DL	-8355712
043901 800000FF            A   301    	DL	-16777088
043905 800000FF            A   302    	DL	-16777088
043909 800000FF            A   303    	DL	-16777088
04390D 800000FF            A   304    	DL	-16777088
043911 800000FF            A   305    	DL	-16777088
043915 800000FF            A   306    	DL	-16777088
043919 800000FF            A   307    	DL	-16777088
04391D 808080FF            A   308    	DL	-8355712
043921 808080FF            A   309    	DL	-8355712
043925 800000FF            A   310    	DL	-16777088
043929 800000FF            A   311    	DL	-16777088
04392D 808080FF            A   312    	DL	-8355712
043931 404040FF            A   313    	DL	-12566464
043935 808000FF            A   314    	DL	-16744320
043939 800000FF            A   315    	DL	-16777088
04393D 800000FF            A   316    	DL	-16777088
043941 800000FF            A   317    	DL	-16777088
043945 800000FF            A   318    	DL	-16777088
043949 800000FF            A   319    	DL	-16777088
04394D 800000FF            A   320    	DL	-16777088
043951 800000FF            A   321    	DL	-16777088
043955 800000FF            A   322    	DL	-16777088
043959 800000FF            A   323    	DL	-16777088
04395D 800000FF            A   324    	DL	-16777088
043961 800000FF            A   325    	DL	-16777088
043965 800000FF            A   326    	DL	-16777088
043969 800000FF            A   327    	DL	-16777088
04396D 808080FF            A   328    	DL	-8355712
043971 404040FF            A   329    	DL	-12566464
043975 808000FF            A   330    	DL	-16744320
043979 800000FF            A   331    	DL	-16777088
04397D 800000FF            A   332    	DL	-16777088
043981 800000FF            A   333    	DL	-16777088
043985 800000FF            A   334    	DL	-16777088
043989 800000FF            A   335    	DL	-16777088
04398D 800000FF            A   336    	DL	-16777088
043991 800000FF            A   337    	DL	-16777088
043995 800000FF            A   338    	DL	-16777088
043999 800000FF            A   339    	DL	-16777088
04399D 800000FF            A   340    	DL	-16777088
0439A1 800000FF            A   341    	DL	-16777088
0439A5 800000FF            A   342    	DL	-16777088
0439A9 800000FF            A   343    	DL	-16777088
0439AD 808080FF            A   344    	DL	-8355712
0439B1 404040FF            A   345    	DL	-12566464
0439B5 808000FF            A   346    	DL	-16744320
0439B9 800000FF            A   347    	DL	-16777088
0439BD 800000FF            A   348    	DL	-16777088
0439C1 800000FF            A   349    	DL	-16777088
0439C5 800000FF            A   350    	DL	-16777088
0439C9 808080FF            A   351    	DL	-8355712
0439CD 808080FF            A   352    	DL	-8355712
0439D1 800000FF            A   353    	DL	-16777088
0439D5 808080FF            A   354    	DL	-8355712
0439D9 808080FF            A   355    	DL	-8355712
0439DD 808080FF            A   356    	DL	-8355712
0439E1 808080FF            A   357    	DL	-8355712
0439E5 808080FF            A   358    	DL	-8355712
0439E9 808080FF            A   359    	DL	-8355712
0439ED 808080FF            A   360    	DL	-8355712
0439F1 404040FF            A   361    	DL	-12566464
0439F5 808000FF            A   362    	DL	-16744320
0439F9 808080FF            A   363    	DL	-8355712
0439FD 808080FF            A   364    	DL	-8355712
043A01 808080FF            A   365    	DL	-8355712
043A05 808080FF            A   366    	DL	-8355712
043A09 808080FF            A   367    	DL	-8355712
043A0D 808080FF            A   368    	DL	-8355712
043A11 808080FF            A   369    	DL	-8355712
043A15 404040FF            A   370    	DL	-12566464
043A19 404040FF            A   371    	DL	-12566464
043A1D 404040FF            A   372    	DL	-12566464
043A21 404040FF            A   373    	DL	-12566464
043A25 404040FF            A   374    	DL	-12566464
043A29 404040FF            A   375    	DL	-12566464
043A2D 404040FF            A   376    	DL	-12566464
043A31 404040FF            A   377    	DL	-12566464
043A35 404040FF            A   378    	DL	-12566464
043A39 404040FF            A   379    	DL	-12566464
043A3D 404040FF            A   380    	DL	-12566464
043A41 404040FF            A   381    	DL	-12566464
043A45 404040FF            A   382    	DL	-12566464
043A49 404040FF            A   383    	DL	-12566464
043A4D 404040FF            A   384    	DL	-12566464
043A51 404040FF            A   385    	DL	-12566464
043A55 404040FF            A   386    	DL	-12566464
043A59 808000FF            A   387    	DL	-16744320
043A5D 808000FF            A   388    	DL	-16744320
043A61 808000FF            A   389    	DL	-16744320
043A65 808000FF            A   390    	DL	-16744320
043A69 808000FF            A   391    	DL	-16744320
043A6D 808000FF            A   392    	DL	-16744320
043A71 808000FF            A   393    	DL	-16744320
043A75 808000FF            A   394    	DL	-16744320
043A79 808000FF            A   395    	DL	-16744320
043A7D 808000FF            A   396    	DL	-16744320
043A81 808000FF            A   397    	DL	-16744320
043A85 808000FF            A   398    	DL	-16744320
043A89 808000FF            A   399    	DL	-16744320
043A8D 808000FF            A   400    	DL	-16744320
043A91 808000FF            A   401    	DL	-16744320
043A95 404040FF            A   402    	DL	-12566464
043A99 808000FF            A   403    	DL	-16744320
043A9D 808000FF            A   404    	DL	-16744320
043AA1 800000FF            A   405    	DL	-16777088
043AA5 808080FF            A   406    	DL	-8355712
043AA9 808080FF            A   407    	DL	-8355712
043AAD 800000FF            A   408    	DL	-16777088
043AB1 800000FF            A   409    	DL	-16777088
043AB5 800000FF            A   410    	DL	-16777088
043AB9 800000FF            A   411    	DL	-16777088
043ABD 800000FF            A   412    	DL	-16777088
043AC1 800000FF            A   413    	DL	-16777088
043AC5 800000FF            A   414    	DL	-16777088
043AC9 800000FF            A   415    	DL	-16777088
043ACD 800000FF            A   416    	DL	-16777088
043AD1 808080FF            A   417    	DL	-8355712
043AD5 404040FF            A   418    	DL	-12566464
043AD9 808000FF            A   419    	DL	-16744320
043ADD 800000FF            A   420    	DL	-16777088
043AE1 800000FF            A   421    	DL	-16777088
043AE5 800000FF            A   422    	DL	-16777088
043AE9 800000FF            A   423    	DL	-16777088
043AED 800000FF            A   424    	DL	-16777088
043AF1 800000FF            A   425    	DL	-16777088
043AF5 800000FF            A   426    	DL	-16777088
043AF9 800000FF            A   427    	DL	-16777088
043AFD 800000FF            A   428    	DL	-16777088
043B01 800000FF            A   429    	DL	-16777088
043B05 800000FF            A   430    	DL	-16777088
043B09 800000FF            A   431    	DL	-16777088
043B0D 800000FF            A   432    	DL	-16777088
043B11 808080FF            A   433    	DL	-8355712
043B15 404040FF            A   434    	DL	-12566464
043B19 808000FF            A   435    	DL	-16744320
043B1D 800000FF            A   436    	DL	-16777088
043B21 800000FF            A   437    	DL	-16777088
043B25 800000FF            A   438    	DL	-16777088
043B29 800000FF            A   439    	DL	-16777088
043B2D 808080FF            A   440    	DL	-8355712
043B31 808080FF            A   441    	DL	-8355712
043B35 800000FF            A   442    	DL	-16777088
043B39 800000FF            A   443    	DL	-16777088
043B3D 800000FF            A   444    	DL	-16777088
043B41 800000FF            A   445    	DL	-16777088
043B45 800000FF            A   446    	DL	-16777088
043B49 800000FF            A   447    	DL	-16777088
043B4D 800000FF            A   448    	DL	-16777088
043B51 808080FF            A   449    	DL	-8355712
043B55 404040FF            A   450    	DL	-12566464
043B59 808000FF            A   451    	DL	-16744320
043B5D 800000FF            A   452    	DL	-16777088
043B61 800000FF            A   453    	DL	-16777088
043B65 800000FF            A   454    	DL	-16777088
043B69 800000FF            A   455    	DL	-16777088
043B6D 800000FF            A   456    	DL	-16777088
043B71 800000FF            A   457    	DL	-16777088
043B75 800000FF            A   458    	DL	-16777088
043B79 800000FF            A   459    	DL	-16777088
043B7D 800000FF            A   460    	DL	-16777088
043B81 800000FF            A   461    	DL	-16777088
043B85 800000FF            A   462    	DL	-16777088
043B89 808080FF            A   463    	DL	-8355712
043B8D 800000FF            A   464    	DL	-16777088
043B91 808080FF            A   465    	DL	-8355712
043B95 404040FF            A   466    	DL	-12566464
043B99 808000FF            A   467    	DL	-16744320
043B9D 800000FF            A   468    	DL	-16777088
043BA1 800000FF            A   469    	DL	-16777088
043BA5 800000FF            A   470    	DL	-16777088
043BA9 800000FF            A   471    	DL	-16777088
043BAD 800000FF            A   472    	DL	-16777088
043BB1 800000FF            A   473    	DL	-16777088
043BB5 800000FF            A   474    	DL	-16777088
043BB9 800000FF            A   475    	DL	-16777088
043BBD 800000FF            A   476    	DL	-16777088
043BC1 800000FF            A   477    	DL	-16777088
043BC5 800000FF            A   478    	DL	-16777088
043BC9 800000FF            A   479    	DL	-16777088
043BCD 800000FF            A   480    	DL	-16777088
043BD1 808080FF            A   481    	DL	-8355712
043BD5 404040FF            A   482    	DL	-12566464
043BD9 808000FF            A   483    	DL	-16744320
043BDD 808080FF            A   484    	DL	-8355712
043BE1 808080FF            A   485    	DL	-8355712
043BE5 808080FF            A   486    	DL	-8355712
043BE9 808080FF            A   487    	DL	-8355712
043BED 808080FF            A   488    	DL	-8355712
043BF1 808080FF            A   489    	DL	-8355712
043BF5 808080FF            A   490    	DL	-8355712
043BF9 808080FF            A   491    	DL	-8355712
043BFD 808080FF            A   492    	DL	-8355712
043C01 808080FF            A   493    	DL	-8355712
043C05 808080FF            A   494    	DL	-8355712
043C09 808080FF            A   495    	DL	-8355712
043C0D 808080FF            A   496    	DL	-8355712
043C11 808080FF            A   497    	DL	-8355712
043C15 404040FF            A   498    	DL	-12566464
043C19 404040FF            A   499    	DL	-12566464
043C1D 404040FF            A   500    	DL	-12566464
043C21 404040FF            A   501    	DL	-12566464
043C25 404040FF            A   502    	DL	-12566464
043C29 404040FF            A   503    	DL	-12566464
043C2D 404040FF            A   504    	DL	-12566464
043C31 404040FF            A   505    	DL	-12566464
043C35 404040FF            A   506    	DL	-12566464
043C39 404040FF            A   507    	DL	-12566464
043C3D 404040FF            A   508    	DL	-12566464
043C41 404040FF            A   509    	DL	-12566464
043C45 404040FF            A   510    	DL	-12566464
043C49 404040FF            A   511    	DL	-12566464
043C4D 404040FF            A   512    	DL	-12566464
043C51 404040FF            A   513    	DL	-12566464
                           A   514    .DEFINE "wall_data"
                           A   515    .ALIAS "_wall_data"
                           A   516    .CLASS 69
                           A   517    .VALUE _wall_data
                           A   518    .DIM 1
                           A   519    .DIM 256
                           A   520    .TYPE 879
                           A   521    .ENDEF
043C55                     A   522    _player_data:
043C55 00000000            A   523    	DL	0
043C59 00000000            A   524    	DL	0
043C5D 00000000            A   525    	DL	0
043C61 00000000            A   526    	DL	0
043C65 00000000            A   527    	DL	0
043C69 000000FF            A   528    	DL	-16777216
043C6D 000000FF            A   529    	DL	-16777216
043C71 000000FF            A   530    	DL	-16777216
043C75 000000FF            A   531    	DL	-16777216
043C79 404040FF            A   532    	DL	-12566464
043C7D 00000000            A   533    	DL	0
043C81 00000000            A   534    	DL	0
043C85 00000000            A   535    	DL	0
043C89 00000000            A   536    	DL	0
043C8D 00000000            A   537    	DL	0
043C91 00000000            A   538    	DL	0
043C95 00000000            A   539    	DL	0
043C99 00000000            A   540    	DL	0
043C9D 00000000            A   541    	DL	0
043CA1 00000000            A   542    	DL	0
043CA5 000000FF            A   543    	DL	-16777216
043CA9 000000FF            A   544    	DL	-16777216
043CAD 000000FF            A   545    	DL	-16777216
043CB1 000000FF            A   546    	DL	-16777216
043CB5 000000FF            A   547    	DL	-16777216
043CB9 000000FF            A   548    	DL	-16777216
043CBD 000000FF            A   549    	DL	-16777216
043CC1 00000000            A   550    	DL	0
043CC5 00000000            A   551    	DL	0
043CC9 00000000            A   552    	DL	0
043CCD 00000000            A   553    	DL	0
043CD1 00000000            A   554    	DL	0
043CD5 00000000            A   555    	DL	0
043CD9 00000000            A   556    	DL	0
043CDD 00000000            A   557    	DL	0
043CE1 404040FF            A   558    	DL	-12566464
043CE5 000000FF            A   559    	DL	-16777216
043CE9 404040FF            A   560    	DL	-12566464
043CED 808000FF            A   561    	DL	-16744320
043CF1 808000FF            A   562    	DL	-16744320
043CF5 808000FF            A   563    	DL	-16744320
043CF9 404040FF            A   564    	DL	-12566464
043CFD 000000FF            A   565    	DL	-16777216
043D01 404040FF            A   566    	DL	-12566464
043D05 00000000            A   567    	DL	0
043D09 00000000            A   568    	DL	0
043D0D 00000000            A   569    	DL	0
043D11 00000000            A   570    	DL	0
043D15 00000000            A   571    	DL	0
043D19 00000000            A   572    	DL	0
043D1D 00000000            A   573    	DL	0
043D21 000000FF            A   574    	DL	-16777216
043D25 404040FF            A   575    	DL	-12566464
043D29 808000FF            A   576    	DL	-16744320
043D2D 808000FF            A   577    	DL	-16744320
043D31 808000FF            A   578    	DL	-16744320
043D35 808000FF            A   579    	DL	-16744320
043D39 808000FF            A   580    	DL	-16744320
043D3D 404040FF            A   581    	DL	-12566464
043D41 000000FF            A   582    	DL	-16777216
043D45 00000000            A   583    	DL	0
043D49 00000000            A   584    	DL	0
043D4D 00000000            A   585    	DL	0
043D51 00000000            A   586    	DL	0
043D55 00000000            A   587    	DL	0
043D59 00000000            A   588    	DL	0
043D5D 00000000            A   589    	DL	0
043D61 404040FF            A   590    	DL	-12566464
043D65 808080FF            A   591    	DL	-8355712
043D69 000000FF            A   592    	DL	-16777216
043D6D 000000FF            A   593    	DL	-16777216
043D71 808000FF            A   594    	DL	-16744320
043D75 000000FF            A   595    	DL	-16777216
043D79 000000FF            A   596    	DL	-16777216
043D7D 808080FF            A   597    	DL	-8355712
043D81 404040FF            A   598    	DL	-12566464
043D85 00000000            A   599    	DL	0
043D89 00000000            A   600    	DL	0
043D8D 00000000            A   601    	DL	0
043D91 00000000            A   602    	DL	0
043D95 00000000            A   603    	DL	0
043D99 00000000            A   604    	DL	0
043D9D 00000000            A   605    	DL	0
043DA1 00000000            A   606    	DL	0
043DA5 000000FF            A   607    	DL	-16777216
043DA9 808000FF            A   608    	DL	-16744320
043DAD 808000FF            A   609    	DL	-16744320
043DB1 808000FF            A   610    	DL	-16744320
043DB5 808000FF            A   611    	DL	-16744320
043DB9 808000FF            A   612    	DL	-16744320
043DBD 000000FF            A   613    	DL	-16777216
043DC1 00000000            A   614    	DL	0
043DC5 00000000            A   615    	DL	0
043DC9 00000000            A   616    	DL	0
043DCD 00000000            A   617    	DL	0
043DD1 00000000            A   618    	DL	0
043DD5 00000000            A   619    	DL	0
043DD9 00000000            A   620    	DL	0
043DDD 00000000            A   621    	DL	0
043DE1 00000000            A   622    	DL	0
043DE5 00000000            A   623    	DL	0
043DE9 000000FF            A   624    	DL	-16777216
043DED 808080FF            A   625    	DL	-8355712
043DF1 808080FF            A   626    	DL	-8355712
043DF5 808080FF            A   627    	DL	-8355712
043DF9 000000FF            A   628    	DL	-16777216
043DFD 00000000            A   629    	DL	0
043E01 00000000            A   630    	DL	0
043E05 00000000            A   631    	DL	0
043E09 00000000            A   632    	DL	0
043E0D 00000000            A   633    	DL	0
043E11 00000000            A   634    	DL	0
043E15 00000000            A   635    	DL	0
043E19 00000000            A   636    	DL	0
043E1D 00000000            A   637    	DL	0
043E21 00000000            A   638    	DL	0
043E25 000000FF            A   639    	DL	-16777216
043E29 800000FF            A   640    	DL	-16777088
043E2D 000000FF            A   641    	DL	-16777216
043E31 000000FF            A   642    	DL	-16777216
043E35 000000FF            A   643    	DL	-16777216
043E39 800000FF            A   644    	DL	-16777088
043E3D 000000FF            A   645    	DL	-16777216
043E41 00000000            A   646    	DL	0
043E45 00000000            A   647    	DL	0
043E49 00000000            A   648    	DL	0
043E4D 00000000            A   649    	DL	0
043E51 00000000            A   650    	DL	0
043E55 00000000            A   651    	DL	0
043E59 00000000            A   652    	DL	0
043E5D 00000000            A   653    	DL	0
043E61 000000FF            A   654    	DL	-16777216
043E65 800000FF            A   655    	DL	-16777088
043E69 FF0000FF            A   656    	DL	-16776961
043E6D FF0000FF            A   657    	DL	-16776961
043E71 FF0000FF            A   658    	DL	-16776961
043E75 FF0000FF            A   659    	DL	-16776961
043E79 FF0000FF            A   660    	DL	-16776961
043E7D 800000FF            A   661    	DL	-16777088
043E81 000000FF            A   662    	DL	-16777216
043E85 00000000            A   663    	DL	0
043E89 00000000            A   664    	DL	0
043E8D 00000000            A   665    	DL	0
043E91 00000000            A   666    	DL	0
043E95 00000000            A   667    	DL	0
043E99 00000000            A   668    	DL	0
043E9D 000000FF            A   669    	DL	-16777216
043EA1 FF0000FF            A   670    	DL	-16776961
043EA5 FF0000FF            A   671    	DL	-16776961
043EA9 FF0000FF            A   672    	DL	-16776961
043EAD FF0000FF            A   673    	DL	-16776961
043EB1 FF0000FF            A   674    	DL	-16776961
043EB5 FF0000FF            A   675    	DL	-16776961
043EB9 FF0000FF            A   676    	DL	-16776961
043EBD FF0000FF            A   677    	DL	-16776961
043EC1 FF0000FF            A   678    	DL	-16776961
043EC5 000000FF            A   679    	DL	-16777216
043EC9 00000000            A   680    	DL	0
043ECD 00000000            A   681    	DL	0
043ED1 00000000            A   682    	DL	0
043ED5 00000000            A   683    	DL	0
043ED9 00000000            A   684    	DL	0
043EDD 404040FF            A   685    	DL	-12566464
043EE1 800000FF            A   686    	DL	-16777088
043EE5 FF0000FF            A   687    	DL	-16776961
043EE9 800000FF            A   688    	DL	-16777088
043EED FF0000FF            A   689    	DL	-16776961
043EF1 FF0000FF            A   690    	DL	-16776961
043EF5 FF0000FF            A   691    	DL	-16776961
043EF9 800000FF            A   692    	DL	-16777088
043EFD FF0000FF            A   693    	DL	-16776961
043F01 800000FF            A   694    	DL	-16777088
043F05 404040FF            A   695    	DL	-12566464
043F09 00000000            A   696    	DL	0
043F0D 00000000            A   697    	DL	0
043F11 00000000            A   698    	DL	0
043F15 00000000            A   699    	DL	0
043F19 000000FF            A   700    	DL	-16777216
043F1D 808000FF            A   701    	DL	-16744320
043F21 808000FF            A   702    	DL	-16744320
043F25 800000FF            A   703    	DL	-16777088
043F29 800000FF            A   704    	DL	-16777088
043F2D FF0000FF            A   705    	DL	-16776961
043F31 FF0000FF            A   706    	DL	-16776961
043F35 FF0000FF            A   707    	DL	-16776961
043F39 800000FF            A   708    	DL	-16777088
043F3D 800000FF            A   709    	DL	-16777088
043F41 808000FF            A   710    	DL	-16744320
043F45 808000FF            A   711    	DL	-16744320
043F49 000000FF            A   712    	DL	-16777216
043F4D 00000000            A   713    	DL	0
043F51 00000000            A   714    	DL	0
043F55 00000000            A   715    	DL	0
043F59 000000FF            A   716    	DL	-16777216
043F5D 808000FF            A   717    	DL	-16744320
043F61 808000FF            A   718    	DL	-16744320
043F65 000000FF            A   719    	DL	-16777216
043F69 000080FF            A   720    	DL	-8388608
043F6D 000080FF            A   721    	DL	-8388608
043F71 000080FF            A   722    	DL	-8388608
043F75 000080FF            A   723    	DL	-8388608
043F79 000080FF            A   724    	DL	-8388608
043F7D 000000FF            A   725    	DL	-16777216
043F81 808000FF            A   726    	DL	-16744320
043F85 808000FF            A   727    	DL	-16744320
043F89 000000FF            A   728    	DL	-16777216
043F8D 00000000            A   729    	DL	0
043F91 00000000            A   730    	DL	0
043F95 00000000            A   731    	DL	0
043F99 00000000            A   732    	DL	0
043F9D 000000FF            A   733    	DL	-16777216
043FA1 000000FF            A   734    	DL	-16777216
043FA5 000080FF            A   735    	DL	-8388608
043FA9 0000FFFF            A   736    	DL	-65536
043FAD 0000FFFF            A   737    	DL	-65536
043FB1 0000FFFF            A   738    	DL	-65536
043FB5 0000FFFF            A   739    	DL	-65536
043FB9 0000FFFF            A   740    	DL	-65536
043FBD 000080FF            A   741    	DL	-8388608
043FC1 000000FF            A   742    	DL	-16777216
043FC5 000000FF            A   743    	DL	-16777216
043FC9 00000000            A   744    	DL	0
043FCD 00000000            A   745    	DL	0
043FD1 00000000            A   746    	DL	0
043FD5 00000000            A   747    	DL	0
043FD9 00000000            A   748    	DL	0
043FDD 00000000            A   749    	DL	0
043FE1 000000FF            A   750    	DL	-16777216
043FE5 000080FF            A   751    	DL	-8388608
043FE9 0000FFFF            A   752    	DL	-65536
043FED 0000FFFF            A   753    	DL	-65536
043FF1 000080FF            A   754    	DL	-8388608
043FF5 0000FFFF            A   755    	DL	-65536
043FF9 0000FFFF            A   756    	DL	-65536
043FFD 000080FF            A   757    	DL	-8388608
044001 000000FF            A   758    	DL	-16777216
044005 00000000            A   759    	DL	0
044009 00000000            A   760    	DL	0
04400D 00000000            A   761    	DL	0
044011 00000000            A   762    	DL	0
044015 00000000            A   763    	DL	0
044019 00000000            A   764    	DL	0
04401D 00000000            A   765    	DL	0
044021 000000FF            A   766    	DL	-16777216
044025 0000FFFF            A   767    	DL	-65536
044029 0000FFFF            A   768    	DL	-65536
04402D 000080FF            A   769    	DL	-8388608
044031 000000FF            A   770    	DL	-16777216
044035 0000FFFF            A   771    	DL	-65536
044039 0000FFFF            A   772    	DL	-65536
04403D 0000FFFF            A   773    	DL	-65536
044041 000000FF            A   774    	DL	-16777216
044045 00000000            A   775    	DL	0
044049 00000000            A   776    	DL	0
04404D 00000000            A   777    	DL	0
044051 00000000            A   778    	DL	0
                           A   779    .DEFINE "player_data"
                           A   780    .ALIAS "_player_data"
                           A   781    .CLASS 69
                           A   782    .VALUE _player_data
                           A   783    .DIM 1
                           A   784    .DIM 256
                           A   785    .TYPE 879
                           A   786    .ENDEF
044055                     A   787    _goal_data:
044055 00000000            A   788    	DL	0
044059 00000000            A   789    	DL	0
04405D 00000000            A   790    	DL	0
044061 00000000            A   791    	DL	0
044065 00000000            A   792    	DL	0
044069 00000000            A   793    	DL	0
04406D 00000000            A   794    	DL	0
044071 00000000            A   795    	DL	0
044075 00000000            A   796    	DL	0
044079 00000000            A   797    	DL	0
04407D 00000000            A   798    	DL	0
044081 00000000            A   799    	DL	0
044085 00000000            A   800    	DL	0
044089 00000000            A   801    	DL	0
04408D 00000000            A   802    	DL	0
044091 00000000            A   803    	DL	0
044095 00000000            A   804    	DL	0
044099 00000000            A   805    	DL	0
04409D 00000000            A   806    	DL	0
0440A1 00000000            A   807    	DL	0
0440A5 00000000            A   808    	DL	0
0440A9 00000000            A   809    	DL	0
0440AD 00000000            A   810    	DL	0
0440B1 00000000            A   811    	DL	0
0440B5 00000000            A   812    	DL	0
0440B9 00000000            A   813    	DL	0
0440BD 00000000            A   814    	DL	0
0440C1 00000000            A   815    	DL	0
0440C5 00000000            A   816    	DL	0
0440C9 00000000            A   817    	DL	0
0440CD 00000000            A   818    	DL	0
0440D1 00000000            A   819    	DL	0
0440D5 00000000            A   820    	DL	0
0440D9 00000000            A   821    	DL	0
0440DD 00000000            A   822    	DL	0
0440E1 00000000            A   823    	DL	0
0440E5 00000000            A   824    	DL	0
0440E9 00000000            A   825    	DL	0
0440ED 00000000            A   826    	DL	0
0440F1 00000000            A   827    	DL	0
0440F5 00000000            A   828    	DL	0
0440F9 00000000            A   829    	DL	0
0440FD 00000000            A   830    	DL	0
044101 00000000            A   831    	DL	0
044105 00000000            A   832    	DL	0
044109 00000000            A   833    	DL	0
04410D 00000000            A   834    	DL	0
044111 00000000            A   835    	DL	0
044115 00000000            A   836    	DL	0
044119 00000000            A   837    	DL	0
04411D 00000000            A   838    	DL	0
044121 00000000            A   839    	DL	0
044125 00000000            A   840    	DL	0
044129 00000000            A   841    	DL	0
04412D 008000FF            A   842    	DL	-16744448
044131 00000000            A   843    	DL	0
044135 00000000            A   844    	DL	0
044139 008000FF            A   845    	DL	-16744448
04413D 00000000            A   846    	DL	0
044141 00000000            A   847    	DL	0
044145 00000000            A   848    	DL	0
044149 00000000            A   849    	DL	0
04414D 00000000            A   850    	DL	0
044151 00000000            A   851    	DL	0
044155 00000000            A   852    	DL	0
044159 00000000            A   853    	DL	0
04415D 00000000            A   854    	DL	0
044161 00000000            A   855    	DL	0
044165 00000000            A   856    	DL	0
044169 00000000            A   857    	DL	0
04416D 00000000            A   858    	DL	0
044171 008000FF            A   859    	DL	-16744448
044175 008000FF            A   860    	DL	-16744448
044179 00000000            A   861    	DL	0
04417D 00000000            A   862    	DL	0
044181 00000000            A   863    	DL	0
044185 00000000            A   864    	DL	0
044189 00000000            A   865    	DL	0
04418D 00000000            A   866    	DL	0
044191 00000000            A   867    	DL	0
044195 00000000            A   868    	DL	0
044199 00000000            A   869    	DL	0
04419D 00000000            A   870    	DL	0
0441A1 00000000            A   871    	DL	0
0441A5 00000000            A   872    	DL	0
0441A9 00000000            A   873    	DL	0
0441AD 00000000            A   874    	DL	0
0441B1 00000000            A   875    	DL	0
0441B5 00000000            A   876    	DL	0
0441B9 00000000            A   877    	DL	0
0441BD 00000000            A   878    	DL	0
0441C1 00000000            A   879    	DL	0
0441C5 00000000            A   880    	DL	0
0441C9 00000000            A   881    	DL	0
0441CD 00000000            A   882    	DL	0
0441D1 00000000            A   883    	DL	0
0441D5 00000000            A   884    	DL	0
0441D9 00000000            A   885    	DL	0
0441DD 00000000            A   886    	DL	0
0441E1 008000FF            A   887    	DL	-16744448
0441E5 00000000            A   888    	DL	0
0441E9 00000000            A   889    	DL	0
0441ED 00000000            A   890    	DL	0
0441F1 00000000            A   891    	DL	0
0441F5 00000000            A   892    	DL	0
0441F9 00000000            A   893    	DL	0
0441FD 00000000            A   894    	DL	0
044201 00000000            A   895    	DL	0
044205 008000FF            A   896    	DL	-16744448
044209 00000000            A   897    	DL	0
04420D 00000000            A   898    	DL	0
044211 00000000            A   899    	DL	0
044215 00000000            A   900    	DL	0
044219 00000000            A   901    	DL	0
04421D 00000000            A   902    	DL	0
044221 00000000            A   903    	DL	0
044225 008000FF            A   904    	DL	-16744448
044229 00000000            A   905    	DL	0
04422D 00000000            A   906    	DL	0
044231 00FF00FF            A   907    	DL	-16711936
044235 00FF00FF            A   908    	DL	-16711936
044239 00000000            A   909    	DL	0
04423D 00000000            A   910    	DL	0
044241 008000FF            A   911    	DL	-16744448
044245 00000000            A   912    	DL	0
044249 00000000            A   913    	DL	0
04424D 00000000            A   914    	DL	0
044251 00000000            A   915    	DL	0
044255 00000000            A   916    	DL	0
044259 00000000            A   917    	DL	0
04425D 00000000            A   918    	DL	0
044261 00000000            A   919    	DL	0
044265 008000FF            A   920    	DL	-16744448
044269 00000000            A   921    	DL	0
04426D 00000000            A   922    	DL	0
044271 00FF00FF            A   923    	DL	-16711936
044275 00FF00FF            A   924    	DL	-16711936
044279 00000000            A   925    	DL	0
04427D 00000000            A   926    	DL	0
044281 008000FF            A   927    	DL	-16744448
044285 00000000            A   928    	DL	0
044289 00000000            A   929    	DL	0
04428D 00000000            A   930    	DL	0
044291 00000000            A   931    	DL	0
044295 00000000            A   932    	DL	0
044299 00000000            A   933    	DL	0
04429D 00000000            A   934    	DL	0
0442A1 008000FF            A   935    	DL	-16744448
0442A5 00000000            A   936    	DL	0
0442A9 00000000            A   937    	DL	0
0442AD 00000000            A   938    	DL	0
0442B1 00000000            A   939    	DL	0
0442B5 00000000            A   940    	DL	0
0442B9 00000000            A   941    	DL	0
0442BD 00000000            A   942    	DL	0
0442C1 00000000            A   943    	DL	0
0442C5 008000FF            A   944    	DL	-16744448
0442C9 00000000            A   945    	DL	0
0442CD 00000000            A   946    	DL	0
0442D1 00000000            A   947    	DL	0
0442D5 00000000            A   948    	DL	0
0442D9 00000000            A   949    	DL	0
0442DD 00000000            A   950    	DL	0
0442E1 00000000            A   951    	DL	0
0442E5 00000000            A   952    	DL	0
0442E9 00000000            A   953    	DL	0
0442ED 00000000            A   954    	DL	0
0442F1 00000000            A   955    	DL	0
0442F5 00000000            A   956    	DL	0
0442F9 00000000            A   957    	DL	0
0442FD 00000000            A   958    	DL	0
044301 00000000            A   959    	DL	0
044305 00000000            A   960    	DL	0
044309 00000000            A   961    	DL	0
04430D 00000000            A   962    	DL	0
044311 00000000            A   963    	DL	0
044315 00000000            A   964    	DL	0
044319 00000000            A   965    	DL	0
04431D 00000000            A   966    	DL	0
044321 00000000            A   967    	DL	0
044325 00000000            A   968    	DL	0
044329 00000000            A   969    	DL	0
04432D 00000000            A   970    	DL	0
044331 008000FF            A   971    	DL	-16744448
044335 008000FF            A   972    	DL	-16744448
044339 00000000            A   973    	DL	0
04433D 00000000            A   974    	DL	0
044341 00000000            A   975    	DL	0
044345 00000000            A   976    	DL	0
044349 00000000            A   977    	DL	0
04434D 00000000            A   978    	DL	0
044351 00000000            A   979    	DL	0
044355 00000000            A   980    	DL	0
044359 00000000            A   981    	DL	0
04435D 00000000            A   982    	DL	0
044361 00000000            A   983    	DL	0
044365 00000000            A   984    	DL	0
044369 00000000            A   985    	DL	0
04436D 008000FF            A   986    	DL	-16744448
044371 00000000            A   987    	DL	0
044375 00000000            A   988    	DL	0
044379 008000FF            A   989    	DL	-16744448
04437D 00000000            A   990    	DL	0
044381 00000000            A   991    	DL	0
044385 00000000            A   992    	DL	0
044389 00000000            A   993    	DL	0
04438D 00000000            A   994    	DL	0
044391 00000000            A   995    	DL	0
044395 00000000            A   996    	DL	0
044399 00000000            A   997    	DL	0
04439D 00000000            A   998    	DL	0
0443A1 00000000            A   999    	DL	0
0443A5 00000000            A  1000    	DL	0
0443A9 00000000            A  1001    	DL	0
0443AD 00000000            A  1002    	DL	0
0443B1 00000000            A  1003    	DL	0
0443B5 00000000            A  1004    	DL	0
0443B9 00000000            A  1005    	DL	0
0443BD 00000000            A  1006    	DL	0
0443C1 00000000            A  1007    	DL	0
0443C5 00000000            A  1008    	DL	0
0443C9 00000000            A  1009    	DL	0
0443CD 00000000            A  1010    	DL	0
0443D1 00000000            A  1011    	DL	0
0443D5 00000000            A  1012    	DL	0
0443D9 00000000            A  1013    	DL	0
0443DD 00000000            A  1014    	DL	0
0443E1 00000000            A  1015    	DL	0
0443E5 00000000            A  1016    	DL	0
0443E9 00000000            A  1017    	DL	0
0443ED 00000000            A  1018    	DL	0
0443F1 00000000            A  1019    	DL	0
0443F5 00000000            A  1020    	DL	0
0443F9 00000000            A  1021    	DL	0
0443FD 00000000            A  1022    	DL	0
044401 00000000            A  1023    	DL	0
044405 00000000            A  1024    	DL	0
044409 00000000            A  1025    	DL	0
04440D 00000000            A  1026    	DL	0
044411 00000000            A  1027    	DL	0
044415 00000000            A  1028    	DL	0
044419 00000000            A  1029    	DL	0
04441D 00000000            A  1030    	DL	0
044421 00000000            A  1031    	DL	0
044425 00000000            A  1032    	DL	0
044429 00000000            A  1033    	DL	0
04442D 00000000            A  1034    	DL	0
044431 00000000            A  1035    	DL	0
044435 00000000            A  1036    	DL	0
044439 00000000            A  1037    	DL	0
04443D 00000000            A  1038    	DL	0
044441 00000000            A  1039    	DL	0
044445 00000000            A  1040    	DL	0
044449 00000000            A  1041    	DL	0
04444D 00000000            A  1042    	DL	0
044451 00000000            A  1043    	DL	0
                           A  1044    .DEFINE "goal_data"
                           A  1045    .ALIAS "_goal_data"
                           A  1046    .CLASS 69
                           A  1047    .VALUE _goal_data
                           A  1048    .DIM 1
                           A  1049    .DIM 256
                           A  1050    .TYPE 879
                           A  1051    .ENDEF
044455                     A  1052    _box_data:
044455 FFFF00FF            A  1053    	DL	-16711681
044459 FFFF00FF            A  1054    	DL	-16711681
04445D FFFF00FF            A  1055    	DL	-16711681
044461 FFFF00FF            A  1056    	DL	-16711681
044465 FFFF00FF            A  1057    	DL	-16711681
044469 FFFF00FF            A  1058    	DL	-16711681
04446D FFFF00FF            A  1059    	DL	-16711681
044471 FFFF00FF            A  1060    	DL	-16711681
044475 FFFF00FF            A  1061    	DL	-16711681
044479 FFFF00FF            A  1062    	DL	-16711681
04447D FFFF00FF            A  1063    	DL	-16711681
044481 FFFF00FF            A  1064    	DL	-16711681
044485 FFFF00FF            A  1065    	DL	-16711681
044489 FFFF00FF            A  1066    	DL	-16711681
04448D FFFF00FF            A  1067    	DL	-16711681
044491 FFFF00FF            A  1068    	DL	-16711681
044495 FFFF00FF            A  1069    	DL	-16711681
044499 808000FF            A  1070    	DL	-16744320
04449D 808000FF            A  1071    	DL	-16744320
0444A1 808000FF            A  1072    	DL	-16744320
0444A5 808000FF            A  1073    	DL	-16744320
0444A9 808000FF            A  1074    	DL	-16744320
0444AD 808000FF            A  1075    	DL	-16744320
0444B1 808000FF            A  1076    	DL	-16744320
0444B5 808000FF            A  1077    	DL	-16744320
0444B9 808000FF            A  1078    	DL	-16744320
0444BD 808000FF            A  1079    	DL	-16744320
0444C1 808000FF            A  1080    	DL	-16744320
0444C5 808000FF            A  1081    	DL	-16744320
0444C9 808000FF            A  1082    	DL	-16744320
0444CD FFFF00FF            A  1083    	DL	-16711681
0444D1 808000FF            A  1084    	DL	-16744320
0444D5 FFFF00FF            A  1085    	DL	-16711681
0444D9 808000FF            A  1086    	DL	-16744320
0444DD 000000FF            A  1087    	DL	-16777216
0444E1 000000FF            A  1088    	DL	-16777216
0444E5 000000FF            A  1089    	DL	-16777216
0444E9 000000FF            A  1090    	DL	-16777216
0444ED 000000FF            A  1091    	DL	-16777216
0444F1 000000FF            A  1092    	DL	-16777216
0444F5 000000FF            A  1093    	DL	-16777216
0444F9 000000FF            A  1094    	DL	-16777216
0444FD 000000FF            A  1095    	DL	-16777216
044501 000000FF            A  1096    	DL	-16777216
044505 000000FF            A  1097    	DL	-16777216
044509 000000FF            A  1098    	DL	-16777216
04450D FFFF00FF            A  1099    	DL	-16711681
044511 808000FF            A  1100    	DL	-16744320
044515 FFFF00FF            A  1101    	DL	-16711681
044519 808000FF            A  1102    	DL	-16744320
04451D 000000FF            A  1103    	DL	-16777216
044521 808000FF            A  1104    	DL	-16744320
044525 808000FF            A  1105    	DL	-16744320
044529 000000FF            A  1106    	DL	-16777216
04452D 808000FF            A  1107    	DL	-16744320
044531 808000FF            A  1108    	DL	-16744320
044535 808000FF            A  1109    	DL	-16744320
044539 808000FF            A  1110    	DL	-16744320
04453D 000000FF            A  1111    	DL	-16777216
044541 808000FF            A  1112    	DL	-16744320
044545 808000FF            A  1113    	DL	-16744320
044549 000000FF            A  1114    	DL	-16777216
04454D FFFF00FF            A  1115    	DL	-16711681
044551 808000FF            A  1116    	DL	-16744320
044555 FFFF00FF            A  1117    	DL	-16711681
044559 808000FF            A  1118    	DL	-16744320
04455D 000000FF            A  1119    	DL	-16777216
044561 808000FF            A  1120    	DL	-16744320
044565 FFFF00FF            A  1121    	DL	-16711681
044569 808000FF            A  1122    	DL	-16744320
04456D 000000FF            A  1123    	DL	-16777216
044571 FFFF00FF            A  1124    	DL	-16711681
044575 FFFF00FF            A  1125    	DL	-16711681
044579 000000FF            A  1126    	DL	-16777216
04457D 808000FF            A  1127    	DL	-16744320
044581 FFFF00FF            A  1128    	DL	-16711681
044585 808000FF            A  1129    	DL	-16744320
044589 000000FF            A  1130    	DL	-16777216
04458D FFFF00FF            A  1131    	DL	-16711681
044591 808000FF            A  1132    	DL	-16744320
044595 FFFF00FF            A  1133    	DL	-16711681
044599 808000FF            A  1134    	DL	-16744320
04459D 000000FF            A  1135    	DL	-16777216
0445A1 000000FF            A  1136    	DL	-16777216
0445A5 808000FF            A  1137    	DL	-16744320
0445A9 FFFF00FF            A  1138    	DL	-16711681
0445AD 808000FF            A  1139    	DL	-16744320
0445B1 000000FF            A  1140    	DL	-16777216
0445B5 000000FF            A  1141    	DL	-16777216
0445B9 808000FF            A  1142    	DL	-16744320
0445BD FFFF00FF            A  1143    	DL	-16711681
0445C1 808000FF            A  1144    	DL	-16744320
0445C5 000000FF            A  1145    	DL	-16777216
0445C9 000000FF            A  1146    	DL	-16777216
0445CD FFFF00FF            A  1147    	DL	-16711681
0445D1 808000FF            A  1148    	DL	-16744320
0445D5 FFFF00FF            A  1149    	DL	-16711681
0445D9 808000FF            A  1150    	DL	-16744320
0445DD 000000FF            A  1151    	DL	-16777216
0445E1 808000FF            A  1152    	DL	-16744320
0445E5 000000FF            A  1153    	DL	-16777216
0445E9 808000FF            A  1154    	DL	-16744320
0445ED FFFF00FF            A  1155    	DL	-16711681
0445F1 808000FF            A  1156    	DL	-16744320
0445F5 FFFF00FF            A  1157    	DL	-16711681
0445F9 FFFF00FF            A  1158    	DL	-16711681
0445FD 808000FF            A  1159    	DL	-16744320
044601 000000FF            A  1160    	DL	-16777216
044605 808000FF            A  1161    	DL	-16744320
044609 000000FF            A  1162    	DL	-16777216
04460D FFFF00FF            A  1163    	DL	-16711681
044611 808000FF            A  1164    	DL	-16744320
044615 FFFF00FF            A  1165    	DL	-16711681
044619 808000FF            A  1166    	DL	-16744320
04461D 000000FF            A  1167    	DL	-16777216
044621 808000FF            A  1168    	DL	-16744320
044625 FFFF00FF            A  1169    	DL	-16711681
044629 000000FF            A  1170    	DL	-16777216
04462D 808000FF            A  1171    	DL	-16744320
044631 FFFF00FF            A  1172    	DL	-16711681
044635 FFFF00FF            A  1173    	DL	-16711681
044639 808000FF            A  1174    	DL	-16744320
04463D 000000FF            A  1175    	DL	-16777216
044641 808000FF            A  1176    	DL	-16744320
044645 FFFF00FF            A  1177    	DL	-16711681
044649 000000FF            A  1178    	DL	-16777216
04464D FFFF00FF            A  1179    	DL	-16711681
044651 808000FF            A  1180    	DL	-16744320
044655 FFFF00FF            A  1181    	DL	-16711681
044659 808000FF            A  1182    	DL	-16744320
04465D 000000FF            A  1183    	DL	-16777216
044661 808000FF            A  1184    	DL	-16744320
044665 808000FF            A  1185    	DL	-16744320
044669 000000FF            A  1186    	DL	-16777216
04466D FFFF00FF            A  1187    	DL	-16711681
044671 FFFF00FF            A  1188    	DL	-16711681
044675 FFFF00FF            A  1189    	DL	-16711681
044679 FFFF00FF            A  1190    	DL	-16711681
04467D 000000FF            A  1191    	DL	-16777216
044681 808000FF            A  1192    	DL	-16744320
044685 FFFF00FF            A  1193    	DL	-16711681
044689 000000FF            A  1194    	DL	-16777216
04468D FFFF00FF            A  1195    	DL	-16711681
044691 808000FF            A  1196    	DL	-16744320
044695 FFFF00FF            A  1197    	DL	-16711681
044699 808000FF            A  1198    	DL	-16744320
04469D 000000FF            A  1199    	DL	-16777216
0446A1 808000FF            A  1200    	DL	-16744320
0446A5 000000FF            A  1201    	DL	-16777216
0446A9 808000FF            A  1202    	DL	-16744320
0446AD FFFF00FF            A  1203    	DL	-16711681
0446B1 808000FF            A  1204    	DL	-16744320
0446B5 FFFF00FF            A  1205    	DL	-16711681
0446B9 FFFF00FF            A  1206    	DL	-16711681
0446BD 808000FF            A  1207    	DL	-16744320
0446C1 000000FF            A  1208    	DL	-16777216
0446C5 FFFF00FF            A  1209    	DL	-16711681
0446C9 000000FF            A  1210    	DL	-16777216
0446CD FFFF00FF            A  1211    	DL	-16711681
0446D1 808000FF            A  1212    	DL	-16744320
0446D5 FFFF00FF            A  1213    	DL	-16711681
0446D9 808000FF            A  1214    	DL	-16744320
0446DD 000000FF            A  1215    	DL	-16777216
0446E1 000000FF            A  1216    	DL	-16777216
0446E5 808000FF            A  1217    	DL	-16744320
0446E9 FFFF00FF            A  1218    	DL	-16711681
0446ED 808000FF            A  1219    	DL	-16744320
0446F1 000000FF            A  1220    	DL	-16777216
0446F5 000000FF            A  1221    	DL	-16777216
0446F9 808000FF            A  1222    	DL	-16744320
0446FD FFFF00FF            A  1223    	DL	-16711681
044701 808000FF            A  1224    	DL	-16744320
044705 000000FF            A  1225    	DL	-16777216
044709 000000FF            A  1226    	DL	-16777216
04470D FFFF00FF            A  1227    	DL	-16711681
044711 808000FF            A  1228    	DL	-16744320
044715 FFFF00FF            A  1229    	DL	-16711681
044719 808000FF            A  1230    	DL	-16744320
04471D 000000FF            A  1231    	DL	-16777216
044721 808000FF            A  1232    	DL	-16744320
044725 FFFF00FF            A  1233    	DL	-16711681
044729 808000FF            A  1234    	DL	-16744320
04472D 000000FF            A  1235    	DL	-16777216
044731 808000FF            A  1236    	DL	-16744320
044735 FFFF00FF            A  1237    	DL	-16711681
044739 000000FF            A  1238    	DL	-16777216
04473D 808000FF            A  1239    	DL	-16744320
044741 FFFF00FF            A  1240    	DL	-16711681
044745 808000FF            A  1241    	DL	-16744320
044749 000000FF            A  1242    	DL	-16777216
04474D FFFF00FF            A  1243    	DL	-16711681
044751 808000FF            A  1244    	DL	-16744320
044755 FFFF00FF            A  1245    	DL	-16711681
044759 808000FF            A  1246    	DL	-16744320
04475D 000000FF            A  1247    	DL	-16777216
044761 808000FF            A  1248    	DL	-16744320
044765 808000FF            A  1249    	DL	-16744320
044769 000000FF            A  1250    	DL	-16777216
04476D 808000FF            A  1251    	DL	-16744320
044771 FFFF00FF            A  1252    	DL	-16711681
044775 FFFF00FF            A  1253    	DL	-16711681
044779 FFFF00FF            A  1254    	DL	-16711681
04477D 000000FF            A  1255    	DL	-16777216
044781 808000FF            A  1256    	DL	-16744320
044785 808000FF            A  1257    	DL	-16744320
044789 000000FF            A  1258    	DL	-16777216
04478D FFFF00FF            A  1259    	DL	-16711681
044791 808000FF            A  1260    	DL	-16744320
044795 FFFF00FF            A  1261    	DL	-16711681
044799 808000FF            A  1262    	DL	-16744320
04479D 000000FF            A  1263    	DL	-16777216
0447A1 000000FF            A  1264    	DL	-16777216
0447A5 000000FF            A  1265    	DL	-16777216
0447A9 000000FF            A  1266    	DL	-16777216
0447AD 000000FF            A  1267    	DL	-16777216
0447B1 000000FF            A  1268    	DL	-16777216
0447B5 000000FF            A  1269    	DL	-16777216
0447B9 000000FF            A  1270    	DL	-16777216
0447BD 000000FF            A  1271    	DL	-16777216
0447C1 000000FF            A  1272    	DL	-16777216
0447C5 000000FF            A  1273    	DL	-16777216
0447C9 000000FF            A  1274    	DL	-16777216
0447CD FFFF00FF            A  1275    	DL	-16711681
0447D1 808000FF            A  1276    	DL	-16744320
0447D5 FFFF00FF            A  1277    	DL	-16711681
0447D9 FFFF00FF            A  1278    	DL	-16711681
0447DD FFFF00FF            A  1279    	DL	-16711681
0447E1 FFFF00FF            A  1280    	DL	-16711681
0447E5 FFFF00FF            A  1281    	DL	-16711681
0447E9 FFFF00FF            A  1282    	DL	-16711681
0447ED FFFF00FF            A  1283    	DL	-16711681
0447F1 FFFF00FF            A  1284    	DL	-16711681
0447F5 FFFF00FF            A  1285    	DL	-16711681
0447F9 FFFF00FF            A  1286    	DL	-16711681
0447FD FFFF00FF            A  1287    	DL	-16711681
044801 FFFF00FF            A  1288    	DL	-16711681
044805 FFFF00FF            A  1289    	DL	-16711681
044809 FFFF00FF            A  1290    	DL	-16711681
04480D FFFF00FF            A  1291    	DL	-16711681
044811 808000FF            A  1292    	DL	-16744320
044815 FFFF00FF            A  1293    	DL	-16711681
044819 808000FF            A  1294    	DL	-16744320
04481D 808000FF            A  1295    	DL	-16744320
044821 808000FF            A  1296    	DL	-16744320
044825 808000FF            A  1297    	DL	-16744320
044829 808000FF            A  1298    	DL	-16744320
04482D 808000FF            A  1299    	DL	-16744320
044831 808000FF            A  1300    	DL	-16744320
044835 808000FF            A  1301    	DL	-16744320
044839 808000FF            A  1302    	DL	-16744320
04483D 808000FF            A  1303    	DL	-16744320
044841 808000FF            A  1304    	DL	-16744320
044845 808000FF            A  1305    	DL	-16744320
044849 808000FF            A  1306    	DL	-16744320
04484D 808000FF            A  1307    	DL	-16744320
044851 808000FF            A  1308    	DL	-16744320
                           A  1309    .DEFINE "box_data"
                           A  1310    .ALIAS "_box_data"
                           A  1311    .CLASS 69
                           A  1312    .VALUE _box_data
                           A  1313    .DIM 1
                           A  1314    .DIM 256
                           A  1315    .TYPE 879
                           A  1316    .ENDEF
044855                     A  1317    _boxongoal_data:
044855 FFFF00FF            A  1318    	DL	-16711681
044859 FFFF00FF            A  1319    	DL	-16711681
04485D FFFF00FF            A  1320    	DL	-16711681
044861 FFFF00FF            A  1321    	DL	-16711681
044865 FFFF00FF            A  1322    	DL	-16711681
044869 FFFF00FF            A  1323    	DL	-16711681
04486D FFFF00FF            A  1324    	DL	-16711681
044871 FFFF00FF            A  1325    	DL	-16711681
044875 FFFF00FF            A  1326    	DL	-16711681
044879 FFFF00FF            A  1327    	DL	-16711681
04487D FFFF00FF            A  1328    	DL	-16711681
044881 FFFF00FF            A  1329    	DL	-16711681
044885 FFFF00FF            A  1330    	DL	-16711681
044889 FFFF00FF            A  1331    	DL	-16711681
04488D FFFF00FF            A  1332    	DL	-16711681
044891 FFFF00FF            A  1333    	DL	-16711681
044895 FFFF00FF            A  1334    	DL	-16711681
044899 808000FF            A  1335    	DL	-16744320
04489D 808000FF            A  1336    	DL	-16744320
0448A1 808000FF            A  1337    	DL	-16744320
0448A5 808000FF            A  1338    	DL	-16744320
0448A9 808000FF            A  1339    	DL	-16744320
0448AD 808000FF            A  1340    	DL	-16744320
0448B1 808000FF            A  1341    	DL	-16744320
0448B5 808000FF            A  1342    	DL	-16744320
0448B9 808000FF            A  1343    	DL	-16744320
0448BD 808000FF            A  1344    	DL	-16744320
0448C1 808000FF            A  1345    	DL	-16744320
0448C5 808000FF            A  1346    	DL	-16744320
0448C9 808000FF            A  1347    	DL	-16744320
0448CD FFFF00FF            A  1348    	DL	-16711681
0448D1 808000FF            A  1349    	DL	-16744320
0448D5 FFFF00FF            A  1350    	DL	-16711681
0448D9 808000FF            A  1351    	DL	-16744320
0448DD 000000FF            A  1352    	DL	-16777216
0448E1 000000FF            A  1353    	DL	-16777216
0448E5 000000FF            A  1354    	DL	-16777216
0448E9 000000FF            A  1355    	DL	-16777216
0448ED 000000FF            A  1356    	DL	-16777216
0448F1 000000FF            A  1357    	DL	-16777216
0448F5 000000FF            A  1358    	DL	-16777216
0448F9 000000FF            A  1359    	DL	-16777216
0448FD 000000FF            A  1360    	DL	-16777216
044901 000000FF            A  1361    	DL	-16777216
044905 000000FF            A  1362    	DL	-16777216
044909 000000FF            A  1363    	DL	-16777216
04490D FFFF00FF            A  1364    	DL	-16711681
044911 808000FF            A  1365    	DL	-16744320
044915 FFFF00FF            A  1366    	DL	-16711681
044919 808000FF            A  1367    	DL	-16744320
04491D 000000FF            A  1368    	DL	-16777216
044921 808000FF            A  1369    	DL	-16744320
044925 808000FF            A  1370    	DL	-16744320
044929 000000FF            A  1371    	DL	-16777216
04492D 008000FF            A  1372    	DL	-16744448
044931 008000FF            A  1373    	DL	-16744448
044935 008000FF            A  1374    	DL	-16744448
044939 008000FF            A  1375    	DL	-16744448
04493D 000000FF            A  1376    	DL	-16777216
044941 808000FF            A  1377    	DL	-16744320
044945 808000FF            A  1378    	DL	-16744320
044949 000000FF            A  1379    	DL	-16777216
04494D FFFF00FF            A  1380    	DL	-16711681
044951 808000FF            A  1381    	DL	-16744320
044955 FFFF00FF            A  1382    	DL	-16711681
044959 808000FF            A  1383    	DL	-16744320
04495D 000000FF            A  1384    	DL	-16777216
044961 808000FF            A  1385    	DL	-16744320
044965 FFFF00FF            A  1386    	DL	-16711681
044969 808000FF            A  1387    	DL	-16744320
04496D 000000FF            A  1388    	DL	-16777216
044971 00FF00FF            A  1389    	DL	-16711936
044975 00FF00FF            A  1390    	DL	-16711936
044979 000000FF            A  1391    	DL	-16777216
04497D 808000FF            A  1392    	DL	-16744320
044981 FFFF00FF            A  1393    	DL	-16711681
044985 808000FF            A  1394    	DL	-16744320
044989 000000FF            A  1395    	DL	-16777216
04498D FFFF00FF            A  1396    	DL	-16711681
044991 808000FF            A  1397    	DL	-16744320
044995 FFFF00FF            A  1398    	DL	-16711681
044999 808000FF            A  1399    	DL	-16744320
04499D 000000FF            A  1400    	DL	-16777216
0449A1 000000FF            A  1401    	DL	-16777216
0449A5 808000FF            A  1402    	DL	-16744320
0449A9 FFFF00FF            A  1403    	DL	-16711681
0449AD 808000FF            A  1404    	DL	-16744320
0449B1 000000FF            A  1405    	DL	-16777216
0449B5 000000FF            A  1406    	DL	-16777216
0449B9 808000FF            A  1407    	DL	-16744320
0449BD FFFF00FF            A  1408    	DL	-16711681
0449C1 808000FF            A  1409    	DL	-16744320
0449C5 000000FF            A  1410    	DL	-16777216
0449C9 000000FF            A  1411    	DL	-16777216
0449CD FFFF00FF            A  1412    	DL	-16711681
0449D1 808000FF            A  1413    	DL	-16744320
0449D5 FFFF00FF            A  1414    	DL	-16711681
0449D9 808000FF            A  1415    	DL	-16744320
0449DD 000000FF            A  1416    	DL	-16777216
0449E1 008000FF            A  1417    	DL	-16744448
0449E5 000000FF            A  1418    	DL	-16777216
0449E9 808000FF            A  1419    	DL	-16744320
0449ED FFFF00FF            A  1420    	DL	-16711681
0449F1 808000FF            A  1421    	DL	-16744320
0449F5 FFFF00FF            A  1422    	DL	-16711681
0449F9 FFFF00FF            A  1423    	DL	-16711681
0449FD 808000FF            A  1424    	DL	-16744320
044A01 000000FF            A  1425    	DL	-16777216
044A05 008000FF            A  1426    	DL	-16744448
044A09 000000FF            A  1427    	DL	-16777216
044A0D FFFF00FF            A  1428    	DL	-16711681
044A11 808000FF            A  1429    	DL	-16744320
044A15 FFFF00FF            A  1430    	DL	-16711681
044A19 808000FF            A  1431    	DL	-16744320
044A1D 000000FF            A  1432    	DL	-16777216
044A21 008000FF            A  1433    	DL	-16744448
044A25 00FF00FF            A  1434    	DL	-16711936
044A29 000000FF            A  1435    	DL	-16777216
044A2D 808000FF            A  1436    	DL	-16744320
044A31 00FF00FF            A  1437    	DL	-16711936
044A35 00FF00FF            A  1438    	DL	-16711936
044A39 808000FF            A  1439    	DL	-16744320
044A3D 000000FF            A  1440    	DL	-16777216
044A41 00FF00FF            A  1441    	DL	-16711936
044A45 008000FF            A  1442    	DL	-16744448
044A49 000000FF            A  1443    	DL	-16777216
044A4D FFFF00FF            A  1444    	DL	-16711681
044A51 808000FF            A  1445    	DL	-16744320
044A55 FFFF00FF            A  1446    	DL	-16711681
044A59 808000FF            A  1447    	DL	-16744320
044A5D 000000FF            A  1448    	DL	-16777216
044A61 008000FF            A  1449    	DL	-16744448
044A65 00FF00FF            A  1450    	DL	-16711936
044A69 000000FF            A  1451    	DL	-16777216
044A6D FFFF00FF            A  1452    	DL	-16711681
044A71 00FF00FF            A  1453    	DL	-16711936
044A75 00FF00FF            A  1454    	DL	-16711936
044A79 FFFF00FF            A  1455    	DL	-16711681
044A7D 000000FF            A  1456    	DL	-16777216
044A81 00FF00FF            A  1457    	DL	-16711936
044A85 008000FF            A  1458    	DL	-16744448
044A89 000000FF            A  1459    	DL	-16777216
044A8D FFFF00FF            A  1460    	DL	-16711681
044A91 808000FF            A  1461    	DL	-16744320
044A95 FFFF00FF            A  1462    	DL	-16711681
044A99 808000FF            A  1463    	DL	-16744320
044A9D 000000FF            A  1464    	DL	-16777216
044AA1 008000FF            A  1465    	DL	-16744448
044AA5 000000FF            A  1466    	DL	-16777216
044AA9 808000FF            A  1467    	DL	-16744320
044AAD FFFF00FF            A  1468    	DL	-16711681
044AB1 808000FF            A  1469    	DL	-16744320
044AB5 FFFF00FF            A  1470    	DL	-16711681
044AB9 FFFF00FF            A  1471    	DL	-16711681
044ABD 808000FF            A  1472    	DL	-16744320
044AC1 000000FF            A  1473    	DL	-16777216
044AC5 008000FF            A  1474    	DL	-16744448
044AC9 000000FF            A  1475    	DL	-16777216
044ACD FFFF00FF            A  1476    	DL	-16711681
044AD1 808000FF            A  1477    	DL	-16744320
044AD5 FFFF00FF            A  1478    	DL	-16711681
044AD9 808000FF            A  1479    	DL	-16744320
044ADD 000000FF            A  1480    	DL	-16777216
044AE1 000000FF            A  1481    	DL	-16777216
044AE5 808000FF            A  1482    	DL	-16744320
044AE9 FFFF00FF            A  1483    	DL	-16711681
044AED 808000FF            A  1484    	DL	-16744320
044AF1 000000FF            A  1485    	DL	-16777216
044AF5 000000FF            A  1486    	DL	-16777216
044AF9 808000FF            A  1487    	DL	-16744320
044AFD FFFF00FF            A  1488    	DL	-16711681
044B01 808000FF            A  1489    	DL	-16744320
044B05 000000FF            A  1490    	DL	-16777216
044B09 000000FF            A  1491    	DL	-16777216
044B0D FFFF00FF            A  1492    	DL	-16711681
044B11 808000FF            A  1493    	DL	-16744320
044B15 FFFF00FF            A  1494    	DL	-16711681
044B19 808000FF            A  1495    	DL	-16744320
044B1D 000000FF            A  1496    	DL	-16777216
044B21 808000FF            A  1497    	DL	-16744320
044B25 FFFF00FF            A  1498    	DL	-16711681
044B29 808000FF            A  1499    	DL	-16744320
044B2D 000000FF            A  1500    	DL	-16777216
044B31 00FF00FF            A  1501    	DL	-16711936
044B35 00FF00FF            A  1502    	DL	-16711936
044B39 000000FF            A  1503    	DL	-16777216
044B3D 808000FF            A  1504    	DL	-16744320
044B41 FFFF00FF            A  1505    	DL	-16711681
044B45 808000FF            A  1506    	DL	-16744320
044B49 000000FF            A  1507    	DL	-16777216
044B4D FFFF00FF            A  1508    	DL	-16711681
044B51 808000FF            A  1509    	DL	-16744320
044B55 FFFF00FF            A  1510    	DL	-16711681
044B59 808000FF            A  1511    	DL	-16744320
044B5D 000000FF            A  1512    	DL	-16777216
044B61 808000FF            A  1513    	DL	-16744320
044B65 808000FF            A  1514    	DL	-16744320
044B69 000000FF            A  1515    	DL	-16777216
044B6D 008000FF            A  1516    	DL	-16744448
044B71 008000FF            A  1517    	DL	-16744448
044B75 008000FF            A  1518    	DL	-16744448
044B79 008000FF            A  1519    	DL	-16744448
044B7D 000000FF            A  1520    	DL	-16777216
044B81 808000FF            A  1521    	DL	-16744320
044B85 808000FF            A  1522    	DL	-16744320
044B89 000000FF            A  1523    	DL	-16777216
044B8D FFFF00FF            A  1524    	DL	-16711681
044B91 808000FF            A  1525    	DL	-16744320
044B95 FFFF00FF            A  1526    	DL	-16711681
044B99 808000FF            A  1527    	DL	-16744320
044B9D 000000FF            A  1528    	DL	-16777216
044BA1 000000FF            A  1529    	DL	-16777216
044BA5 000000FF            A  1530    	DL	-16777216
044BA9 000000FF            A  1531    	DL	-16777216
044BAD 000000FF            A  1532    	DL	-16777216
044BB1 000000FF            A  1533    	DL	-16777216
044BB5 000000FF            A  1534    	DL	-16777216
044BB9 000000FF            A  1535    	DL	-16777216
044BBD 000000FF            A  1536    	DL	-16777216
044BC1 000000FF            A  1537    	DL	-16777216
044BC5 000000FF            A  1538    	DL	-16777216
044BC9 000000FF            A  1539    	DL	-16777216
044BCD FFFF00FF            A  1540    	DL	-16711681
044BD1 808000FF            A  1541    	DL	-16744320
044BD5 FFFF00FF            A  1542    	DL	-16711681
044BD9 FFFF00FF            A  1543    	DL	-16711681
044BDD FFFF00FF            A  1544    	DL	-16711681
044BE1 FFFF00FF            A  1545    	DL	-16711681
044BE5 FFFF00FF            A  1546    	DL	-16711681
044BE9 FFFF00FF            A  1547    	DL	-16711681
044BED FFFF00FF            A  1548    	DL	-16711681
044BF1 FFFF00FF            A  1549    	DL	-16711681
044BF5 FFFF00FF            A  1550    	DL	-16711681
044BF9 FFFF00FF            A  1551    	DL	-16711681
044BFD FFFF00FF            A  1552    	DL	-16711681
044C01 FFFF00FF            A  1553    	DL	-16711681
044C05 FFFF00FF            A  1554    	DL	-16711681
044C09 FFFF00FF            A  1555    	DL	-16711681
044C0D FFFF00FF            A  1556    	DL	-16711681
044C11 808000FF            A  1557    	DL	-16744320
044C15 FFFF00FF            A  1558    	DL	-16711681
044C19 808000FF            A  1559    	DL	-16744320
044C1D 808000FF            A  1560    	DL	-16744320
044C21 808000FF            A  1561    	DL	-16744320
044C25 808000FF            A  1562    	DL	-16744320
044C29 808000FF            A  1563    	DL	-16744320
044C2D 808000FF            A  1564    	DL	-16744320
044C31 808000FF            A  1565    	DL	-16744320
044C35 808000FF            A  1566    	DL	-16744320
044C39 808000FF            A  1567    	DL	-16744320
044C3D 808000FF            A  1568    	DL	-16744320
044C41 808000FF            A  1569    	DL	-16744320
044C45 808000FF            A  1570    	DL	-16744320
044C49 808000FF            A  1571    	DL	-16744320
044C4D 808000FF            A  1572    	DL	-16744320
044C51 808000FF            A  1573    	DL	-16744320
                           A  1574    .DEFINE "boxongoal_data"
                           A  1575    .ALIAS "_boxongoal_data"
                           A  1576    .CLASS 69
                           A  1577    .VALUE _boxongoal_data
                           A  1578    .DIM 1
                           A  1579    .DIM 256
                           A  1580    .TYPE 879
                           A  1581    .ENDEF
044C55                     A  1582    _boxmini_data:
044C55 000000FF            A  1583    	DL	-16777216
044C59 000000FF            A  1584    	DL	-16777216
044C5D 000000FF            A  1585    	DL	-16777216
044C61 000000FF            A  1586    	DL	-16777216
044C65 000000FF            A  1587    	DL	-16777216
044C69 000000FF            A  1588    	DL	-16777216
044C6D 000000FF            A  1589    	DL	-16777216
044C71 000000FF            A  1590    	DL	-16777216
044C75 000000FF            A  1591    	DL	-16777216
044C79 808000FF            A  1592    	DL	-16744320
044C7D FFFF00FF            A  1593    	DL	-16711681
044C81 FFFF00FF            A  1594    	DL	-16711681
044C85 FFFF00FF            A  1595    	DL	-16711681
044C89 FFFF00FF            A  1596    	DL	-16711681
044C8D 808000FF            A  1597    	DL	-16744320
044C91 000000FF            A  1598    	DL	-16777216
044C95 000000FF            A  1599    	DL	-16777216
044C99 FFFF00FF            A  1600    	DL	-16711681
044C9D 000000FF            A  1601    	DL	-16777216
044CA1 808000FF            A  1602    	DL	-16744320
044CA5 808000FF            A  1603    	DL	-16744320
044CA9 000000FF            A  1604    	DL	-16777216
044CAD FFFF00FF            A  1605    	DL	-16711681
044CB1 000000FF            A  1606    	DL	-16777216
044CB5 000000FF            A  1607    	DL	-16777216
044CB9 FFFF00FF            A  1608    	DL	-16711681
044CBD 808000FF            A  1609    	DL	-16744320
044CC1 000000FF            A  1610    	DL	-16777216
044CC5 000000FF            A  1611    	DL	-16777216
044CC9 808000FF            A  1612    	DL	-16744320
044CCD FFFF00FF            A  1613    	DL	-16711681
044CD1 000000FF            A  1614    	DL	-16777216
044CD5 000000FF            A  1615    	DL	-16777216
044CD9 FFFF00FF            A  1616    	DL	-16711681
044CDD 808000FF            A  1617    	DL	-16744320
044CE1 000000FF            A  1618    	DL	-16777216
044CE5 000000FF            A  1619    	DL	-16777216
044CE9 808000FF            A  1620    	DL	-16744320
044CED FFFF00FF            A  1621    	DL	-16711681
044CF1 000000FF            A  1622    	DL	-16777216
044CF5 000000FF            A  1623    	DL	-16777216
044CF9 FFFF00FF            A  1624    	DL	-16711681
044CFD 000000FF            A  1625    	DL	-16777216
044D01 808000FF            A  1626    	DL	-16744320
044D05 808000FF            A  1627    	DL	-16744320
044D09 000000FF            A  1628    	DL	-16777216
044D0D FFFF00FF            A  1629    	DL	-16711681
044D11 000000FF            A  1630    	DL	-16777216
044D15 000000FF            A  1631    	DL	-16777216
044D19 808000FF            A  1632    	DL	-16744320
044D1D FFFF00FF            A  1633    	DL	-16711681
044D21 FFFF00FF            A  1634    	DL	-16711681
044D25 FFFF00FF            A  1635    	DL	-16711681
044D29 FFFF00FF            A  1636    	DL	-16711681
044D2D 808000FF            A  1637    	DL	-16744320
044D31 000000FF            A  1638    	DL	-16777216
044D35 000000FF            A  1639    	DL	-16777216
044D39 000000FF            A  1640    	DL	-16777216
044D3D 000000FF            A  1641    	DL	-16777216
044D41 000000FF            A  1642    	DL	-16777216
044D45 000000FF            A  1643    	DL	-16777216
044D49 000000FF            A  1644    	DL	-16777216
044D4D 000000FF            A  1645    	DL	-16777216
044D51 000000FF            A  1646    	DL	-16777216
                           A  1647    .DEFINE "boxmini_data"
                           A  1648    .ALIAS "_boxmini_data"
                           A  1649    .CLASS 69
                           A  1650    .VALUE _boxmini_data
                           A  1651    .DIM 1
                           A  1652    .DIM 64
                           A  1653    .TYPE 879
                           A  1654    .ENDEF
044D55                     A  1655    _wallmini_data:
044D55 808000FF            A  1656    	DL	-16744320
044D59 808000FF            A  1657    	DL	-16744320
044D5D 808000FF            A  1658    	DL	-16744320
044D61 404040FF            A  1659    	DL	-12566464
044D65 808000FF            A  1660    	DL	-16744320
044D69 808000FF            A  1661    	DL	-16744320
044D6D 808000FF            A  1662    	DL	-16744320
044D71 808000FF            A  1663    	DL	-16744320
044D75 800000FF            A  1664    	DL	-16777088
044D79 800000FF            A  1665    	DL	-16777088
044D7D 800000FF            A  1666    	DL	-16777088
044D81 404040FF            A  1667    	DL	-12566464
044D85 808000FF            A  1668    	DL	-16744320
044D89 800000FF            A  1669    	DL	-16777088
044D8D 800000FF            A  1670    	DL	-16777088
044D91 808080FF            A  1671    	DL	-8355712
044D95 800000FF            A  1672    	DL	-16777088
044D99 800000FF            A  1673    	DL	-16777088
044D9D 800000FF            A  1674    	DL	-16777088
044DA1 404040FF            A  1675    	DL	-12566464
044DA5 808000FF            A  1676    	DL	-16744320
044DA9 800000FF            A  1677    	DL	-16777088
044DAD 800000FF            A  1678    	DL	-16777088
044DB1 800000FF            A  1679    	DL	-16777088
044DB5 404040FF            A  1680    	DL	-12566464
044DB9 404040FF            A  1681    	DL	-12566464
044DBD 404040FF            A  1682    	DL	-12566464
044DC1 404040FF            A  1683    	DL	-12566464
044DC5 404040FF            A  1684    	DL	-12566464
044DC9 404040FF            A  1685    	DL	-12566464
044DCD 404040FF            A  1686    	DL	-12566464
044DD1 404040FF            A  1687    	DL	-12566464
044DD5 404040FF            A  1688    	DL	-12566464
044DD9 808000FF            A  1689    	DL	-16744320
044DDD 808000FF            A  1690    	DL	-16744320
044DE1 808000FF            A  1691    	DL	-16744320
044DE5 808000FF            A  1692    	DL	-16744320
044DE9 808000FF            A  1693    	DL	-16744320
044DED 808000FF            A  1694    	DL	-16744320
044DF1 808000FF            A  1695    	DL	-16744320
044DF5 404040FF            A  1696    	DL	-12566464
044DF9 808000FF            A  1697    	DL	-16744320
044DFD 800000FF            A  1698    	DL	-16777088
044E01 800000FF            A  1699    	DL	-16777088
044E05 808080FF            A  1700    	DL	-8355712
044E09 800000FF            A  1701    	DL	-16777088
044E0D 800000FF            A  1702    	DL	-16777088
044E11 800000FF            A  1703    	DL	-16777088
044E15 404040FF            A  1704    	DL	-12566464
044E19 808000FF            A  1705    	DL	-16744320
044E1D 800000FF            A  1706    	DL	-16777088
044E21 800000FF            A  1707    	DL	-16777088
044E25 800000FF            A  1708    	DL	-16777088
044E29 800000FF            A  1709    	DL	-16777088
044E2D 800000FF            A  1710    	DL	-16777088
044E31 800000FF            A  1711    	DL	-16777088
044E35 404040FF            A  1712    	DL	-12566464
044E39 404040FF            A  1713    	DL	-12566464
044E3D 404040FF            A  1714    	DL	-12566464
044E41 404040FF            A  1715    	DL	-12566464
044E45 404040FF            A  1716    	DL	-12566464
044E49 404040FF            A  1717    	DL	-12566464
044E4D 404040FF            A  1718    	DL	-12566464
044E51 404040FF            A  1719    	DL	-12566464
                           A  1720    .DEFINE "wallmini_data"
                           A  1721    .ALIAS "_wallmini_data"
                           A  1722    .CLASS 69
                           A  1723    .VALUE _wallmini_data
                           A  1724    .DIM 1
                           A  1725    .DIM 64
                           A  1726    .TYPE 879
                           A  1727    .ENDEF
044E55                     A  1728    _goalmini_data:
044E55 000000FF            A  1729    	DL	-16777216
044E59 000000FF            A  1730    	DL	-16777216
044E5D 000000FF            A  1731    	DL	-16777216
044E61 000000FF            A  1732    	DL	-16777216
044E65 000000FF            A  1733    	DL	-16777216
044E69 000000FF            A  1734    	DL	-16777216
044E6D 000000FF            A  1735    	DL	-16777216
044E71 000000FF            A  1736    	DL	-16777216
044E75 000000FF            A  1737    	DL	-16777216
044E79 000000FF            A  1738    	DL	-16777216
044E7D 000000FF            A  1739    	DL	-16777216
044E81 000000FF            A  1740    	DL	-16777216
044E85 000000FF            A  1741    	DL	-16777216
044E89 000000FF            A  1742    	DL	-16777216
044E8D 000000FF            A  1743    	DL	-16777216
044E91 000000FF            A  1744    	DL	-16777216
044E95 000000FF            A  1745    	DL	-16777216
044E99 000000FF            A  1746    	DL	-16777216
044E9D 00FF00FF            A  1747    	DL	-16711936
044EA1 000000FF            A  1748    	DL	-16777216
044EA5 000000FF            A  1749    	DL	-16777216
044EA9 00FF00FF            A  1750    	DL	-16711936
044EAD 000000FF            A  1751    	DL	-16777216
044EB1 000000FF            A  1752    	DL	-16777216
044EB5 000000FF            A  1753    	DL	-16777216
044EB9 000000FF            A  1754    	DL	-16777216
044EBD 000000FF            A  1755    	DL	-16777216
044EC1 00FF00FF            A  1756    	DL	-16711936
044EC5 00FF00FF            A  1757    	DL	-16711936
044EC9 000000FF            A  1758    	DL	-16777216
044ECD 000000FF            A  1759    	DL	-16777216
044ED1 000000FF            A  1760    	DL	-16777216
044ED5 000000FF            A  1761    	DL	-16777216
044ED9 000000FF            A  1762    	DL	-16777216
044EDD 000000FF            A  1763    	DL	-16777216
044EE1 00FF00FF            A  1764    	DL	-16711936
044EE5 00FF00FF            A  1765    	DL	-16711936
044EE9 000000FF            A  1766    	DL	-16777216
044EED 000000FF            A  1767    	DL	-16777216
044EF1 000000FF            A  1768    	DL	-16777216
044EF5 000000FF            A  1769    	DL	-16777216
044EF9 000000FF            A  1770    	DL	-16777216
044EFD 00FF00FF            A  1771    	DL	-16711936
044F01 000000FF            A  1772    	DL	-16777216
044F05 000000FF            A  1773    	DL	-16777216
044F09 00FF00FF            A  1774    	DL	-16711936
044F0D 000000FF            A  1775    	DL	-16777216
044F11 000000FF            A  1776    	DL	-16777216
044F15 000000FF            A  1777    	DL	-16777216
044F19 000000FF            A  1778    	DL	-16777216
044F1D 000000FF            A  1779    	DL	-16777216
044F21 000000FF            A  1780    	DL	-16777216
044F25 000000FF            A  1781    	DL	-16777216
044F29 000000FF            A  1782    	DL	-16777216
044F2D 000000FF            A  1783    	DL	-16777216
044F31 000000FF            A  1784    	DL	-16777216
044F35 000000FF            A  1785    	DL	-16777216
044F39 000000FF            A  1786    	DL	-16777216
044F3D 000000FF            A  1787    	DL	-16777216
044F41 000000FF            A  1788    	DL	-16777216
044F45 000000FF            A  1789    	DL	-16777216
044F49 000000FF            A  1790    	DL	-16777216
044F4D 000000FF            A  1791    	DL	-16777216
044F51 000000FF            A  1792    	DL	-16777216
                           A  1793    .DEFINE "goalmini_data"
                           A  1794    .ALIAS "_goalmini_data"
                           A  1795    .CLASS 69
                           A  1796    .VALUE _goalmini_data
                           A  1797    .DIM 1
                           A  1798    .DIM 64
                           A  1799    .TYPE 879
                           A  1800    .ENDEF
044F55                     A  1801    _boxongoalmini_data:
044F55 000000FF            A  1802    	DL	-16777216
044F59 000000FF            A  1803    	DL	-16777216
044F5D 000000FF            A  1804    	DL	-16777216
044F61 000000FF            A  1805    	DL	-16777216
044F65 000000FF            A  1806    	DL	-16777216
044F69 000000FF            A  1807    	DL	-16777216
044F6D 000000FF            A  1808    	DL	-16777216
044F71 000000FF            A  1809    	DL	-16777216
044F75 000000FF            A  1810    	DL	-16777216
044F79 808000FF            A  1811    	DL	-16744320
044F7D FFFF00FF            A  1812    	DL	-16711681
044F81 FFFF00FF            A  1813    	DL	-16711681
044F85 FFFF00FF            A  1814    	DL	-16711681
044F89 FFFF00FF            A  1815    	DL	-16711681
044F8D 808000FF            A  1816    	DL	-16744320
044F91 000000FF            A  1817    	DL	-16777216
044F95 000000FF            A  1818    	DL	-16777216
044F99 FFFF00FF            A  1819    	DL	-16711681
044F9D 000000FF            A  1820    	DL	-16777216
044FA1 808000FF            A  1821    	DL	-16744320
044FA5 808000FF            A  1822    	DL	-16744320
044FA9 000000FF            A  1823    	DL	-16777216
044FAD FFFF00FF            A  1824    	DL	-16711681
044FB1 000000FF            A  1825    	DL	-16777216
044FB5 000000FF            A  1826    	DL	-16777216
044FB9 FFFF00FF            A  1827    	DL	-16711681
044FBD 808000FF            A  1828    	DL	-16744320
044FC1 00FF00FF            A  1829    	DL	-16711936
044FC5 00FF00FF            A  1830    	DL	-16711936
044FC9 808000FF            A  1831    	DL	-16744320
044FCD FFFF00FF            A  1832    	DL	-16711681
044FD1 000000FF            A  1833    	DL	-16777216
044FD5 000000FF            A  1834    	DL	-16777216
044FD9 FFFF00FF            A  1835    	DL	-16711681
044FDD 808000FF            A  1836    	DL	-16744320
044FE1 00FF00FF            A  1837    	DL	-16711936
044FE5 00FF00FF            A  1838    	DL	-16711936
044FE9 808000FF            A  1839    	DL	-16744320
044FED FFFF00FF            A  1840    	DL	-16711681
044FF1 000000FF            A  1841    	DL	-16777216
044FF5 000000FF            A  1842    	DL	-16777216
044FF9 FFFF00FF            A  1843    	DL	-16711681
044FFD 000000FF            A  1844    	DL	-16777216
045001 808000FF            A  1845    	DL	-16744320
045005 808000FF            A  1846    	DL	-16744320
045009 000000FF            A  1847    	DL	-16777216
04500D FFFF00FF            A  1848    	DL	-16711681
045011 000000FF            A  1849    	DL	-16777216
045015 000000FF            A  1850    	DL	-16777216
045019 808000FF            A  1851    	DL	-16744320
04501D FFFF00FF            A  1852    	DL	-16711681
045021 FFFF00FF            A  1853    	DL	-16711681
045025 FFFF00FF            A  1854    	DL	-16711681
045029 FFFF00FF            A  1855    	DL	-16711681
04502D 808000FF            A  1856    	DL	-16744320
045031 000000FF            A  1857    	DL	-16777216
045035 000000FF            A  1858    	DL	-16777216
045039 000000FF            A  1859    	DL	-16777216
04503D 000000FF            A  1860    	DL	-16777216
045041 000000FF            A  1861    	DL	-16777216
045045 000000FF            A  1862    	DL	-16777216
045049 000000FF            A  1863    	DL	-16777216
04504D 000000FF            A  1864    	DL	-16777216
045051 000000FF            A  1865    	DL	-16777216
                           A  1866    .DEFINE "boxongoalmini_data"
                           A  1867    .ALIAS "_boxongoalmini_data"
                           A  1868    .CLASS 69
                           A  1869    .VALUE _boxongoalmini_data
                           A  1870    .DIM 1
                           A  1871    .DIM 64
                           A  1872    .TYPE 879
                           A  1873    .ENDEF
045055                     A  1874    _playermini_data:
045055 000000FF            A  1875    	DL	-16777216
045059 000000FF            A  1876    	DL	-16777216
04505D 404040FF            A  1877    	DL	-12566464
045061 404040FF            A  1878    	DL	-12566464
045065 404040FF            A  1879    	DL	-12566464
045069 404040FF            A  1880    	DL	-12566464
04506D 404040FF            A  1881    	DL	-12566464
045071 000000FF            A  1882    	DL	-16777216
045075 000000FF            A  1883    	DL	-16777216
045079 000000FF            A  1884    	DL	-16777216
04507D 404040FF            A  1885    	DL	-12566464
045081 808000FF            A  1886    	DL	-16744320
045085 808000FF            A  1887    	DL	-16744320
045089 808000FF            A  1888    	DL	-16744320
04508D 404040FF            A  1889    	DL	-12566464
045091 000000FF            A  1890    	DL	-16777216
045095 000000FF            A  1891    	DL	-16777216
045099 000000FF            A  1892    	DL	-16777216
04509D 000000FF            A  1893    	DL	-16777216
0450A1 808000FF            A  1894    	DL	-16744320
0450A5 808000FF            A  1895    	DL	-16744320
0450A9 808000FF            A  1896    	DL	-16744320
0450AD 000000FF            A  1897    	DL	-16777216
0450B1 000000FF            A  1898    	DL	-16777216
0450B5 000000FF            A  1899    	DL	-16777216
0450B9 000000FF            A  1900    	DL	-16777216
0450BD 000000FF            A  1901    	DL	-16777216
0450C1 404040FF            A  1902    	DL	-12566464
0450C5 800000FF            A  1903    	DL	-16777088
0450C9 404040FF            A  1904    	DL	-12566464
0450CD 000000FF            A  1905    	DL	-16777216
0450D1 000000FF            A  1906    	DL	-16777216
0450D5 000000FF            A  1907    	DL	-16777216
0450D9 000000FF            A  1908    	DL	-16777216
0450DD 808000FF            A  1909    	DL	-16744320
0450E1 FF0000FF            A  1910    	DL	-16776961
0450E5 FF0000FF            A  1911    	DL	-16776961
0450E9 FF0000FF            A  1912    	DL	-16776961
0450ED 808000FF            A  1913    	DL	-16744320
0450F1 000000FF            A  1914    	DL	-16777216
0450F5 000000FF            A  1915    	DL	-16777216
0450F9 000000FF            A  1916    	DL	-16777216
0450FD 000000FF            A  1917    	DL	-16777216
045101 FF0000FF            A  1918    	DL	-16776961
045105 FF0000FF            A  1919    	DL	-16776961
045109 FF0000FF            A  1920    	DL	-16776961
04510D 000000FF            A  1921    	DL	-16777216
045111 000000FF            A  1922    	DL	-16777216
045115 000000FF            A  1923    	DL	-16777216
045119 000000FF            A  1924    	DL	-16777216
04511D 000000FF            A  1925    	DL	-16777216
045121 0000FFFF            A  1926    	DL	-65536
045125 000080FF            A  1927    	DL	-8388608
045129 0000FFFF            A  1928    	DL	-65536
04512D 000000FF            A  1929    	DL	-16777216
045131 000000FF            A  1930    	DL	-16777216
045135 000000FF            A  1931    	DL	-16777216
045139 000000FF            A  1932    	DL	-16777216
04513D 0000FFFF            A  1933    	DL	-65536
045141 0000FFFF            A  1934    	DL	-65536
045145 000000FF            A  1935    	DL	-16777216
045149 0000FFFF            A  1936    	DL	-65536
04514D 0000FFFF            A  1937    	DL	-65536
045151 000000FF            A  1938    	DL	-16777216
                           A  1939    .DEFINE "playermini_data"
                           A  1940    .ALIAS "_playermini_data"
                           A  1941    .CLASS 69
                           A  1942    .VALUE _playermini_data
                           A  1943    .DIM 1
                           A  1944    .DIM 64
                           A  1945    .TYPE 879
                           A  1946    .ENDEF
                           A  1947    ;    1	#include "game.h"
                           A  1948    ;    2	#include "sokobanprep.h"
                           A  1949    ;    3	#include "vdp.h"
                           A  1950    ;    4	#include <ctype.h>
                           A  1951    ;    5	#include <stdio.h>
                           A  1952    ;    6	#include <string.h>
                           A  1953    ;    7	#include "agontimer.h"
                           A  1954    ;    8	
                           A  1955    ;    9	struct undoitem undomove[UNDOBUFFERSIZE
                           A  1956    ;   10	UINT8 undo_head;
                           A  1957    ;   11	UINT8 num_undomoves;
                           A  1958    ;   12	
                           A  1959    ;   13	UINT32 bitmapbuffer[BITMAPSIZE];	// 
                           A  1960    ;   14	UINT8 sprites[MAXHEIGHT][MAXWIDTH]; // 
                           A  1961    ;   15	struct sokobanlevel currentlevel;	// 
                           A  1962    ;   16	UINT8 spritenumber;					// 
                           A  1963    ;   17	
                           A  1964    ;   18	UINT32 wall_data[1][256] = {
                           A  1965    ;   19	{
                           A  1966    ;   20	0xff008080, 0xff008080, 0xff008080, 0xf
                           A  1967    ;   21	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1968    ;   22	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1969    ;   23	0xff000080, 0xff000080, 0xff808080, 0xf
                           A  1970    ;   24	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1971    ;   25	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  1972    ;   26	0xff808080, 0xff808080, 0xff808080, 0xf
                           A  1973    ;   27	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1974    ;   28	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1975    ;   29	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  1976    ;   30	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1977    ;   31	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1978    ;   32	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1979    ;   33	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  1980    ;   34	0xff404040, 0xff008080, 0xff808080, 0xf
                           A  1981    ;   35	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  1982    ;   36	}
                           A  1983    ;   37	};
                           A  1984    ;   38	
                           A  1985    ;   39	UINT32 player_data[1][256] = {
                           A  1986    ;   40	{
                           A  1987    ;   41	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1988    ;   42	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1989    ;   43	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1990    ;   44	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1991    ;   45	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1992    ;   46	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1993    ;   47	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1994    ;   48	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  1995    ;   49	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  1996    ;   50	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  1997    ;   51	0x00000000, 0x00000000, 0xff404040, 0xf
                           A  1998    ;   52	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  1999    ;   53	0x00000000, 0xff000000, 0xff008080, 0xf
                           A  2000    ;   54	0x00000000, 0x00000000, 0xff000000, 0xf
                           A  2001    ;   55	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  2002    ;   56	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  2003    ;   57	}
                           A  2004    ;   58	};
                           A  2005    ;   59	
                           A  2006    ;   60	UINT32 goal_data[1][256] = {
                           A  2007    ;   61	{
                           A  2008    ;   62	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2009    ;   63	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2010    ;   64	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2011    ;   65	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2012    ;   66	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2013    ;   67	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2014    ;   68	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  2015    ;   69	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2016    ;   70	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2017    ;   71	0x00000000, 0x00000000, 0x00000000, 0xf
                           A  2018    ;   72	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2019    ;   73	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2020    ;   74	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2021    ;   75	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2022    ;   76	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2023    ;   77	0x00000000, 0x00000000, 0x00000000, 0x0
                           A  2024    ;   78	}
                           A  2025    ;   79	};
                           A  2026    ;   80	
                           A  2027    ;   81	UINT32 box_data[1][256] = {
                           A  2028    ;   82	{
                           A  2029    ;   83	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2030    ;   84	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2031    ;   85	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2032    ;   86	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2033    ;   87	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2034    ;   88	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2035    ;   89	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2036    ;   90	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2037    ;   91	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2038    ;   92	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2039    ;   93	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2040    ;   94	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2041    ;   95	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2042    ;   96	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2043    ;   97	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2044    ;   98	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2045    ;   99	}
                           A  2046    ;  100	};
                           A  2047    ;  101	
                           A  2048    ;  102	UINT32 boxongoal_data[1][256] = {
                           A  2049    ;  103	{
                           A  2050    ;  104	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2051    ;  105	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2052    ;  106	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2053    ;  107	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2054    ;  108	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2055    ;  109	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2056    ;  110	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2057    ;  111	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2058    ;  112	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2059    ;  113	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2060    ;  114	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2061    ;  115	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2062    ;  116	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2063    ;  117	0xff00ffff, 0xff008080, 0xff000000, 0xf
                           A  2064    ;  118	0xff00ffff, 0xff00ffff, 0xff00ffff, 0xf
                           A  2065    ;  119	0xff00ffff, 0xff008080, 0xff008080, 0xf
                           A  2066    ;  120	}
                           A  2067    ;  121	};
                           A  2068    ;  122	
                           A  2069    ;  123	UINT32 boxmini_data[1][64] = {
                           A  2070    ;  124	{
                           A  2071    ;  125	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2072    ;  126	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2073    ;  127	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2074    ;  128	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2075    ;  129	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2076    ;  130	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2077    ;  131	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2078    ;  132	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2079    ;  133	}
                           A  2080    ;  134	};
                           A  2081    ;  135	
                           A  2082    ;  136	UINT32 wallmini_data[1][64] = {
                           A  2083    ;  137	{
                           A  2084    ;  138	0xff008080, 0xff008080, 0xff008080, 0xf
                           A  2085    ;  139	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  2086    ;  140	0xff000080, 0xff000080, 0xff000080, 0xf
                           A  2087    ;  141	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  2088    ;  142	0xff404040, 0xff008080, 0xff008080, 0xf
                           A  2089    ;  143	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  2090    ;  144	0xff404040, 0xff008080, 0xff000080, 0xf
                           A  2091    ;  145	0xff404040, 0xff404040, 0xff404040, 0xf
                           A  2092    ;  146	}
                           A  2093    ;  147	};
                           A  2094    ;  148	
                           A  2095    ;  149	UINT32 goalmini_data[1][64] = {
                           A  2096    ;  150	{
                           A  2097    ;  151	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2098    ;  152	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2099    ;  153	0xff000000, 0xff000000, 0xff00ff00, 0xf
                           A  2100    ;  154	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2101    ;  155	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2102    ;  156	0xff000000, 0xff000000, 0xff00ff00, 0xf
                           A  2103    ;  157	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2104    ;  158	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2105    ;  159	}
                           A  2106    ;  160	};
                           A  2107    ;  161	
                           A  2108    ;  162	UINT32 boxongoalmini_data[1][64] = {
                           A  2109    ;  163	{
                           A  2110    ;  164	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2111    ;  165	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2112    ;  166	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2113    ;  167	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2114    ;  168	0xff000000, 0xff00ffff, 0xff008080, 0xf
                           A  2115    ;  169	0xff000000, 0xff00ffff, 0xff000000, 0xf
                           A  2116    ;  170	0xff000000, 0xff008080, 0xff00ffff, 0xf
                           A  2117    ;  171	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2118    ;  172	}
                           A  2119    ;  173	};
                           A  2120    ;  174	
                           A  2121    ;  175	UINT32 playermini_data[1][64] = {
                           A  2122    	SEGMENT CODE
                           A  2123    ;  176	{
                           A  2124    ;  177	0xff000000, 0xff000000, 0xff404040, 0xf
                           A  2125    ;  178	0xff000000, 0xff000000, 0xff404040, 0xf
                           A  2126    ;  179	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2127    ;  180	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2128    ;  181	0xff000000, 0xff000000, 0xff008080, 0xf
                           A  2129    ;  182	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2130    ;  183	0xff000000, 0xff000000, 0xff000000, 0xf
                           A  2131    ;  184	0xff000000, 0xff000000, 0xffff0000, 0xf
                           A  2132    ;  185	}
                           A  2133    ;  186	};
                           A  2134    ;  187	
                           A  2135    ;  188	void debug_print_playfieldText(void)
                           A  2136    ;  189	{
040E25                     A  2137    _debug_print_playfieldText:
                           A  2138    .DEFINE "_debug_print_playfieldText"
                           A  2139    
                           A  2140    .VALUE _debug_print_playfieldText
                           A  2141    
                           A  2142    .CLASS 2
                           A  2143    
                           A  2144    .TYPE 65
                           A  2145    
                           A  2146    .ENDEF
                           A  2147    
                           A  2148    .BEGFUNC "debug_print_playfieldText",189,"_debu
                           A  2149    
                           A  2150    .LINE 189
                           A  2151    
                           A  2152    .DEFINE "width"
                           A  2153    
                           A  2154    .CLASS 65
                           A  2155    
                           A  2156    .VALUE -2
                           A  2157    
                           A  2158    .TYPE 13
                           A  2159    
                           A  2160    .ENDEF
                           A  2161    
                           A  2162    .DEFINE "c"
                           A  2163    
                           A  2164    .CLASS 65
                           A  2165    
                           A  2166    .VALUE -3
                           A  2167    
                           A  2168    .TYPE 2
                           A  2169    
                           A  2170    .ENDEF
                           A  2171    
                           A  2172    .DEFINE "height"
                           A  2173    
                           A  2174    .CLASS 65
                           A  2175    
                           A  2176    .VALUE -5
                           A  2177    
                           A  2178    .TYPE 13
                           A  2179    
                           A  2180    .ENDEF
                           A  2181    
040E25 DDE5                A  2182    	PUSH	IX
040E27 DD210000 00         A  2183    	LD	IX,0
040E2C DD39                A  2184    	ADD	IX,SP
040E2E C5                  A  2185    	PUSH	BC
040E2F C5                  A  2186    	PUSH	BC
040E30 3B                  A  2187    	DEC	SP
040E31 3B                  A  2188    	DEC	SP
                           A  2189    ;  190		UINT16 width, height;
                           A  2190    ;  191		char c;
                           A  2191    ;  192		
                           A  2192    ;  193		for(height = 0; height < currentlev
                           A  2193    .LINE 193
                           A  2194    
040E32 DD36FB00            A  2195    	LD	(IX+%FFFFFFFB),%0
040E36 DD36FC00            A  2196    	LD	(IX+%FFFFFFFC),%0
040E3A C3 46 0F 04         A  2197    	JR	L_19
040E3E                     A  2198    L_17:
                           A  2199    ;  194		{
                           A  2200    ;  195			for(width = 0; width < currentl
                           A  2201    .LINE 195
                           A  2202    
040E3E DD36FE00            A  2203    	LD	(IX+%FFFFFFFE),%0
040E42 DD36FF00            A  2204    	LD	(IX+%FFFFFFFF),%0
040E46 18 56               A  2205    	JR	L_8
040E48                     A  2206    L_6:
                           A  2207    ;  196			{
                           A  2208    ;  197				c = currentlevel.data[heigh
                           A  2209    .LINE 197
                           A  2210    
040E48 DD07FB              A  2211    	LD	BC,(IX+%FFFFFFFB)
040E4B CD AD 2F 04         A  2212    	CALL	__stoiu
040E4F 3E28                A  2213    	LD	A,%28
040E51 CD 5B 36 04         A  2214    	CALL	__imul_b
040E55 01 8B 5E 04         A  2215    	LD	BC,_currentlevel+7
040E59 09                  A  2216    	ADD	HL,BC
040E5A E5D1                A  2217    	LD	DE,HL
040E5C DD07FE              A  2218    	LD	BC,(IX+%FFFFFFFE)
040E5F CD AD 2F 04         A  2219    	CALL	__stoiu
040E63 19                  A  2220    	ADD	HL,DE
040E64 7E                  A  2221    	LD	A,(HL)
040E65 DD77FD              A  2222    	LD	(IX+%FFFFFFFD),A
                           A  2223    ;  198				printf("%c",c?c:' ');
                           A  2224    .LINE 198
                           A  2225    
040E68 B7                  A  2226    	OR	A,A
040E69 28 0E               A  2227    	JR	Z,L_4
040E6B DD7EFD              A  2228    	LD	A,(IX+%FFFFFFFD)
040E6E 17ED62              A  2229    	SEXT	HL
040E71 DD6EFD              A  2230    	LD	L,(IX+%FFFFFFFD)
040E74 DD2FF8              A  2231    	LD	(IX+%FFFFFFF8),HL
040E77 18 07               A  2232    	JR	L_5
040E79                     A  2233    L_4:
040E79 01200000            A  2234    	LD	BC,32
040E7D DD0FF8              A  2235    	LD	(IX+%FFFFFFF8),BC
040E80                     A  2236    L_5:
040E80 01 B3 2F 04         A  2237    	LD	BC,___print_uputch
040E84 ED43 58 51 04       A  2238    	LD	(___print_xputch),BC
040E89 DD4EF8              A  2239    	LD	C,(IX+%FFFFFFF8)
040E8C 0600                A  2240    	LD	B,%0
040E8E C5                  A  2241    	PUSH	BC
040E8F CD B3 2F 04         A  2242    	CALL	___print_uputch
040E93 C1                  A  2243    	POP	BC
040E94 DD27FE              A  2244    	LD	HL,(IX+%FFFFFFFE)
040E97 23                  A  2245    	INC	HL
040E98 DD75FE              A  2246    	LD	(IX+%FFFFFFFE),L
040E9B DD74FF              A  2247    	LD	(IX+%FFFFFFFF),H
                           A  2248    ;  199			}
040E9E                     A  2249    L_8:
                           A  2250    .LINE 199
                           A  2251    
040E9E 3A 86 5E 04         A  2252    	LD	A,(_currentlevel+2)
040EA2 4F                  A  2253    	LD	C,A
040EA3 0600                A  2254    	LD	B,%0
040EA5 DD27FE              A  2255    	LD	HL,(IX+%FFFFFFFE)
040EA8 B7                  A  2256    	OR	A,A
040EA9 40ED42              A  2257    	SBC.SIS	HL,BC
040EAC 38 9A               A  2258    	JR	C,L_6
                           A  2259    ;  200			printf(" ");
                           A  2260    .LINE 200
                           A  2261    
040EAE 01 B3 2F 04         A  2262    	LD	BC,___print_uputch
040EB2 ED43 58 51 04       A  2263    	LD	(___print_xputch),BC
040EB7 01200000            A  2264    	LD	BC,32
040EBB C5                  A  2265    	PUSH	BC
040EBC CD B3 2F 04         A  2266    	CALL	___print_uputch
040EC0 C1                  A  2267    	POP	BC
                           A  2268    ;  201			for(width = 0; width < currentl
                           A  2269    .LINE 201
                           A  2270    
040EC1 DD36FE00            A  2271    	LD	(IX+%FFFFFFFE),%0
040EC5 DD36FF00            A  2272    	LD	(IX+%FFFFFFFF),%0
040EC9 18 4E               A  2273    	JR	L_15
040ECB                     A  2274    L_13:
                           A  2275    ;  202			{
                           A  2276    ;  203				c = sprites[height][width] 
                           A  2277    .LINE 203
                           A  2278    
040ECB DD07FB              A  2279    	LD	BC,(IX+%FFFFFFFB)
040ECE CD AD 2F 04         A  2280    	CALL	__stoiu
040ED2 3E28                A  2281    	LD	A,%28
040ED4 CD 5B 36 04         A  2282    	CALL	__imul_b
040ED8 01 D4 59 04         A  2283    	LD	BC,_sprites
040EDC 09                  A  2284    	ADD	HL,BC
040EDD E5D1                A  2285    	LD	DE,HL
040EDF DD07FE              A  2286    	LD	BC,(IX+%FFFFFFFE)
040EE2 CD AD 2F 04         A  2287    	CALL	__stoiu
040EE6 19                  A  2288    	ADD	HL,DE
040EE7 7E                  A  2289    	LD	A,(HL)
040EE8 C630                A  2290    	ADD	A,%30
040EEA DD77FD              A  2291    	LD	(IX+%FFFFFFFD),A
                           A  2292    ;  204				if(c > '9') c = 'X';
                           A  2293    .LINE 204
                           A  2294    
040EED 3E39                A  2295    	LD	A,%39
040EEF DDBEFD              A  2296    	CP	A,(IX+%FFFFFFFD)
040EF2 F2 FA 0E 04         A  2297    	JP	P,L_12
040EF6 DD36FD58            A  2298    	LD	(IX+%FFFFFFFD),%58
040EFA                     A  2299    L_12:
                           A  2300    ;  205				printf("%c",c);
                           A  2301    .LINE 205
                           A  2302    
040EFA 01 B3 2F 04         A  2303    	LD	BC,___print_uputch
040EFE ED43 58 51 04       A  2304    	LD	(___print_xputch),BC
040F03 DD6EFD              A  2305    	LD	L,(IX+%FFFFFFFD)
040F06 4D                  A  2306    	LD	C,L
040F07 0600                A  2307    	LD	B,%0
040F09 C5                  A  2308    	PUSH	BC
040F0A CD B3 2F 04         A  2309    	CALL	___print_uputch
040F0E C1                  A  2310    	POP	BC
040F0F DD27FE              A  2311    	LD	HL,(IX+%FFFFFFFE)
040F12 23                  A  2312    	INC	HL
040F13 DD75FE              A  2313    	LD	(IX+%FFFFFFFE),L
040F16 DD74FF              A  2314    	LD	(IX+%FFFFFFFF),H
                           A  2315    ;  206			}
040F19                     A  2316    L_15:
                           A  2317    .LINE 206
                           A  2318    
040F19 3A 86 5E 04         A  2319    	LD	A,(_currentlevel+2)
040F1D 4F                  A  2320    	LD	C,A
040F1E 0600                A  2321    	LD	B,%0
040F20 DD27FE              A  2322    	LD	HL,(IX+%FFFFFFFE)
040F23 B7                  A  2323    	OR	A,A
040F24 40ED42              A  2324    	SBC.SIS	HL,BC
040F27 38 A2               A  2325    	JR	C,L_13
                           A  2326    ;  207			printf("\n\r");
                           A  2327    .LINE 207
                           A  2328    
040F29 01 B3 2F 04         A  2329    	LD	BC,___print_uputch
040F2D ED43 58 51 04       A  2330    	LD	(___print_xputch),BC
040F32 01 D3 51 04         A  2331    	LD	BC,L__4
040F36 C5                  A  2332    	PUSH	BC
040F37 CD 27 2E 04         A  2333    	CALL	___print_sendstring
040F3B C1                  A  2334    	POP	BC
040F3C DD27FB              A  2335    	LD	HL,(IX+%FFFFFFFB)
040F3F 23                  A  2336    	INC	HL
040F40 DD75FB              A  2337    	LD	(IX+%FFFFFFFB),L
040F43 DD74FC              A  2338    	LD	(IX+%FFFFFFFC),H
                           A  2339    ;  208		}
040F46                     A  2340    L_19:
                           A  2341    .LINE 208
                           A  2342    
040F46 3A 87 5E 04         A  2343    	LD	A,(_currentlevel+3)
040F4A 4F                  A  2344    	LD	C,A
040F4B 0600                A  2345    	LD	B,%0
040F4D DD27FB              A  2346    	LD	HL,(IX+%FFFFFFFB)
040F50 B7                  A  2347    	OR	A,A
040F51 40ED42              A  2348    	SBC.SIS	HL,BC
040F54 DA 3E 0E 04         A  2349    	JR	C,L_17
                           A  2350    ;  209	}
                           A  2351    .LINE 209
                           A  2352    
040F58 DDF9                A  2353    	LD	SP,IX
040F5A DDE1                A  2354    	POP	IX
040F5C C9                  A  2355    	RET	
                           A  2356    
                           A  2357    
                           A  2358    ;**************************** _debug_print_play
                           A  2359    ;Name                         Addr/Register   S
                           A  2360    ;___print_sendstring                 IMPORT  --
                           A  2361    ;_sprites                            STATIC   1
                           A  2362    ;___print_xputch                     IMPORT    
                           A  2363    ;___print_uputch                     IMPORT  --
                           A  2364    ;_currentlevel                       STATIC   1
                           A  2365    ;temp2                                 IX-8    
                           A  2366    ;height                                IX-5    
                           A  2367    ;c                                     IX-3    
                           A  2368    ;width                                 IX-2    
                           A  2369    
                           A  2370    
                           A  2371    ; Stack Frame Size: 14 (bytes)
                           A  2372    ;       Spill Code: 0 (instruction)
                           A  2373    
                           A  2374    
                           A  2375    .ENDFUNC "debug_print_playfieldText",209,"_debu
                           A  2376    	SEGMENT STRSECT
0451D3                     A  2377    L__4:
0451D3 0A0D00              A  2378    	DB	10,13,0
                           A  2379    	SEGMENT CODE
                           A  2380    ;  210	
                           A  2381    ;  211	void game_sendSpriteData(void)
                           A  2382    ;  212	{
040F5D                     A  2383    _game_sendSpriteData:
                           A  2384    .DEFINE "_game_sendSpriteData"
                           A  2385    
                           A  2386    .VALUE _game_sendSpriteData
                           A  2387    
                           A  2388    .CLASS 2
                           A  2389    
                           A  2390    .TYPE 65
                           A  2391    
                           A  2392    .ENDEF
                           A  2393    
                           A  2394    .BEGFUNC "game_sendSpriteData",212,"_game_sendS
                           A  2395    
040F5D DDE5                A  2396    	PUSH	IX
040F5F DD210000 00         A  2397    	LD	IX,0
040F64 DD39                A  2398    	ADD	IX,SP
                           A  2399    ;  213		// needs to be called once, to load
                           A  2400    ;  214		
                           A  2401    ;  215		vdp_bitmapSendData(TILE_WALL, BITMA
                           A  2402    .LINE 215
                           A  2403    
040F66 01 55 38 04         A  2404    	LD	BC,_wall_data
040F6A C5                  A  2405    	PUSH	BC
040F6B 01100000            A  2406    	LD	BC,16
040F6F C5                  A  2407    	PUSH	BC
040F70 C5                  A  2408    	PUSH	BC
040F71 01000000            A  2409    	LD	BC,0
040F75 C5                  A  2410    	PUSH	BC
040F76 CD AD 07 04         A  2411    	CALL	_vdp_bitmapSendData
040F7A C1                  A  2412    	POP	BC
040F7B C1                  A  2413    	POP	BC
040F7C C1                  A  2414    	POP	BC
040F7D C1                  A  2415    	POP	BC
                           A  2416    ;  216		vdp_bitmapSendData(TILE_PLAYER, BIT
                           A  2417    .LINE 216
                           A  2418    
040F7E 01 55 3C 04         A  2419    	LD	BC,_player_data
040F82 C5                  A  2420    	PUSH	BC
040F83 01100000            A  2421    	LD	BC,16
040F87 C5                  A  2422    	PUSH	BC
040F88 C5                  A  2423    	PUSH	BC
040F89 01010000            A  2424    	LD	BC,1
040F8D C5                  A  2425    	PUSH	BC
040F8E CD AD 07 04         A  2426    	CALL	_vdp_bitmapSendData
040F92 C1                  A  2427    	POP	BC
040F93 C1                  A  2428    	POP	BC
040F94 C1                  A  2429    	POP	BC
040F95 C1                  A  2430    	POP	BC
                           A  2431    ;  217		vdp_bitmapSendData(TILE_PLAYERONGOA
                           A  2432    .LINE 217
                           A  2433    
040F96 01 55 3C 04         A  2434    	LD	BC,_player_data
040F9A C5                  A  2435    	PUSH	BC
040F9B 01100000            A  2436    	LD	BC,16
040F9F C5                  A  2437    	PUSH	BC
040FA0 C5                  A  2438    	PUSH	BC
040FA1 01020000            A  2439    	LD	BC,2
040FA5 C5                  A  2440    	PUSH	BC
040FA6 CD AD 07 04         A  2441    	CALL	_vdp_bitmapSendData
040FAA C1                  A  2442    	POP	BC
040FAB C1                  A  2443    	POP	BC
040FAC C1                  A  2444    	POP	BC
040FAD C1                  A  2445    	POP	BC
                           A  2446    ;  218		vdp_bitmapSendData(TILE_BOX, BITMAP
                           A  2447    .LINE 218
                           A  2448    
040FAE 01 55 44 04         A  2449    	LD	BC,_box_data
040FB2 C5                  A  2450    	PUSH	BC
040FB3 01100000            A  2451    	LD	BC,16
040FB7 C5                  A  2452    	PUSH	BC
040FB8 C5                  A  2453    	PUSH	BC
040FB9 01030000            A  2454    	LD	BC,3
040FBD C5                  A  2455    	PUSH	BC
040FBE CD AD 07 04         A  2456    	CALL	_vdp_bitmapSendData
040FC2 C1                  A  2457    	POP	BC
040FC3 C1                  A  2458    	POP	BC
040FC4 C1                  A  2459    	POP	BC
040FC5 C1                  A  2460    	POP	BC
                           A  2461    ;  219		vdp_bitmapSendData(TILE_BOXONGOAL, 
                           A  2462    .LINE 219
                           A  2463    
040FC6 01 55 48 04         A  2464    	LD	BC,_boxongoal_data
040FCA C5                  A  2465    	PUSH	BC
040FCB 01100000            A  2466    	LD	BC,16
040FCF C5                  A  2467    	PUSH	BC
040FD0 C5                  A  2468    	PUSH	BC
040FD1 01040000            A  2469    	LD	BC,4
040FD5 C5                  A  2470    	PUSH	BC
040FD6 CD AD 07 04         A  2471    	CALL	_vdp_bitmapSendData
040FDA C1                  A  2472    	POP	BC
040FDB C1                  A  2473    	POP	BC
040FDC C1                  A  2474    	POP	BC
040FDD C1                  A  2475    	POP	BC
                           A  2476    ;  220		vdp_bitmapSendData(TILE_GOAL, BITMA
                           A  2477    .LINE 220
                           A  2478    
040FDE 01 55 40 04         A  2479    	LD	BC,_goal_data
040FE2 C5                  A  2480    	PUSH	BC
040FE3 01100000            A  2481    	LD	BC,16
040FE7 C5                  A  2482    	PUSH	BC
040FE8 C5                  A  2483    	PUSH	BC
040FE9 01050000            A  2484    	LD	BC,5
040FED C5                  A  2485    	PUSH	BC
040FEE CD AD 07 04         A  2486    	CALL	_vdp_bitmapSendData
040FF2 C1                  A  2487    	POP	BC
040FF3 C1                  A  2488    	POP	BC
040FF4 C1                  A  2489    	POP	BC
040FF5 C1                  A  2490    	POP	BC
                           A  2491    ;  221		vdp_bitmapCreateSolidColor(TILE_FLO
                           A  2492    .LINE 221
                           A  2493    
040FF6 01FF0000            A  2494    	LD	BC,255
040FFA C5                  A  2495    	PUSH	BC
040FFB 01000000            A  2496    	LD	BC,0
040FFF C5                  A  2497    	PUSH	BC
041000 01100000            A  2498    	LD	BC,16
041004 C5                  A  2499    	PUSH	BC
041005 C5                  A  2500    	PUSH	BC
041006 01060000            A  2501    	LD	BC,6
04100A C5                  A  2502    	PUSH	BC
04100B CD 8C 08 04         A  2503    	CALL	_vdp_bitmapCreateSolidColor
04100F C1                  A  2504    	POP	BC
041010 C1                  A  2505    	POP	BC
041011 C1                  A  2506    	POP	BC
041012 C1                  A  2507    	POP	BC
041013 C1                  A  2508    	POP	BC
                           A  2509    ;  222		
                           A  2510    ;  223		vdp_bitmapSendData(TILE_WALL_MINI, 
                           A  2511    .LINE 223
                           A  2512    
041014 01 55 4D 04         A  2513    	LD	BC,_wallmini_data
041018 C5                  A  2514    	PUSH	BC
041019 01080000            A  2515    	LD	BC,8
04101D C5                  A  2516    	PUSH	BC
04101E C5                  A  2517    	PUSH	BC
04101F 01070000            A  2518    	LD	BC,7
041023 C5                  A  2519    	PUSH	BC
041024 CD AD 07 04         A  2520    	CALL	_vdp_bitmapSendData
041028 C1                  A  2521    	POP	BC
041029 C1                  A  2522    	POP	BC
04102A C1                  A  2523    	POP	BC
04102B C1                  A  2524    	POP	BC
                           A  2525    ;  224		vdp_bitmapSendData(TILE_PLAYER_MINI
                           A  2526    .LINE 224
                           A  2527    
04102C 01 55 50 04         A  2528    	LD	BC,_playermini_data
041030 C5                  A  2529    	PUSH	BC
041031 01080000            A  2530    	LD	BC,8
041035 C5                  A  2531    	PUSH	BC
041036 C5                  A  2532    	PUSH	BC
041037 C5                  A  2533    	PUSH	BC
041038 CD AD 07 04         A  2534    	CALL	_vdp_bitmapSendData
04103C C1                  A  2535    	POP	BC
04103D C1                  A  2536    	POP	BC
04103E C1                  A  2537    	POP	BC
04103F C1                  A  2538    	POP	BC
                           A  2539    ;  225		vdp_bitmapSendData(TILE_PLAYERONGOA
                           A  2540    .LINE 225
                           A  2541    
041040 01 55 50 04         A  2542    	LD	BC,_playermini_data
041044 C5                  A  2543    	PUSH	BC
041045 01080000            A  2544    	LD	BC,8
041049 C5                  A  2545    	PUSH	BC
04104A C5                  A  2546    	PUSH	BC
04104B 01090000            A  2547    	LD	BC,9
04104F C5                  A  2548    	PUSH	BC
041050 CD AD 07 04         A  2549    	CALL	_vdp_bitmapSendData
041054 C1                  A  2550    	POP	BC
041055 C1                  A  2551    	POP	BC
041056 C1                  A  2552    	POP	BC
041057 C1                  A  2553    	POP	BC
                           A  2554    ;  226		vdp_bitmapSendData(TILE_BOX_MINI, M
                           A  2555    .LINE 226
                           A  2556    
041058 01 55 4C 04         A  2557    	LD	BC,_boxmini_data
04105C C5                  A  2558    	PUSH	BC
04105D 01080000            A  2559    	LD	BC,8
041061 C5                  A  2560    	PUSH	BC
041062 C5                  A  2561    	PUSH	BC
041063 010A0000            A  2562    	LD	BC,10
041067 C5                  A  2563    	PUSH	BC
041068 CD AD 07 04         A  2564    	CALL	_vdp_bitmapSendData
04106C C1                  A  2565    	POP	BC
04106D C1                  A  2566    	POP	BC
04106E C1                  A  2567    	POP	BC
04106F C1                  A  2568    	POP	BC
                           A  2569    ;  227		vdp_bitmapSendData(TILE_BOXONGOAL_M
                           A  2570    .LINE 227
                           A  2571    
041070 01 55 4F 04         A  2572    	LD	BC,_boxongoalmini_data
041074 C5                  A  2573    	PUSH	BC
041075 01080000            A  2574    	LD	BC,8
041079 C5                  A  2575    	PUSH	BC
04107A C5                  A  2576    	PUSH	BC
04107B 010B0000            A  2577    	LD	BC,11
04107F C5                  A  2578    	PUSH	BC
041080 CD AD 07 04         A  2579    	CALL	_vdp_bitmapSendData
041084 C1                  A  2580    	POP	BC
041085 C1                  A  2581    	POP	BC
041086 C1                  A  2582    	POP	BC
041087 C1                  A  2583    	POP	BC
                           A  2584    ;  228		vdp_bitmapSendData(TILE_GOAL_MINI, 
                           A  2585    .LINE 228
                           A  2586    
041088 01 55 4E 04         A  2587    	LD	BC,_goalmini_data
04108C C5                  A  2588    	PUSH	BC
04108D 01080000            A  2589    	LD	BC,8
041091 C5                  A  2590    	PUSH	BC
041092 C5                  A  2591    	PUSH	BC
041093 010C0000            A  2592    	LD	BC,12
041097 C5                  A  2593    	PUSH	BC
041098 CD AD 07 04         A  2594    	CALL	_vdp_bitmapSendData
04109C C1                  A  2595    	POP	BC
04109D C1                  A  2596    	POP	BC
04109E C1                  A  2597    	POP	BC
04109F C1                  A  2598    	POP	BC
                           A  2599    ;  229		vdp_bitmapCreateSolidColor(TILE_FLO
                           A  2600    .LINE 229
                           A  2601    
0410A0 01FF0000            A  2602    	LD	BC,255
0410A4 C5                  A  2603    	PUSH	BC
0410A5 01000000            A  2604    	LD	BC,0
0410A9 C5                  A  2605    	PUSH	BC
0410AA 01080000            A  2606    	LD	BC,8
0410AE C5                  A  2607    	PUSH	BC
0410AF C5                  A  2608    	PUSH	BC
0410B0 010D0000            A  2609    	LD	BC,13
0410B4 C5                  A  2610    	PUSH	BC
0410B5 CD 8C 08 04         A  2611    	CALL	_vdp_bitmapCreateSolidColor
0410B9 C1                  A  2612    	POP	BC
0410BA C1                  A  2613    	POP	BC
0410BB C1                  A  2614    	POP	BC
0410BC C1                  A  2615    	POP	BC
0410BD C1                  A  2616    	POP	BC
                           A  2617    ;  230		vdp_bitmapCreateSolidColor(TILE_MIN
                           A  2618    .LINE 230
                           A  2619    
0410BE 01FF0000            A  2620    	LD	BC,255
0410C2 C5                  A  2621    	PUSH	BC
0410C3 01000000            A  2622    	LD	BC,0
0410C7 C5                  A  2623    	PUSH	BC
0410C8 01080000            A  2624    	LD	BC,8
0410CC C5                  A  2625    	PUSH	BC
0410CD C5                  A  2626    	PUSH	BC
0410CE 010E0000            A  2627    	LD	BC,14
0410D2 C5                  A  2628    	PUSH	BC
0410D3 CD 8C 08 04         A  2629    	CALL	_vdp_bitmapCreateSolidColor
0410D7 C1                  A  2630    	POP	BC
0410D8 C1                  A  2631    	POP	BC
0410D9 C1                  A  2632    	POP	BC
0410DA C1                  A  2633    	POP	BC
0410DB C1                  A  2634    	POP	BC
                           A  2635    ;  231		
                           A  2636    ;  232		return;
                           A  2637    ;  233	}
                           A  2638    .LINE 233
                           A  2639    
0410DC DDF9                A  2640    	LD	SP,IX
0410DE DDE1                A  2641    	POP	IX
0410E0 C9                  A  2642    	RET	
                           A  2643    
                           A  2644    
                           A  2645    ;**************************** _game_sendSpriteD
                           A  2646    ;Name                         Addr/Register   S
                           A  2647    ;_goalmini_data                      STATIC    
                           A  2648    ;_boxongoalmini_data                 STATIC    
                           A  2649    ;_boxmini_data                       STATIC    
                           A  2650    ;_playermini_data                    STATIC    
                           A  2651    ;_wallmini_data                      STATIC    
                           A  2652    ;_vdp_bitmapCreateSolidColor         IMPORT  --
                           A  2653    ;_goal_data                          STATIC   1
                           A  2654    ;_boxongoal_data                     STATIC   1
                           A  2655    ;_box_data                           STATIC   1
                           A  2656    ;_player_data                        STATIC   1
                           A  2657    ;_wall_data                          STATIC   1
                           A  2658    ;_vdp_bitmapSendData                 IMPORT  --
                           A  2659    
                           A  2660    
                           A  2661    ; Stack Frame Size: 6 (bytes)
                           A  2662    ;       Spill Code: 0 (instruction)
                           A  2663    
                           A  2664    
                           A  2665    .ENDFUNC "game_sendSpriteData",233,"_game_sendS
                           A  2666    ;  234	
                           A  2667    ;  235	void game_resetSprites(void)
                           A  2668    ;  236	{
0410E1                     A  2669    _game_resetSprites:
                           A  2670    .DEFINE "_game_resetSprites"
                           A  2671    
                           A  2672    .VALUE _game_resetSprites
                           A  2673    
                           A  2674    .CLASS 2
                           A  2675    
                           A  2676    .TYPE 65
                           A  2677    
                           A  2678    .ENDEF
                           A  2679    
                           A  2680    .BEGFUNC "game_resetSprites",236,"_game_resetSp
                           A  2681    
                           A  2682    .LINE 236
                           A  2683    
                           A  2684    .DEFINE "n"
                           A  2685    
                           A  2686    .CLASS 65
                           A  2687    
                           A  2688    .VALUE -1
                           A  2689    
                           A  2690    .TYPE 12
                           A  2691    
                           A  2692    .ENDEF
                           A  2693    
0410E1 DDE5                A  2694    	PUSH	IX
0410E3 DD210000 00         A  2695    	LD	IX,0
0410E8 DD39                A  2696    	ADD	IX,SP
0410EA 3B                  A  2697    	DEC	SP
                           A  2698    ;  237		UINT8 n;
                           A  2699    ;  238		
                           A  2700    ;  239		// disable all sprites
                           A  2701    ;  240		for(n = 0; n < spritenumber; n++)
                           A  2702    .LINE 240
                           A  2703    
0410EB DD36FF00            A  2704    	LD	(IX+%FFFFFFFF),%0
0410EF 18 2E               A  2705    	JR	L_25
0410F1                     A  2706    L_23:
                           A  2707    ;  241		{
                           A  2708    ;  242			vdp_spriteSelect(n);
                           A  2709    .LINE 242
                           A  2710    
0410F1 DD4EFF              A  2711    	LD	C,(IX+%FFFFFFFF)
0410F4 0600                A  2712    	LD	B,%0
0410F6 C5                  A  2713    	PUSH	BC
0410F7 CD BF 08 04         A  2714    	CALL	_vdp_spriteSelect
0410FB C1                  A  2715    	POP	BC
                           A  2716    ;  243			vdp_spriteHide(n);
                           A  2717    .LINE 243
                           A  2718    
0410FC DD4EFF              A  2719    	LD	C,(IX+%FFFFFFFF)
0410FF 0600                A  2720    	LD	B,%0
041101 C5                  A  2721    	PUSH	BC
041102 CD 02 0B 04         A  2722    	CALL	_vdp_spriteHide
041106 C1                  A  2723    	POP	BC
                           A  2724    ;  244			vdp_spriteSetFrame(n,0);
                           A  2725    .LINE 244
                           A  2726    
041107 01000000            A  2727    	LD	BC,0
04110B C5                  A  2728    	PUSH	BC
04110C DD4EFF              A  2729    	LD	C,(IX+%FFFFFFFF)
04110F 0600                A  2730    	LD	B,%0
041111 C5                  A  2731    	PUSH	BC
041112 CD 69 0A 04         A  2732    	CALL	_vdp_spriteSetFrame
041116 C1                  A  2733    	POP	BC
041117 C1                  A  2734    	POP	BC
                           A  2735    ;  245			vdp_spriteClearFramesSelected()
                           A  2736    .LINE 245
                           A  2737    
041118 CD F8 08 04         A  2738    	CALL	_vdp_spriteClearFramesSelected
04111C DD34FF              A  2739    	INC	(IX+%FFFFFFFF)
                           A  2740    ;  246		}
04111F                     A  2741    L_25:
                           A  2742    .LINE 246
                           A  2743    
04111F DD7EFF              A  2744    	LD	A,(IX+%FFFFFFFF)
041122 21 3B 63 04         A  2745    	LD	HL,_spritenumber
041126 BE                  A  2746    	CP	A,(HL)
041127 38 C8               A  2747    	JR	C,L_23
                           A  2748    ;  247		vdp_spriteRefresh();
                           A  2749    .LINE 247
                           A  2750    
041129 CD 22 0C 04         A  2751    	CALL	_vdp_spriteRefresh
                           A  2752    ;  248		vdp_spriteActivateTotal(0);
                           A  2753    .LINE 248
                           A  2754    
04112D 01000000            A  2755    	LD	BC,0
041131 C5                  A  2756    	PUSH	BC
041132 CD E9 0B 04         A  2757    	CALL	_vdp_spriteActivateTotal
041136 C1                  A  2758    	POP	BC
                           A  2759    ;  249		spritenumber = 0;
                           A  2760    .LINE 249
                           A  2761    
041137 AF                  A  2762    	XOR	A,A
041138 32 3B 63 04         A  2763    	LD	(_spritenumber),A
                           A  2764    ;  250	
                           A  2765    ;  251		// reset all sprite positions and c
                           A  2766    ;  252		memset(sprites, 255, MAXHEIGHT*MAXW
                           A  2767    .LINE 252
                           A  2768    
04113C 01B00400            A  2769    	LD	BC,1200
041140 C5                  A  2770    	PUSH	BC
041141 01FF0000            A  2771    	LD	BC,255
041145 C5                  A  2772    	PUSH	BC
041146 01 D4 59 04         A  2773    	LD	BC,_sprites
04114A C5                  A  2774    	PUSH	BC
04114B CD 86 37 04         A  2775    	CALL	_memset
04114F C1                  A  2776    	POP	BC
041150 C1                  A  2777    	POP	BC
041151 C1                  A  2778    	POP	BC
                           A  2779    ;  253	
                           A  2780    ;  254		vdp_spriteRefresh();
                           A  2781    .LINE 254
                           A  2782    
041152 CD 22 0C 04         A  2783    	CALL	_vdp_spriteRefresh
                           A  2784    ;  255		return;
                           A  2785    ;  256	}
                           A  2786    .LINE 256
                           A  2787    
041156 DDF9                A  2788    	LD	SP,IX
041158 DDE1                A  2789    	POP	IX
04115A C9                  A  2790    	RET	
                           A  2791    
                           A  2792    
                           A  2793    ;**************************** _game_resetSprite
                           A  2794    ;Name                         Addr/Register   S
                           A  2795    ;_sprites                            STATIC   1
                           A  2796    ;_memset                             IMPORT  --
                           A  2797    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  2798    ;_vdp_spriteRefresh                  IMPORT  --
                           A  2799    ;_spritenumber                       STATIC    
                           A  2800    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  2801    ;_vdp_spriteSetFrame                 IMPORT  --
                           A  2802    ;_vdp_spriteHide                     IMPORT  --
                           A  2803    ;_vdp_spriteSelect                   IMPORT  --
                           A  2804    ;n                                     IX-1    
                           A  2805    
                           A  2806    
                           A  2807    ; Stack Frame Size: 7 (bytes)
                           A  2808    ;       Spill Code: 0 (instruction)
                           A  2809    
                           A  2810    
                           A  2811    .ENDFUNC "game_resetSprites",256,"_game_resetSp
                           A  2812    ;  257	
                           A  2813    ;  258	BOOL canmove(UINT16 xn1, UINT16 yn1, UI
                           A  2814    ;  259	{
04115B                     A  2815    _canmove:
                           A  2816    .DEFINE "_canmove"
                           A  2817    
                           A  2818    .VALUE _canmove
                           A  2819    
                           A  2820    .CLASS 2
                           A  2821    
                           A  2822    .TYPE 76
                           A  2823    
                           A  2824    .ENDEF
                           A  2825    
                           A  2826    .BEGFUNC "canmove",259,"_canmove"
                           A  2827    
                           A  2828    .LINE 259
                           A  2829    
                           A  2830    .DEFINE "xn1"
                           A  2831    
                           A  2832    .CLASS 65
                           A  2833    
                           A  2834    .VALUE 6
                           A  2835    
                           A  2836    .TYPE 13
                           A  2837    
                           A  2838    .ENDEF
                           A  2839    
                           A  2840    .DEFINE "yn1"
                           A  2841    
                           A  2842    .CLASS 65
                           A  2843    
                           A  2844    .VALUE 9
                           A  2845    
                           A  2846    .TYPE 13
                           A  2847    
                           A  2848    .ENDEF
                           A  2849    
                           A  2850    .DEFINE "xn2"
                           A  2851    
                           A  2852    .CLASS 65
                           A  2853    
                           A  2854    .VALUE 12
                           A  2855    
                           A  2856    .TYPE 13
                           A  2857    
                           A  2858    .ENDEF
                           A  2859    
                           A  2860    .DEFINE "yn2"
                           A  2861    
                           A  2862    .CLASS 65
                           A  2863    
                           A  2864    .VALUE 15
                           A  2865    
                           A  2866    .TYPE 13
                           A  2867    
                           A  2868    .ENDEF
                           A  2869    
                           A  2870    .DEFINE "n1"
                           A  2871    
                           A  2872    .CLASS 65
                           A  2873    
                           A  2874    .VALUE -1
                           A  2875    
                           A  2876    .TYPE 12
                           A  2877    
                           A  2878    .ENDEF
                           A  2879    
                           A  2880    .DEFINE "n2"
                           A  2881    
                           A  2882    .CLASS 65
                           A  2883    
                           A  2884    .VALUE -2
                           A  2885    
                           A  2886    .TYPE 12
                           A  2887    
                           A  2888    .ENDEF
                           A  2889    
04115B DDE5                A  2890    	PUSH	IX
04115D DD210000 00         A  2891    	LD	IX,0
041162 DD39                A  2892    	ADD	IX,SP
041164 3B                  A  2893    	DEC	SP
041165 3B                  A  2894    	DEC	SP
                           A  2895    ;  260		BOOL can = FALSE;
                           A  2896    ;  261		UINT8 n1, n2;
                           A  2897    ;  262		
                           A  2898    ;  263		n1 = currentlevel.data[yn1][xn1];
                           A  2899    .LINE 263
                           A  2900    
041166 DD0709              A  2901    	LD	BC,(IX+%9)
041169 CD AD 2F 04         A  2902    	CALL	__stoiu
04116D 3E28                A  2903    	LD	A,%28
04116F CD 5B 36 04         A  2904    	CALL	__imul_b
041173 01 8B 5E 04         A  2905    	LD	BC,_currentlevel+7
041177 09                  A  2906    	ADD	HL,BC
041178 E5D1                A  2907    	LD	DE,HL
04117A DD0706              A  2908    	LD	BC,(IX+%6)
04117D CD AD 2F 04         A  2909    	CALL	__stoiu
041181 19                  A  2910    	ADD	HL,DE
041182 7E                  A  2911    	LD	A,(HL)
041183 DD77FF              A  2912    	LD	(IX+%FFFFFFFF),A
                           A  2913    ;  264		n2 = currentlevel.data[yn2][xn2];
                           A  2914    .LINE 264
                           A  2915    
041186 DD070F              A  2916    	LD	BC,(IX+%F)
041189 CD AD 2F 04         A  2917    	CALL	__stoiu
04118D 3E28                A  2918    	LD	A,%28
04118F CD 5B 36 04         A  2919    	CALL	__imul_b
041193 01 8B 5E 04         A  2920    	LD	BC,_currentlevel+7
041197 09                  A  2921    	ADD	HL,BC
041198 E5D1                A  2922    	LD	DE,HL
04119A DD070C              A  2923    	LD	BC,(IX+%C)
04119D CD AD 2F 04         A  2924    	CALL	__stoiu
0411A1 19                  A  2925    	ADD	HL,DE
0411A2 7E                  A  2926    	LD	A,(HL)
0411A3 DD77FE              A  2927    	LD	(IX+%FFFFFFFE),A
                           A  2928    ;  265		
                           A  2929    ;  266		switch(n1)
                           A  2930    .LINE 266
                           A  2931    
0411A6 DD7EFF              A  2932    	LD	A,(IX+%FFFFFFFF)
0411A9 B7ED62              A  2933    	UEXT	HL
0411AC 6F                  A  2934    	LD	L,A
0411AD CD F0 36 04         A  2935    	CALL	__case8D
0411B1 E9                  A  2936    	JP	(HL)
0411B2                     A  2937    L__10:
0411B2 0300                A  2938    	DW	3
0411B4 20                  A  2939    	DB	32
0411B5 C61104              A  2940    	DW24	L_29	
                           A  2941    
0411B8 23                  A  2942    	DB	35
0411B9 C31104              A  2943    	DW24	L_28	
                           A  2944    
0411BC 2E                  A  2945    	DB	46
0411BD C61104              A  2946    	DW24	L_30	
                           A  2947    
0411C0 CA1104              A  2948    	DW24	L_34	
                           A  2949    
                           A  2950    ;  267		{
                           A  2951    ;  268			case CHAR_WALL:
0411C3                     A  2952    L_28:
                           A  2953    .LINE 268
                           A  2954    
                           A  2955    ;  269				return FALSE;
                           A  2956    .LINE 269
                           A  2957    
0411C3 AF                  A  2958    	XOR	A,A
0411C4 18 29               A  2959    	JR	L_36
                           A  2960    ;  270				break;
                           A  2961    ;  271			case CHAR_FLOOR:
0411C6                     A  2962    L_29:
                           A  2963    .LINE 271
                           A  2964    
                           A  2965    ;  272			case CHAR_GOAL:
0411C6                     A  2966    L_30:
                           A  2967    .LINE 272
                           A  2968    
                           A  2969    ;  273				return TRUE;
                           A  2970    .LINE 273
                           A  2971    
0411C6 3E01                A  2972    	LD	A,%1
0411C8 18 25               A  2973    	JR	L_36
                           A  2974    ;  274				break;
                           A  2975    ;  275		}
0411CA                     A  2976    L_34:
                           A  2977    .LINE 275
                           A  2978    
                           A  2979    ;  276		// either BOX or BOXONGOAL next to 
                           A  2980    ;  277		switch(n2)
                           A  2981    .LINE 277
                           A  2982    
0411CA DD7EFE              A  2983    	LD	A,(IX+%FFFFFFFE)
0411CD B7ED62              A  2984    	UEXT	HL
0411D0 6F                  A  2985    	LD	L,A
0411D1 CD F0 36 04         A  2986    	CALL	__case8D
0411D5 E9                  A  2987    	JP	(HL)
0411D6                     A  2988    L__11:
0411D6 0300                A  2989    	DW	3
0411D8 23                  A  2990    	DB	35
0411D9 E71104              A  2991    	DW24	L_31	
                           A  2992    
0411DC 24                  A  2993    	DB	36
0411DD EA1104              A  2994    	DW24	L_32	
                           A  2995    
0411E0 2A                  A  2996    	DB	42
0411E1 EA1104              A  2997    	DW24	L_33	
                           A  2998    
0411E4 ED1104              A  2999    	DW24	L_35	
                           A  3000    
                           A  3001    ;  278		{
                           A  3002    ;  279			case CHAR_WALL:
0411E7                     A  3003    L_31:
                           A  3004    .LINE 279
                           A  3005    
                           A  3006    ;  280				return FALSE;
                           A  3007    .LINE 280
                           A  3008    
0411E7 AF                  A  3009    	XOR	A,A
0411E8 18 05               A  3010    	JR	L_36
                           A  3011    ;  281				break;
                           A  3012    ;  282			case CHAR_BOX:
0411EA                     A  3013    L_32:
                           A  3014    .LINE 282
                           A  3015    
                           A  3016    ;  283			case CHAR_BOXONGOAL:
0411EA                     A  3017    L_33:
                           A  3018    .LINE 283
                           A  3019    
                           A  3020    ;  284				return FALSE;
                           A  3021    .LINE 284
                           A  3022    
0411EA AF                  A  3023    	XOR	A,A
0411EB 18 02               A  3024    	JR	L_36
                           A  3025    ;  285				break;
                           A  3026    ;  286		}
0411ED                     A  3027    L_35:
                           A  3028    .LINE 286
                           A  3029    
                           A  3030    ;  287		// only FLOOR or empty GOAL remaini
                           A  3031    ;  288		return TRUE;
                           A  3032    .LINE 288
                           A  3033    
0411ED 3E01                A  3034    	LD	A,%1
                           A  3035    ;  289	}
0411EF                     A  3036    L_36:
                           A  3037    .LINE 289
                           A  3038    
0411EF DDF9                A  3039    	LD	SP,IX
0411F1 DDE1                A  3040    	POP	IX
0411F3 C9                  A  3041    	RET	
                           A  3042    
                           A  3043    
                           A  3044    ;**************************** _canmove ********
                           A  3045    ;Name                         Addr/Register   S
                           A  3046    ;_currentlevel                       STATIC   1
                           A  3047    ;n2                                    IX-2    
                           A  3048    ;n1                                    IX-1    
                           A  3049    ;yn2                                  IX+15    
                           A  3050    ;xn2                                  IX+12    
                           A  3051    ;yn1                                   IX+9    
                           A  3052    ;xn1                                   IX+6    
                           A  3053    
                           A  3054    
                           A  3055    ; Stack Frame Size: 20 (bytes)
                           A  3056    ;       Spill Code: 0 (instruction)
                           A  3057    
                           A  3058    
                           A  3059    .ENDFUNC "canmove",289,"_canmove"
                           A  3060    ;  290	
                           A  3061    ;  291	void move_sprites(UINT16 xn1, UINT16 yn
                           A  3062    ;  292	{
0411F4                     A  3063    _move_sprites:
                           A  3064    .DEFINE "_move_sprites"
                           A  3065    
                           A  3066    .VALUE _move_sprites
                           A  3067    
                           A  3068    .CLASS 2
                           A  3069    
                           A  3070    .TYPE 65
                           A  3071    
                           A  3072    .ENDEF
                           A  3073    
                           A  3074    .BEGFUNC "move_sprites",292,"_move_sprites"
                           A  3075    
                           A  3076    .LINE 292
                           A  3077    
                           A  3078    .DEFINE "xn1"
                           A  3079    
                           A  3080    .CLASS 65
                           A  3081    
                           A  3082    .VALUE 6
                           A  3083    
                           A  3084    .TYPE 13
                           A  3085    
                           A  3086    .ENDEF
                           A  3087    
                           A  3088    .DEFINE "yn1"
                           A  3089    
                           A  3090    .CLASS 65
                           A  3091    
                           A  3092    .VALUE 9
                           A  3093    
                           A  3094    .TYPE 13
                           A  3095    
                           A  3096    .ENDEF
                           A  3097    
                           A  3098    .DEFINE "xn2"
                           A  3099    
                           A  3100    .CLASS 65
                           A  3101    
                           A  3102    .VALUE 12
                           A  3103    
                           A  3104    .TYPE 13
                           A  3105    
                           A  3106    .ENDEF
                           A  3107    
                           A  3108    .DEFINE "yn2"
                           A  3109    
                           A  3110    .CLASS 65
                           A  3111    
                           A  3112    .VALUE 15
                           A  3113    
                           A  3114    .TYPE 13
                           A  3115    
                           A  3116    .ENDEF
                           A  3117    
                           A  3118    .DEFINE "spriteid"
                           A  3119    
                           A  3120    .CLASS 65
                           A  3121    
                           A  3122    .VALUE -1
                           A  3123    
                           A  3124    .TYPE 12
                           A  3125    
                           A  3126    .ENDEF
                           A  3127    
                           A  3128    .DEFINE "n"
                           A  3129    
                           A  3130    .CLASS 65
                           A  3131    
                           A  3132    .VALUE -2
                           A  3133    
                           A  3134    .TYPE 12
                           A  3135    
                           A  3136    .ENDEF
                           A  3137    
                           A  3138    .DEFINE "dx"
                           A  3139    
                           A  3140    .CLASS 65
                           A  3141    
                           A  3142    .VALUE -4
                           A  3143    
                           A  3144    .TYPE 3
                           A  3145    
                           A  3146    .ENDEF
                           A  3147    
                           A  3148    .DEFINE "dy"
                           A  3149    
                           A  3150    .CLASS 65
                           A  3151    
                           A  3152    .VALUE -6
                           A  3153    
                           A  3154    .TYPE 3
                           A  3155    
                           A  3156    .ENDEF
                           A  3157    
                           A  3158    .DEFINE "n2"
                           A  3159    
                           A  3160    .CLASS 65
                           A  3161    
                           A  3162    .VALUE -7
                           A  3163    
                           A  3164    .TYPE 12
                           A  3165    
                           A  3166    .ENDEF
                           A  3167    
0411F4 DDE5                A  3168    	PUSH	IX
0411F6 DD210000 00         A  3169    	LD	IX,0
0411FB DD39                A  3170    	ADD	IX,SP
0411FD C5                  A  3171    	PUSH	BC
0411FE C5                  A  3172    	PUSH	BC
0411FF 3B                  A  3173    	DEC	SP
                           A  3174    ;  293		// move can happen, no need to chec
                           A  3175    ;  294		UINT8 spriteid = sprites[yn1][xn1];
                           A  3176    .LINE 294
                           A  3177    
041200 DD0709              A  3178    	LD	BC,(IX+%9)
041203 CD AD 2F 04         A  3179    	CALL	__stoiu
041207 3E28                A  3180    	LD	A,%28
041209 CD 5B 36 04         A  3181    	CALL	__imul_b
04120D 01 D4 59 04         A  3182    	LD	BC,_sprites
041211 09                  A  3183    	ADD	HL,BC
041212 E5D1                A  3184    	LD	DE,HL
041214 DD0706              A  3185    	LD	BC,(IX+%6)
041217 CD AD 2F 04         A  3186    	CALL	__stoiu
04121B 19                  A  3187    	ADD	HL,DE
04121C 7E                  A  3188    	LD	A,(HL)
04121D DD77FF              A  3189    	LD	(IX+%FFFFFFFF),A
                           A  3190    ;  295		UINT8 n;
                           A  3191    ;  296		INT16 dx, dy;
                           A  3192    ;  297		UINT8 n2;
                           A  3193    ;  298			
                           A  3194    ;  299		dx = xn2 - xn1;
                           A  3195    .LINE 299
                           A  3196    
041220 DD0706              A  3197    	LD	BC,(IX+%6)
041223 DD270C              A  3198    	LD	HL,(IX+%C)
041226 B7                  A  3199    	OR	A,A
041227 40ED42              A  3200    	SBC.SIS	HL,BC
04122A DD75FC              A  3201    	LD	(IX+%FFFFFFFC),L
04122D DD74FD              A  3202    	LD	(IX+%FFFFFFFD),H
                           A  3203    ;  300		dy = yn2 - yn1;
                           A  3204    .LINE 300
                           A  3205    
041230 DD0709              A  3206    	LD	BC,(IX+%9)
041233 DD270F              A  3207    	LD	HL,(IX+%F)
041236 B7                  A  3208    	OR	A,A
041237 40ED42              A  3209    	SBC.SIS	HL,BC
04123A DD75FA              A  3210    	LD	(IX+%FFFFFFFA),L
04123D DD74FB              A  3211    	LD	(IX+%FFFFFFFB),H
                           A  3212    ;  301		
                           A  3213    ;  302		for(n = 0; n < BITMAP_WIDTH; n++)
                           A  3214    .LINE 302
                           A  3215    
041240 DD36FE00            A  3216    	LD	(IX+%FFFFFFFE),%0
041244 18 3B               A  3217    	JR	L_42
041246                     A  3218    L_40:
                           A  3219    ;  303		{
                           A  3220    ;  304			if(spriteid != NOSPRITE)
                           A  3221    .LINE 304
                           A  3222    
041246 DD7EFF              A  3223    	LD	A,(IX+%FFFFFFFF)
041249 FEFF                A  3224    	CP	A,%FF
04124B 28 19               A  3225    	JR	Z,L_39
                           A  3226    ;  305			{
                           A  3227    ;  306				vdp_spriteSelect(spriteid);
                           A  3228    .LINE 306
                           A  3229    
04124D DD4EFF              A  3230    	LD	C,(IX+%FFFFFFFF)
041250 0600                A  3231    	LD	B,%0
041252 C5                  A  3232    	PUSH	BC
041253 CD BF 08 04         A  3233    	CALL	_vdp_spriteSelect
041257 C1                  A  3234    	POP	BC
                           A  3235    ;  307				vdp_spriteMoveBySelected(dx
                           A  3236    .LINE 307
                           A  3237    
041258 DD07FA              A  3238    	LD	BC,(IX+%FFFFFFFA)
04125B C5                  A  3239    	PUSH	BC
04125C DD07FC              A  3240    	LD	BC,(IX+%FFFFFFFC)
04125F C5                  A  3241    	PUSH	BC
041260 CD 84 0B 04         A  3242    	CALL	_vdp_spriteMoveBySelected
041264 C1                  A  3243    	POP	BC
041265 C1                  A  3244    	POP	BC
                           A  3245    ;  308			}
041266                     A  3246    L_39:
                           A  3247    .LINE 308
                           A  3248    
                           A  3249    ;  309			vdp_spriteSelect(0); // player
                           A  3250    .LINE 309
                           A  3251    
041266 01000000            A  3252    	LD	BC,0
04126A C5                  A  3253    	PUSH	BC
04126B CD BF 08 04         A  3254    	CALL	_vdp_spriteSelect
04126F C1                  A  3255    	POP	BC
                           A  3256    ;  310			vdp_spriteMoveBySelected(dx, dy
                           A  3257    .LINE 310
                           A  3258    
041270 DD07FA              A  3259    	LD	BC,(IX+%FFFFFFFA)
041273 C5                  A  3260    	PUSH	BC
041274 DD07FC              A  3261    	LD	BC,(IX+%FFFFFFFC)
041277 C5                  A  3262    	PUSH	BC
041278 CD 84 0B 04         A  3263    	CALL	_vdp_spriteMoveBySelected
04127C C1                  A  3264    	POP	BC
04127D C1                  A  3265    	POP	BC
04127E DD34FE              A  3266    	INC	(IX+%FFFFFFFE)
                           A  3267    ;  311		}
041281                     A  3268    L_42:
                           A  3269    .LINE 311
                           A  3270    
041281 DD7EFE              A  3271    	LD	A,(IX+%FFFFFFFE)
041284 FE10                A  3272    	CP	A,%10
041286 38 BE               A  3273    	JR	C,L_40
                           A  3274    ;  312	
                           A  3275    ;  313		// set destination sprite frame
                           A  3276    ;  314		if(spriteid != NOSPRITE)
                           A  3277    .LINE 314
                           A  3278    
041288 DD7EFF              A  3279    	LD	A,(IX+%FFFFFFFF)
04128B FEFF                A  3280    	CP	A,%FF
04128D 28 57               A  3281    	JR	Z,L_48
                           A  3282    ;  315		{
                           A  3283    ;  316			vdp_spriteSelect(spriteid);
                           A  3284    .LINE 316
                           A  3285    
04128F DD4EFF              A  3286    	LD	C,(IX+%FFFFFFFF)
041292 0600                A  3287    	LD	B,%0
041294 C5                  A  3288    	PUSH	BC
041295 CD BF 08 04         A  3289    	CALL	_vdp_spriteSelect
041299 C1                  A  3290    	POP	BC
                           A  3291    ;  317			// Check if the sprite moved to
                           A  3292    ;  318			n2 = currentlevel.data[yn2][xn2
                           A  3293    .LINE 318
                           A  3294    
04129A DD070F              A  3295    	LD	BC,(IX+%F)
04129D CD AD 2F 04         A  3296    	CALL	__stoiu
0412A1 3E28                A  3297    	LD	A,%28
0412A3 CD 5B 36 04         A  3298    	CALL	__imul_b
0412A7 01 8B 5E 04         A  3299    	LD	BC,_currentlevel+7
0412AB 09                  A  3300    	ADD	HL,BC
0412AC E5D1                A  3301    	LD	DE,HL
0412AE DD070C              A  3302    	LD	BC,(IX+%C)
0412B1 CD AD 2F 04         A  3303    	CALL	__stoiu
0412B5 19                  A  3304    	ADD	HL,DE
0412B6 7E                  A  3305    	LD	A,(HL)
0412B7 DD77F9              A  3306    	LD	(IX+%FFFFFFF9),A
                           A  3307    ;  319			switch(n2)
                           A  3308    .LINE 319
                           A  3309    
0412BA B7ED62              A  3310    	UEXT	HL
0412BD 6F                  A  3311    	LD	L,A
0412BE CD F0 36 04         A  3312    	CALL	__case8D
0412C2 E9                  A  3313    	JP	(HL)
0412C3                     A  3314    L__16:
0412C3 0200                A  3315    	DW	2
0412C5 20                  A  3316    	DB	32
0412C6 D01204              A  3317    	DW24	L_43	
                           A  3318    
0412C9 2E                  A  3319    	DB	46
0412CA DC1204              A  3320    	DW24	L_44	
                           A  3321    
0412CD E61204              A  3322    	DW24	L_48	
                           A  3323    
                           A  3324    ;  320			{
                           A  3325    ;  321				case CHAR_FLOOR:
0412D0                     A  3326    L_43:
                           A  3327    .LINE 321
                           A  3328    
                           A  3329    ;  322					vdp_spriteSetFrameSelec
                           A  3330    .LINE 322
                           A  3331    
0412D0 01000000            A  3332    	LD	BC,0
0412D4 C5                  A  3333    	PUSH	BC
0412D5 CD 30 0A 04         A  3334    	CALL	_vdp_spriteSetFrameSelected
0412D9 C1                  A  3335    	POP	BC
                           A  3336    ;  323					break;
                           A  3337    .LINE 323
                           A  3338    
0412DA 18 0A               A  3339    	JR	L_48
                           A  3340    ;  324				case CHAR_GOAL:
0412DC                     A  3341    L_44:
                           A  3342    .LINE 324
                           A  3343    
                           A  3344    ;  325					vdp_spriteSetFrameSelec
                           A  3345    .LINE 325
                           A  3346    
0412DC 01010000            A  3347    	LD	BC,1
0412E0 C5                  A  3348    	PUSH	BC
0412E1 CD 30 0A 04         A  3349    	CALL	_vdp_spriteSetFrameSelected
0412E5 C1                  A  3350    	POP	BC
                           A  3351    ;  326					break;
                           A  3352    ;  327			}
                           A  3353    ;  328		}
0412E6                     A  3354    L_48:
                           A  3355    .LINE 328
                           A  3356    
                           A  3357    ;  329		// update sprite number matrix
                           A  3358    ;  330		if(spriteid != NOSPRITE)
                           A  3359    .LINE 330
                           A  3360    
0412E6 DD7EFF              A  3361    	LD	A,(IX+%FFFFFFFF)
0412E9 FEFF                A  3362    	CP	A,%FF
0412EB 28 3F               A  3363    	JR	Z,L_49
                           A  3364    ;  331		{
                           A  3365    ;  332			// player shoves a box here
                           A  3366    ;  333			sprites[yn2][xn2] = sprites[yn1
                           A  3367    .LINE 333
                           A  3368    
0412ED DD0709              A  3369    	LD	BC,(IX+%9)
0412F0 CD AD 2F 04         A  3370    	CALL	__stoiu
0412F4 3E28                A  3371    	LD	A,%28
0412F6 CD 5B 36 04         A  3372    	CALL	__imul_b
0412FA 01 D4 59 04         A  3373    	LD	BC,_sprites
0412FE 09                  A  3374    	ADD	HL,BC
0412FF E5D1                A  3375    	LD	DE,HL
041301 DD0706              A  3376    	LD	BC,(IX+%6)
041304 CD AD 2F 04         A  3377    	CALL	__stoiu
041308 19                  A  3378    	ADD	HL,DE
041309 E5FDE1              A  3379    	LD	IY,HL
04130C DD070F              A  3380    	LD	BC,(IX+%F)
04130F CD AD 2F 04         A  3381    	CALL	__stoiu
041313 3E28                A  3382    	LD	A,%28
041315 CD 5B 36 04         A  3383    	CALL	__imul_b
041319 01 D4 59 04         A  3384    	LD	BC,_sprites
04131D 09                  A  3385    	ADD	HL,BC
04131E E5D1                A  3386    	LD	DE,HL
041320 DD070C              A  3387    	LD	BC,(IX+%C)
041323 CD AD 2F 04         A  3388    	CALL	__stoiu
041327 19                  A  3389    	ADD	HL,DE
041328 FD7E00              A  3390    	LD	A,(IY)
04132B 77                  A  3391    	LD	(HL),A
                           A  3392    ;  334		}
04132C                     A  3393    L_49:
                           A  3394    .LINE 334
                           A  3395    
                           A  3396    ;  335		sprites[yn1][xn1] = NOSPRITE; // pl
                           A  3397    .LINE 335
                           A  3398    
04132C DD0709              A  3399    	LD	BC,(IX+%9)
04132F CD AD 2F 04         A  3400    	CALL	__stoiu
041333 3E28                A  3401    	LD	A,%28
041335 CD 5B 36 04         A  3402    	CALL	__imul_b
041339 01 D4 59 04         A  3403    	LD	BC,_sprites
04133D 09                  A  3404    	ADD	HL,BC
04133E E5D1                A  3405    	LD	DE,HL
041340 DD0706              A  3406    	LD	BC,(IX+%6)
041343 CD AD 2F 04         A  3407    	CALL	__stoiu
041347 19                  A  3408    	ADD	HL,DE
041348 36FF                A  3409    	LD	(HL),%FF
                           A  3410    ;  336		sprites[currentlevel.ypos][currentl
                           A  3411    .LINE 336
                           A  3412    
04134A 3A 85 5E 04         A  3413    	LD	A,(_currentlevel+1)
04134E B7ED62              A  3414    	UEXT	HL
041351 6F                  A  3415    	LD	L,A
041352 3E28                A  3416    	LD	A,%28
041354 CD 5B 36 04         A  3417    	CALL	__imul_b
041358 01 D4 59 04         A  3418    	LD	BC,_sprites
04135C 09                  A  3419    	ADD	HL,BC
04135D E5C1                A  3420    	LD	BC,HL
04135F 3A 84 5E 04         A  3421    	LD	A,(_currentlevel)
041363 B7ED62              A  3422    	UEXT	HL
041366 6F                  A  3423    	LD	L,A
041367 09                  A  3424    	ADD	HL,BC
041368 36FF                A  3425    	LD	(HL),%FF
                           A  3426    ;  337		
                           A  3427    ;  338		vdp_spriteRefresh();
                           A  3428    .LINE 338
                           A  3429    
04136A CD 22 0C 04         A  3430    	CALL	_vdp_spriteRefresh
                           A  3431    ;  339	}
                           A  3432    .LINE 339
                           A  3433    
04136E DDF9                A  3434    	LD	SP,IX
041370 DDE1                A  3435    	POP	IX
041372 C9                  A  3436    	RET	
                           A  3437    
                           A  3438    
                           A  3439    ;**************************** _move_sprites ***
                           A  3440    ;Name                         Addr/Register   S
                           A  3441    ;_vdp_spriteRefresh                  IMPORT  --
                           A  3442    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3443    ;_currentlevel                       STATIC   1
                           A  3444    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  3445    ;_vdp_spriteSelect                   IMPORT  --
                           A  3446    ;_sprites                            STATIC   1
                           A  3447    ;n2                                    IX-7    
                           A  3448    ;dy                                    IX-6    
                           A  3449    ;dx                                    IX-4    
                           A  3450    ;n                                     IX-2    
                           A  3451    ;spriteid                              IX-1    
                           A  3452    ;yn2                                  IX+15    
                           A  3453    ;xn2                                  IX+12    
                           A  3454    ;yn1                                   IX+9    
                           A  3455    ;xn1                                   IX+6    
                           A  3456    
                           A  3457    
                           A  3458    ; Stack Frame Size: 25 (bytes)
                           A  3459    ;       Spill Code: 0 (instruction)
                           A  3460    
                           A  3461    
                           A  3462    .ENDFUNC "move_sprites",339,"_move_sprites"
                           A  3463    ;  340	
                           A  3464    ;  341	void undomove_sprites(UINT16 xn1, UINT1
                           A  3465    ;  342	{
041373                     A  3466    _undomove_sprites:
                           A  3467    .DEFINE "_undomove_sprites"
                           A  3468    
                           A  3469    .VALUE _undomove_sprites
                           A  3470    
                           A  3471    .CLASS 2
                           A  3472    
                           A  3473    .TYPE 65
                           A  3474    
                           A  3475    .ENDEF
                           A  3476    
                           A  3477    .BEGFUNC "undomove_sprites",342,"_undomove_spri
                           A  3478    
                           A  3479    .LINE 342
                           A  3480    
                           A  3481    .DEFINE "xn1"
                           A  3482    
                           A  3483    .CLASS 65
                           A  3484    
                           A  3485    .VALUE 6
                           A  3486    
                           A  3487    .TYPE 13
                           A  3488    
                           A  3489    .ENDEF
                           A  3490    
                           A  3491    .DEFINE "yn1"
                           A  3492    
                           A  3493    .CLASS 65
                           A  3494    
                           A  3495    .VALUE 9
                           A  3496    
                           A  3497    .TYPE 13
                           A  3498    
                           A  3499    .ENDEF
                           A  3500    
                           A  3501    .DEFINE "xn2"
                           A  3502    
                           A  3503    .CLASS 65
                           A  3504    
                           A  3505    .VALUE 12
                           A  3506    
                           A  3507    .TYPE 13
                           A  3508    
                           A  3509    .ENDEF
                           A  3510    
                           A  3511    .DEFINE "yn2"
                           A  3512    
                           A  3513    .CLASS 65
                           A  3514    
                           A  3515    .VALUE 15
                           A  3516    
                           A  3517    .TYPE 13
                           A  3518    
                           A  3519    .ENDEF
                           A  3520    
                           A  3521    .DEFINE "spriteid"
                           A  3522    
                           A  3523    .CLASS 65
                           A  3524    
                           A  3525    .VALUE -1
                           A  3526    
                           A  3527    .TYPE 12
                           A  3528    
                           A  3529    .ENDEF
                           A  3530    
                           A  3531    .DEFINE "n"
                           A  3532    
                           A  3533    .CLASS 65
                           A  3534    
                           A  3535    .VALUE -2
                           A  3536    
                           A  3537    .TYPE 12
                           A  3538    
                           A  3539    .ENDEF
                           A  3540    
                           A  3541    .DEFINE "dx"
                           A  3542    
                           A  3543    .CLASS 65
                           A  3544    
                           A  3545    .VALUE -4
                           A  3546    
                           A  3547    .TYPE 3
                           A  3548    
                           A  3549    .ENDEF
                           A  3550    
                           A  3551    .DEFINE "dy"
                           A  3552    
                           A  3553    .CLASS 65
                           A  3554    
                           A  3555    .VALUE -6
                           A  3556    
                           A  3557    .TYPE 3
                           A  3558    
                           A  3559    .ENDEF
                           A  3560    
                           A  3561    .DEFINE "n2"
                           A  3562    
                           A  3563    .CLASS 65
                           A  3564    
                           A  3565    .VALUE -7
                           A  3566    
                           A  3567    .TYPE 12
                           A  3568    
                           A  3569    .ENDEF
                           A  3570    
041373 DDE5                A  3571    	PUSH	IX
041375 DD210000 00         A  3572    	LD	IX,0
04137A DD39                A  3573    	ADD	IX,SP
04137C C5                  A  3574    	PUSH	BC
04137D C5                  A  3575    	PUSH	BC
04137E 3B                  A  3576    	DEC	SP
                           A  3577    ;  343		// move can happen, no need to chec
                           A  3578    ;  344		UINT8 spriteid = sprites[yn1][xn1];
                           A  3579    .LINE 344
                           A  3580    
04137F DD0709              A  3581    	LD	BC,(IX+%9)
041382 CD AD 2F 04         A  3582    	CALL	__stoiu
041386 3E28                A  3583    	LD	A,%28
041388 CD 5B 36 04         A  3584    	CALL	__imul_b
04138C 01 D4 59 04         A  3585    	LD	BC,_sprites
041390 09                  A  3586    	ADD	HL,BC
041391 E5D1                A  3587    	LD	DE,HL
041393 DD0706              A  3588    	LD	BC,(IX+%6)
041396 CD AD 2F 04         A  3589    	CALL	__stoiu
04139A 19                  A  3590    	ADD	HL,DE
04139B 7E                  A  3591    	LD	A,(HL)
04139C DD77FF              A  3592    	LD	(IX+%FFFFFFFF),A
                           A  3593    ;  345		UINT8 n;
                           A  3594    ;  346		INT16 dx, dy;
                           A  3595    ;  347		UINT8 n2;
                           A  3596    ;  348			
                           A  3597    ;  349		dx = xn2 - xn1;
                           A  3598    .LINE 349
                           A  3599    
04139F DD0706              A  3600    	LD	BC,(IX+%6)
0413A2 DD270C              A  3601    	LD	HL,(IX+%C)
0413A5 B7                  A  3602    	OR	A,A
0413A6 40ED42              A  3603    	SBC.SIS	HL,BC
0413A9 DD75FC              A  3604    	LD	(IX+%FFFFFFFC),L
0413AC DD74FD              A  3605    	LD	(IX+%FFFFFFFD),H
                           A  3606    ;  350		dy = yn2 - yn1;
                           A  3607    .LINE 350
                           A  3608    
0413AF DD0709              A  3609    	LD	BC,(IX+%9)
0413B2 DD270F              A  3610    	LD	HL,(IX+%F)
0413B5 B7                  A  3611    	OR	A,A
0413B6 40ED42              A  3612    	SBC.SIS	HL,BC
0413B9 DD75FA              A  3613    	LD	(IX+%FFFFFFFA),L
0413BC DD74FB              A  3614    	LD	(IX+%FFFFFFFB),H
                           A  3615    ;  351		
                           A  3616    ;  352		for(n = 0; n < BITMAP_WIDTH; n++)
                           A  3617    .LINE 352
                           A  3618    
0413BF DD36FE00            A  3619    	LD	(IX+%FFFFFFFE),%0
0413C3 18 52               A  3620    	JR	L_57
0413C5                     A  3621    L_55:
                           A  3622    ;  353		{
                           A  3623    ;  354			if((undomove[undo_head].pushed)
                           A  3624    .LINE 354
                           A  3625    
0413C5 3A D2 55 04         A  3626    	LD	A,(_undo_head)
0413C9 B7ED62              A  3627    	UEXT	HL
0413CC 6F                  A  3628    	LD	L,A
0413CD 29                  A  3629    	ADD	HL,HL
0413CE 01 D2 54 04         A  3630    	LD	BC,_undomove
0413D2 09                  A  3631    	ADD	HL,BC
0413D3 E5FDE1              A  3632    	LD	IY,HL
0413D6 FD7E01              A  3633    	LD	A,(IY+%1)
0413D9 B7                  A  3634    	OR	A,A
0413DA 28 20               A  3635    	JR	Z,L_54
0413DC DD7EFF              A  3636    	LD	A,(IX+%FFFFFFFF)
0413DF FEFF                A  3637    	CP	A,%FF
0413E1 28 19               A  3638    	JR	Z,L_54
                           A  3639    ;  355			{
                           A  3640    ;  356				vdp_spriteSelect(spriteid);
                           A  3641    .LINE 356
                           A  3642    
0413E3 DD4EFF              A  3643    	LD	C,(IX+%FFFFFFFF)
0413E6 0600                A  3644    	LD	B,%0
0413E8 C5                  A  3645    	PUSH	BC
0413E9 CD BF 08 04         A  3646    	CALL	_vdp_spriteSelect
0413ED C1                  A  3647    	POP	BC
                           A  3648    ;  357				vdp_spriteMoveBySelected(dx
                           A  3649    .LINE 357
                           A  3650    
0413EE DD07FA              A  3651    	LD	BC,(IX+%FFFFFFFA)
0413F1 C5                  A  3652    	PUSH	BC
0413F2 DD07FC              A  3653    	LD	BC,(IX+%FFFFFFFC)
0413F5 C5                  A  3654    	PUSH	BC
0413F6 CD 84 0B 04         A  3655    	CALL	_vdp_spriteMoveBySelected
0413FA C1                  A  3656    	POP	BC
0413FB C1                  A  3657    	POP	BC
                           A  3658    ;  358			}
0413FC                     A  3659    L_54:
                           A  3660    .LINE 358
                           A  3661    
                           A  3662    ;  359			vdp_spriteSelect(0); // player
                           A  3663    .LINE 359
                           A  3664    
0413FC 01000000            A  3665    	LD	BC,0
041400 C5                  A  3666    	PUSH	BC
041401 CD BF 08 04         A  3667    	CALL	_vdp_spriteSelect
041405 C1                  A  3668    	POP	BC
                           A  3669    ;  360			vdp_spriteMoveBySelected(dx, dy
                           A  3670    .LINE 360
                           A  3671    
041406 DD07FA              A  3672    	LD	BC,(IX+%FFFFFFFA)
041409 C5                  A  3673    	PUSH	BC
04140A DD07FC              A  3674    	LD	BC,(IX+%FFFFFFFC)
04140D C5                  A  3675    	PUSH	BC
04140E CD 84 0B 04         A  3676    	CALL	_vdp_spriteMoveBySelected
041412 C1                  A  3677    	POP	BC
041413 C1                  A  3678    	POP	BC
041414 DD34FE              A  3679    	INC	(IX+%FFFFFFFE)
                           A  3680    ;  361		}
041417                     A  3681    L_57:
                           A  3682    .LINE 361
                           A  3683    
041417 DD7EFE              A  3684    	LD	A,(IX+%FFFFFFFE)
04141A FE10                A  3685    	CP	A,%10
04141C 38 A7               A  3686    	JR	C,L_55
                           A  3687    ;  362	
                           A  3688    ;  363		// set destination sprite frame
                           A  3689    ;  364		if((undomove[undo_head].pushed) && 
                           A  3690    .LINE 364
                           A  3691    
04141E 3A D2 55 04         A  3692    	LD	A,(_undo_head)
041422 B7ED62              A  3693    	UEXT	HL
041425 6F                  A  3694    	LD	L,A
041426 29                  A  3695    	ADD	HL,HL
041427 01 D2 54 04         A  3696    	LD	BC,_undomove
04142B 09                  A  3697    	ADD	HL,BC
04142C E5FDE1              A  3698    	LD	IY,HL
04142F FD7E01              A  3699    	LD	A,(IY+%1)
041432 B7                  A  3700    	OR	A,A
041433 28 5E               A  3701    	JR	Z,L_66
041435 DD7EFF              A  3702    	LD	A,(IX+%FFFFFFFF)
041438 FEFF                A  3703    	CP	A,%FF
04143A 28 57               A  3704    	JR	Z,L_66
                           A  3705    ;  365		{
                           A  3706    ;  366			vdp_spriteSelect(spriteid);
                           A  3707    .LINE 366
                           A  3708    
04143C DD4EFF              A  3709    	LD	C,(IX+%FFFFFFFF)
04143F 0600                A  3710    	LD	B,%0
041441 C5                  A  3711    	PUSH	BC
041442 CD BF 08 04         A  3712    	CALL	_vdp_spriteSelect
041446 C1                  A  3713    	POP	BC
                           A  3714    ;  367			// Check if the sprite moved to
                           A  3715    ;  368			n2 = currentlevel.data[yn2][xn2
                           A  3716    .LINE 368
                           A  3717    
041447 DD070F              A  3718    	LD	BC,(IX+%F)
04144A CD AD 2F 04         A  3719    	CALL	__stoiu
04144E 3E28                A  3720    	LD	A,%28
041450 CD 5B 36 04         A  3721    	CALL	__imul_b
041454 01 8B 5E 04         A  3722    	LD	BC,_currentlevel+7
041458 09                  A  3723    	ADD	HL,BC
041459 E5D1                A  3724    	LD	DE,HL
04145B DD070C              A  3725    	LD	BC,(IX+%C)
04145E CD AD 2F 04         A  3726    	CALL	__stoiu
041462 19                  A  3727    	ADD	HL,DE
041463 7E                  A  3728    	LD	A,(HL)
041464 DD77F9              A  3729    	LD	(IX+%FFFFFFF9),A
                           A  3730    ;  369			switch(n2)
                           A  3731    .LINE 369
                           A  3732    
041467 B7ED62              A  3733    	UEXT	HL
04146A 6F                  A  3734    	LD	L,A
04146B CD F0 36 04         A  3735    	CALL	__case8D
04146F E9                  A  3736    	JP	(HL)
041470                     A  3737    L__24:
041470 0200                A  3738    	DW	2
041472 2B                  A  3739    	DB	43
041473 891404              A  3740    	DW24	L_60	
                           A  3741    
041476 40                  A  3742    	DB	64
041477 7D1404              A  3743    	DW24	L_59	
                           A  3744    
04147A 931404              A  3745    	DW24	L_66	
                           A  3746    
                           A  3747    ;  370			{
                           A  3748    ;  371				case CHAR_PLAYER:
04147D                     A  3749    L_59:
                           A  3750    .LINE 371
                           A  3751    
                           A  3752    ;  372					vdp_spriteSetFrameSelec
                           A  3753    .LINE 372
                           A  3754    
04147D 01000000            A  3755    	LD	BC,0
041481 C5                  A  3756    	PUSH	BC
041482 CD 30 0A 04         A  3757    	CALL	_vdp_spriteSetFrameSelected
041486 C1                  A  3758    	POP	BC
                           A  3759    ;  373					break;
                           A  3760    .LINE 373
                           A  3761    
041487 18 0A               A  3762    	JR	L_66
                           A  3763    ;  374				case CHAR_PLAYERONGOAL:
041489                     A  3764    L_60:
                           A  3765    .LINE 374
                           A  3766    
                           A  3767    ;  375					vdp_spriteSetFrameSelec
                           A  3768    .LINE 375
                           A  3769    
041489 01010000            A  3770    	LD	BC,1
04148D C5                  A  3771    	PUSH	BC
04148E CD 30 0A 04         A  3772    	CALL	_vdp_spriteSetFrameSelected
041492 C1                  A  3773    	POP	BC
                           A  3774    ;  376					break;
                           A  3775    ;  377			}
                           A  3776    ;  378		}
041493                     A  3777    L_66:
                           A  3778    .LINE 378
                           A  3779    
                           A  3780    ;  379		// update sprite number matrix
                           A  3781    ;  380		if(undomove[undo_head].pushed)
                           A  3782    .LINE 380
                           A  3783    
041493 3A D2 55 04         A  3784    	LD	A,(_undo_head)
041497 B7ED62              A  3785    	UEXT	HL
04149A 6F                  A  3786    	LD	L,A
04149B 29                  A  3787    	ADD	HL,HL
04149C 01 D2 54 04         A  3788    	LD	BC,_undomove
0414A0 09                  A  3789    	ADD	HL,BC
0414A1 E5FDE1              A  3790    	LD	IY,HL
0414A4 FD7E01              A  3791    	LD	A,(IY+%1)
0414A7 B7                  A  3792    	OR	A,A
0414A8 28 64               A  3793    	JR	Z,L_67
                           A  3794    ;  381		{
                           A  3795    ;  382			if(spriteid != NOSPRITE)
                           A  3796    .LINE 382
                           A  3797    
0414AA DD7EFF              A  3798    	LD	A,(IX+%FFFFFFFF)
0414AD FEFF                A  3799    	CP	A,%FF
0414AF 28 3F               A  3800    	JR	Z,L_64
                           A  3801    ;  383			{
                           A  3802    ;  384				// player shoved a box here
                           A  3803    ;  385				sprites[yn2][xn2] = sprites
                           A  3804    .LINE 385
                           A  3805    
0414B1 DD0709              A  3806    	LD	BC,(IX+%9)
0414B4 CD AD 2F 04         A  3807    	CALL	__stoiu
0414B8 3E28                A  3808    	LD	A,%28
0414BA CD 5B 36 04         A  3809    	CALL	__imul_b
0414BE 01 D4 59 04         A  3810    	LD	BC,_sprites
0414C2 09                  A  3811    	ADD	HL,BC
0414C3 E5D1                A  3812    	LD	DE,HL
0414C5 DD0706              A  3813    	LD	BC,(IX+%6)
0414C8 CD AD 2F 04         A  3814    	CALL	__stoiu
0414CC 19                  A  3815    	ADD	HL,DE
0414CD E5FDE1              A  3816    	LD	IY,HL
0414D0 DD070F              A  3817    	LD	BC,(IX+%F)
0414D3 CD AD 2F 04         A  3818    	CALL	__stoiu
0414D7 3E28                A  3819    	LD	A,%28
0414D9 CD 5B 36 04         A  3820    	CALL	__imul_b
0414DD 01 D4 59 04         A  3821    	LD	BC,_sprites
0414E1 09                  A  3822    	ADD	HL,BC
0414E2 E5D1                A  3823    	LD	DE,HL
0414E4 DD070C              A  3824    	LD	BC,(IX+%C)
0414E7 CD AD 2F 04         A  3825    	CALL	__stoiu
0414EB 19                  A  3826    	ADD	HL,DE
0414EC FD7E00              A  3827    	LD	A,(IY)
0414EF 77                  A  3828    	LD	(HL),A
                           A  3829    ;  386			}
0414F0                     A  3830    L_64:
                           A  3831    .LINE 386
                           A  3832    
                           A  3833    ;  387			sprites[yn1][xn1] = NOSPRITE; /
                           A  3834    .LINE 387
                           A  3835    
0414F0 DD0709              A  3836    	LD	BC,(IX+%9)
0414F3 CD AD 2F 04         A  3837    	CALL	__stoiu
0414F7 3E28                A  3838    	LD	A,%28
0414F9 CD 5B 36 04         A  3839    	CALL	__imul_b
0414FD 01 D4 59 04         A  3840    	LD	BC,_sprites
041501 09                  A  3841    	ADD	HL,BC
041502 E5D1                A  3842    	LD	DE,HL
041504 DD0706              A  3843    	LD	BC,(IX+%6)
041507 CD AD 2F 04         A  3844    	CALL	__stoiu
04150B 19                  A  3845    	ADD	HL,DE
04150C 36FF                A  3846    	LD	(HL),%FF
                           A  3847    ;  388		}
04150E                     A  3848    L_67:
                           A  3849    .LINE 388
                           A  3850    
                           A  3851    ;  389		
                           A  3852    ;  390		vdp_spriteRefresh();
                           A  3853    .LINE 390
                           A  3854    
04150E CD 22 0C 04         A  3855    	CALL	_vdp_spriteRefresh
                           A  3856    ;  391	}
                           A  3857    .LINE 391
                           A  3858    
041512 DDF9                A  3859    	LD	SP,IX
041514 DDE1                A  3860    	POP	IX
041516 C9                  A  3861    	RET	
                           A  3862    
                           A  3863    
                           A  3864    ;**************************** _undomove_sprites
                           A  3865    ;Name                         Addr/Register   S
                           A  3866    ;_vdp_spriteRefresh                  IMPORT  --
                           A  3867    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3868    ;_currentlevel                       STATIC   1
                           A  3869    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  3870    ;_vdp_spriteSelect                   IMPORT  --
                           A  3871    ;_undo_head                          STATIC    
                           A  3872    ;_undomove                           STATIC    
                           A  3873    ;_sprites                            STATIC   1
                           A  3874    ;n2                                    IX-7    
                           A  3875    ;dy                                    IX-6    
                           A  3876    ;dx                                    IX-4    
                           A  3877    ;n                                     IX-2    
                           A  3878    ;spriteid                              IX-1    
                           A  3879    ;yn2                                  IX+15    
                           A  3880    ;xn2                                  IX+12    
                           A  3881    ;yn1                                   IX+9    
                           A  3882    ;xn1                                   IX+6    
                           A  3883    
                           A  3884    
                           A  3885    ; Stack Frame Size: 25 (bytes)
                           A  3886    ;       Spill Code: 0 (instruction)
                           A  3887    
                           A  3888    
                           A  3889    .ENDFUNC "undomove_sprites",391,"_undomove_spri
                           A  3890    ;  392	
                           A  3891    ;  393	void move_updatelevel(UINT16 xn1, UINT1
                           A  3892    ;  394	{
041517                     A  3893    _move_updatelevel:
                           A  3894    .DEFINE "_move_updatelevel"
                           A  3895    
                           A  3896    .VALUE _move_updatelevel
                           A  3897    
                           A  3898    .CLASS 2
                           A  3899    
                           A  3900    .TYPE 65
                           A  3901    
                           A  3902    .ENDEF
                           A  3903    
                           A  3904    .BEGFUNC "move_updatelevel",394,"_move_updatele
                           A  3905    
                           A  3906    .LINE 394
                           A  3907    
                           A  3908    .DEFINE "xn1"
                           A  3909    
                           A  3910    .CLASS 65
                           A  3911    
                           A  3912    .VALUE 6
                           A  3913    
                           A  3914    .TYPE 13
                           A  3915    
                           A  3916    .ENDEF
                           A  3917    
                           A  3918    .DEFINE "yn1"
                           A  3919    
                           A  3920    .CLASS 65
                           A  3921    
                           A  3922    .VALUE 9
                           A  3923    
                           A  3924    .TYPE 13
                           A  3925    
                           A  3926    .ENDEF
                           A  3927    
                           A  3928    .DEFINE "xn2"
                           A  3929    
                           A  3930    .CLASS 65
                           A  3931    
                           A  3932    .VALUE 12
                           A  3933    
                           A  3934    .TYPE 13
                           A  3935    
                           A  3936    .ENDEF
                           A  3937    
                           A  3938    .DEFINE "yn2"
                           A  3939    
                           A  3940    .CLASS 65
                           A  3941    
                           A  3942    .VALUE 15
                           A  3943    
                           A  3944    .TYPE 13
                           A  3945    
                           A  3946    .ENDEF
                           A  3947    
                           A  3948    .DEFINE "onlyplayermoves"
                           A  3949    
                           A  3950    .CLASS 65
                           A  3951    
                           A  3952    .VALUE -4
                           A  3953    
                           A  3954    .TYPE 12
                           A  3955    
                           A  3956    .ENDEF
                           A  3957    
                           A  3958    .DEFINE "n1"
                           A  3959    
                           A  3960    .CLASS 65
                           A  3961    
                           A  3962    .VALUE -5
                           A  3963    
                           A  3964    .TYPE 12
                           A  3965    
                           A  3966    .ENDEF
                           A  3967    
                           A  3968    .DEFINE "n2"
                           A  3969    
                           A  3970    .CLASS 65
                           A  3971    
                           A  3972    .VALUE -21
                           A  3973    
                           A  3974    .TYPE 12
                           A  3975    
                           A  3976    .ENDEF
                           A  3977    
041517 DDE5                A  3978    	PUSH	IX
041519 DD210000 00         A  3979    	LD	IX,0
04151E DD39                A  3980    	ADD	IX,SP
041520 ED22E5              A  3981    	LEA	HL,IX+%FFFFFFE5
041523 F9                  A  3982    	LD	SP,HL
                           A  3983    ;  395		// move can happen, no need to chec
                           A  3984    ;  396		UINT8 n1, n2;
                           A  3985    ;  397		BOOL onlyplayermoves;
                           A  3986    ;  398		
                           A  3987    ;  399		// move n1 => n2
                           A  3988    ;  400		n1 = currentlevel.data[yn1][xn1];
                           A  3989    .LINE 400
                           A  3990    
041524 01 8B 5E 04         A  3991    	LD	BC,_currentlevel+7
041528 DD0FE5              A  3992    	LD	(IX+%FFFFFFE5),BC
04152B DD0FEC              A  3993    	LD	(IX+%FFFFFFEC),BC
04152E DD0709              A  3994    	LD	BC,(IX+%9)
041531 CD AD 2F 04         A  3995    	CALL	__stoiu
041535 3E28                A  3996    	LD	A,%28
041537 CD 5B 36 04         A  3997    	CALL	__imul_b
04153B DD2FFD              A  3998    	LD	(IX+%FFFFFFFD),HL
04153E DD2FEF              A  3999    	LD	(IX+%FFFFFFEF),HL
041541 DD2FF2              A  4000    	LD	(IX+%FFFFFFF2),HL
041544 DD2FE8              A  4001    	LD	(IX+%FFFFFFE8),HL
041547 01 8B 5E 04         A  4002    	LD	BC,_currentlevel+7
04154B DD27FD              A  4003    	LD	HL,(IX+%FFFFFFFD)
04154E 09                  A  4004    	ADD	HL,BC
04154F E5D1                A  4005    	LD	DE,HL
041551 DD0706              A  4006    	LD	BC,(IX+%6)
041554 CD AD 2F 04         A  4007    	CALL	__stoiu
041558 19                  A  4008    	ADD	HL,DE
041559 7E                  A  4009    	LD	A,(HL)
04155A DD77FB              A  4010    	LD	(IX+%FFFFFFFB),A
                           A  4011    ;  401		n2 = currentlevel.data[yn2][xn2];
                           A  4012    .LINE 401
                           A  4013    
04155D DD070F              A  4014    	LD	BC,(IX+%F)
041560 CD AD 2F 04         A  4015    	CALL	__stoiu
041564 3E28                A  4016    	LD	A,%28
041566 CD 5B 36 04         A  4017    	CALL	__imul_b
04156A DD2FF8              A  4018    	LD	(IX+%FFFFFFF8),HL
04156D 01 8B 5E 04         A  4019    	LD	BC,_currentlevel+7
041571 DD27F8              A  4020    	LD	HL,(IX+%FFFFFFF8)
041574 09                  A  4021    	ADD	HL,BC
041575 E5D1                A  4022    	LD	DE,HL
041577 DD070C              A  4023    	LD	BC,(IX+%C)
04157A CD AD 2F 04         A  4024    	CALL	__stoiu
04157E 19                  A  4025    	ADD	HL,DE
04157F 7E                  A  4026    	LD	A,(HL)
041580 DD77EB              A  4027    	LD	(IX+%FFFFFFEB),A
                           A  4028    ;  402	
                           A  4029    ;  403		
                           A  4030    ;  404		switch(n1)
                           A  4031    .LINE 404
                           A  4032    
041583 DD7EFB              A  4033    	LD	A,(IX+%FFFFFFFB)
041586 B7ED62              A  4034    	UEXT	HL
041589 6F                  A  4035    	LD	L,A
04158A CD F0 36 04         A  4036    	CALL	__case8D
04158E E9                  A  4037    	JP	(HL)
04158F                     A  4038    L__28:
04158F 0200                A  4039    	DW	2
041591 20                  A  4040    	DB	32
041592 9C1504              A  4041    	DW24	L_69	
                           A  4042    
041595 2E                  A  4043    	DB	46
041596 D21504              A  4044    	DW24	L_70	
                           A  4045    
041599 081604              A  4046    	DW24	L_71	
                           A  4047    
                           A  4048    ;  405		{
                           A  4049    ;  406			case CHAR_FLOOR:
04159C                     A  4050    L_69:
                           A  4051    .LINE 406
                           A  4052    
                           A  4053    ;  407				onlyplayermoves = TRUE;
                           A  4054    .LINE 407
                           A  4055    
04159C DD36FC01            A  4056    	LD	(IX+%FFFFFFFC),%1
                           A  4057    ;  408				currentlevel.data[yn1][xn1]
                           A  4058    .LINE 408
                           A  4059    
0415A0 01 8B 5E 04         A  4060    	LD	BC,_currentlevel+7
0415A4 DD0FE5              A  4061    	LD	(IX+%FFFFFFE5),BC
0415A7 DD0FEC              A  4062    	LD	(IX+%FFFFFFEC),BC
0415AA DD07FD              A  4063    	LD	BC,(IX+%FFFFFFFD)
0415AD DD0FEF              A  4064    	LD	(IX+%FFFFFFEF),BC
0415B0 DD07FD              A  4065    	LD	BC,(IX+%FFFFFFFD)
0415B3 DD0FF2              A  4066    	LD	(IX+%FFFFFFF2),BC
0415B6 DD07FD              A  4067    	LD	BC,(IX+%FFFFFFFD)
0415B9 DD0FE8              A  4068    	LD	(IX+%FFFFFFE8),BC
0415BC 01 8B 5E 04         A  4069    	LD	BC,_currentlevel+7
0415C0 DD27FD              A  4070    	LD	HL,(IX+%FFFFFFFD)
0415C3 09                  A  4071    	ADD	HL,BC
0415C4 E5D1                A  4072    	LD	DE,HL
0415C6 DD0706              A  4073    	LD	BC,(IX+%6)
0415C9 CD AD 2F 04         A  4074    	CALL	__stoiu
0415CD 19                  A  4075    	ADD	HL,DE
0415CE 3640                A  4076    	LD	(HL),%40
                           A  4077    ;  409				break;
                           A  4078    .LINE 409
                           A  4079    
0415D0 18 3A               A  4080    	JR	L_82
                           A  4081    ;  410			case CHAR_GOAL:
0415D2                     A  4082    L_70:
                           A  4083    .LINE 410
                           A  4084    
                           A  4085    ;  411				onlyplayermoves = TRUE;
                           A  4086    .LINE 411
                           A  4087    
0415D2 DD36FC01            A  4088    	LD	(IX+%FFFFFFFC),%1
                           A  4089    ;  412				currentlevel.data[yn1][xn1]
                           A  4090    .LINE 412
                           A  4091    
0415D6 01 8B 5E 04         A  4092    	LD	BC,_currentlevel+7
0415DA DD0FE5              A  4093    	LD	(IX+%FFFFFFE5),BC
0415DD DD0FEC              A  4094    	LD	(IX+%FFFFFFEC),BC
0415E0 DD07FD              A  4095    	LD	BC,(IX+%FFFFFFFD)
0415E3 DD0FEF              A  4096    	LD	(IX+%FFFFFFEF),BC
0415E6 DD07FD              A  4097    	LD	BC,(IX+%FFFFFFFD)
0415E9 DD0FF2              A  4098    	LD	(IX+%FFFFFFF2),BC
0415EC DD07FD              A  4099    	LD	BC,(IX+%FFFFFFFD)
0415EF DD0FE8              A  4100    	LD	(IX+%FFFFFFE8),BC
0415F2 01 8B 5E 04         A  4101    	LD	BC,_currentlevel+7
0415F6 DD27FD              A  4102    	LD	HL,(IX+%FFFFFFFD)
0415F9 09                  A  4103    	ADD	HL,BC
0415FA E5D1                A  4104    	LD	DE,HL
0415FC DD0706              A  4105    	LD	BC,(IX+%6)
0415FF CD AD 2F 04         A  4106    	CALL	__stoiu
041603 19                  A  4107    	ADD	HL,DE
041604 362B                A  4108    	LD	(HL),%2B
                           A  4109    ;  413				break;
                           A  4110    .LINE 413
                           A  4111    
041606 18 04               A  4112    	JR	L_82
                           A  4113    ;  414			default:
041608                     A  4114    L_71:
                           A  4115    .LINE 414
                           A  4116    
                           A  4117    ;  415				onlyplayermoves = FALSE;
                           A  4118    .LINE 415
                           A  4119    
041608 DD36FC00            A  4120    	LD	(IX+%FFFFFFFC),%0
                           A  4121    ;  416				break;
                           A  4122    ;  417		}
04160C                     A  4123    L_82:
                           A  4124    .LINE 417
                           A  4125    
                           A  4126    ;  418		if(!onlyplayermoves)
                           A  4127    .LINE 418
                           A  4128    
04160C DD7EFC              A  4129    	LD	A,(IX+%FFFFFFFC)
04160F B7                  A  4130    	OR	A,A
041610 C2 C4 16 04         A  4131    	JR	NZ,L_85
                           A  4132    ;  419		{
                           A  4133    ;  420			switch(n2)
                           A  4134    .LINE 420
                           A  4135    
041614 DD7EEB              A  4136    	LD	A,(IX+%FFFFFFEB)
041617 B7ED62              A  4137    	UEXT	HL
04161A 6F                  A  4138    	LD	L,A
04161B CD F0 36 04         A  4139    	CALL	__case8D
04161F E9                  A  4140    	JP	(HL)
041620                     A  4141    L__30:
041620 0200                A  4142    	DW	2
041622 20                  A  4143    	DB	32
041623 2D1604              A  4144    	DW24	L_72	
                           A  4145    
041626 2E                  A  4146    	DB	46
041627 421604              A  4147    	DW24	L_73	
                           A  4148    
04162A 5E1604              A  4149    	DW24	L_80	
                           A  4150    
                           A  4151    ;  421			{
                           A  4152    ;  422				case CHAR_FLOOR:
04162D                     A  4153    L_72:
                           A  4154    .LINE 422
                           A  4155    
                           A  4156    ;  423					currentlevel.data[yn2][
                           A  4157    .LINE 423
                           A  4158    
04162D DD07F8              A  4159    	LD	BC,(IX+%FFFFFFF8)
041630 DD27E5              A  4160    	LD	HL,(IX+%FFFFFFE5)
041633 09                  A  4161    	ADD	HL,BC
041634 E5D1                A  4162    	LD	DE,HL
041636 DD070C              A  4163    	LD	BC,(IX+%C)
041639 CD AD 2F 04         A  4164    	CALL	__stoiu
04163D 19                  A  4165    	ADD	HL,DE
04163E 3624                A  4166    	LD	(HL),%24
                           A  4167    ;  424					break;
                           A  4168    .LINE 424
                           A  4169    
041640 18 1C               A  4170    	JR	L_80
                           A  4171    ;  425				case CHAR_GOAL:
041642                     A  4172    L_73:
                           A  4173    .LINE 425
                           A  4174    
                           A  4175    ;  426					currentlevel.data[yn2][
                           A  4176    .LINE 426
                           A  4177    
041642 DD07F8              A  4178    	LD	BC,(IX+%FFFFFFF8)
041645 DD27EC              A  4179    	LD	HL,(IX+%FFFFFFEC)
041648 09                  A  4180    	ADD	HL,BC
041649 E5D1                A  4181    	LD	DE,HL
04164B DD070C              A  4182    	LD	BC,(IX+%C)
04164E CD AD 2F 04         A  4183    	CALL	__stoiu
041652 19                  A  4184    	ADD	HL,DE
041653 362A                A  4185    	LD	(HL),%2A
                           A  4186    ;  427					currentlevel.goalstaken
                           A  4187    .LINE 427
                           A  4188    
041655 3A 89 5E 04         A  4189    	LD	A,(_currentlevel+5)
041659 3C                  A  4190    	INC	A
04165A 32 89 5E 04         A  4191    	LD	(_currentlevel+5),A
                           A  4192    ;  428					break;
                           A  4193    ;  429				default:
                           A  4194    ;  430					break; // ignore the re
                           A  4195    ;  431			}
04165E                     A  4196    L_80:
                           A  4197    .LINE 431
                           A  4198    
                           A  4199    ;  432			switch(n1)
                           A  4200    .LINE 432
                           A  4201    
04165E DD7EFB              A  4202    	LD	A,(IX+%FFFFFFFB)
041661 B7ED62              A  4203    	UEXT	HL
041664 6F                  A  4204    	LD	L,A
041665 CD F0 36 04         A  4205    	CALL	__case8D
041669 E9                  A  4206    	JP	(HL)
04166A                     A  4207    L__31:
04166A 0300                A  4208    	DW	3
04166C 24                  A  4209    	DB	36
04166D 7B1604              A  4210    	DW24	L_76	
                           A  4211    
041670 2A                  A  4212    	DB	42
041671 911604              A  4213    	DW24	L_77	
                           A  4214    
041674 2E                  A  4215    	DB	46
041675 B01604              A  4216    	DW24	L_79	
                           A  4217    
041678 C41604              A  4218    	DW24	L_85	
                           A  4219    
                           A  4220    ;  433			{
                           A  4221    ;  434				case CHAR_BOX:
04167B                     A  4222    L_76:
                           A  4223    .LINE 434
                           A  4224    
                           A  4225    ;  435					currentlevel.data[yn1][
                           A  4226    .LINE 435
                           A  4227    
04167B 01 8B 5E 04         A  4228    	LD	BC,_currentlevel+7
04167F DD27EF              A  4229    	LD	HL,(IX+%FFFFFFEF)
041682 09                  A  4230    	ADD	HL,BC
041683 E5D1                A  4231    	LD	DE,HL
041685 DD0706              A  4232    	LD	BC,(IX+%6)
041688 CD AD 2F 04         A  4233    	CALL	__stoiu
04168C 19                  A  4234    	ADD	HL,DE
04168D 3640                A  4235    	LD	(HL),%40
                           A  4236    ;  436					break;
                           A  4237    .LINE 436
                           A  4238    
04168F 18 33               A  4239    	JR	L_85
                           A  4240    ;  437				case CHAR_BOXONGOAL:
041691                     A  4241    L_77:
                           A  4242    .LINE 437
                           A  4243    
                           A  4244    ;  438					currentlevel.data[yn1][
                           A  4245    .LINE 438
                           A  4246    
041691 01 8B 5E 04         A  4247    	LD	BC,_currentlevel+7
041695 DD27F2              A  4248    	LD	HL,(IX+%FFFFFFF2)
041698 09                  A  4249    	ADD	HL,BC
041699 E5D1                A  4250    	LD	DE,HL
04169B DD0706              A  4251    	LD	BC,(IX+%6)
04169E CD AD 2F 04         A  4252    	CALL	__stoiu
0416A2 19                  A  4253    	ADD	HL,DE
0416A3 362B                A  4254    	LD	(HL),%2B
                           A  4255    ;  439					currentlevel.goalstaken
                           A  4256    .LINE 439
                           A  4257    
0416A5 3A 89 5E 04         A  4258    	LD	A,(_currentlevel+5)
0416A9 3D                  A  4259    	DEC	A
0416AA 32 89 5E 04         A  4260    	LD	(_currentlevel+5),A
                           A  4261    ;  440					break;
                           A  4262    .LINE 440
                           A  4263    
0416AE 18 14               A  4264    	JR	L_85
                           A  4265    ;  441				case CHAR_GOAL:
0416B0                     A  4266    L_79:
                           A  4267    .LINE 441
                           A  4268    
                           A  4269    ;  442					currentlevel.data[yn1][
                           A  4270    .LINE 442
                           A  4271    
0416B0 01 8B 5E 04         A  4272    	LD	BC,_currentlevel+7
0416B4 DD27E8              A  4273    	LD	HL,(IX+%FFFFFFE8)
0416B7 09                  A  4274    	ADD	HL,BC
0416B8 E5D1                A  4275    	LD	DE,HL
0416BA DD0706              A  4276    	LD	BC,(IX+%6)
0416BD CD AD 2F 04         A  4277    	CALL	__stoiu
0416C1 19                  A  4278    	ADD	HL,DE
0416C2 362B                A  4279    	LD	(HL),%2B
                           A  4280    ;  443					break;
                           A  4281    ;  444			}
                           A  4282    ;  445		}
0416C4                     A  4283    L_85:
                           A  4284    .LINE 445
                           A  4285    
                           A  4286    ;  446		
                           A  4287    ;  447		
                           A  4288    ;  448		// check where the player was stand
                           A  4289    ;  449		if(currentlevel.data[currentlevel.y
                           A  4290    .LINE 449
                           A  4291    
0416C4 01 8B 5E 04         A  4292    	LD	BC,_currentlevel+7
0416C8 DD0FF5              A  4293    	LD	(IX+%FFFFFFF5),BC
0416CB 3A 85 5E 04         A  4294    	LD	A,(_currentlevel+1)
0416CF B7ED62              A  4295    	UEXT	HL
0416D2 6F                  A  4296    	LD	L,A
0416D3 3E28                A  4297    	LD	A,%28
0416D5 CD 5B 36 04         A  4298    	CALL	__imul_b
0416D9 DD07F5              A  4299    	LD	BC,(IX+%FFFFFFF5)
0416DC 09                  A  4300    	ADD	HL,BC
0416DD E5C1                A  4301    	LD	BC,HL
0416DF 3A 84 5E 04         A  4302    	LD	A,(_currentlevel)
0416E3 B7ED62              A  4303    	UEXT	HL
0416E6 6F                  A  4304    	LD	L,A
0416E7 09                  A  4305    	ADD	HL,BC
0416E8 7E                  A  4306    	LD	A,(HL)
0416E9 B7ED62              A  4307    	UEXT	HL
0416EC 6F                  A  4308    	LD	L,A
0416ED 012B0000            A  4309    	LD	BC,43
0416F1 B7                  A  4310    	OR	A,A
0416F2 ED42                A  4311    	SBC	HL,BC
0416F4 20 21               A  4312    	JR	NZ,L_84
0416F6 3A 85 5E 04         A  4313    	LD	A,(_currentlevel+1)
0416FA B7ED62              A  4314    	UEXT	HL
0416FD 6F                  A  4315    	LD	L,A
0416FE 3E28                A  4316    	LD	A,%28
041700 CD 5B 36 04         A  4317    	CALL	__imul_b
041704 DD07F5              A  4318    	LD	BC,(IX+%FFFFFFF5)
041707 09                  A  4319    	ADD	HL,BC
041708 E5C1                A  4320    	LD	BC,HL
04170A 3A 84 5E 04         A  4321    	LD	A,(_currentlevel)
04170E B7ED62              A  4322    	UEXT	HL
041711 6F                  A  4323    	LD	L,A
041712 09                  A  4324    	ADD	HL,BC
041713 362E                A  4325    	LD	(HL),%2E
                           A  4326    ;  450		else currentlevel.data[currentlevel
                           A  4327    .LINE 450
                           A  4328    
041715 18 1F               A  4329    	JR	L_86
041717                     A  4330    L_84:
041717 3A 85 5E 04         A  4331    	LD	A,(_currentlevel+1)
04171B B7ED62              A  4332    	UEXT	HL
04171E 6F                  A  4333    	LD	L,A
04171F 3E28                A  4334    	LD	A,%28
041721 CD 5B 36 04         A  4335    	CALL	__imul_b
041725 DD07F5              A  4336    	LD	BC,(IX+%FFFFFFF5)
041728 09                  A  4337    	ADD	HL,BC
041729 E5C1                A  4338    	LD	BC,HL
04172B 3A 84 5E 04         A  4339    	LD	A,(_currentlevel)
04172F B7ED62              A  4340    	UEXT	HL
041732 6F                  A  4341    	LD	L,A
041733 09                  A  4342    	ADD	HL,BC
041734 3620                A  4343    	LD	(HL),%20
041736                     A  4344    L_86:
                           A  4345    ;  451		
                           A  4346    ;  452		// update player position
                           A  4347    ;  453		currentlevel.xpos = xn1;
                           A  4348    .LINE 453
                           A  4349    
041736 DD7E06              A  4350    	LD	A,(IX+%6)
041739 32 84 5E 04         A  4351    	LD	(_currentlevel),A
                           A  4352    ;  454		currentlevel.ypos = yn1;
                           A  4353    .LINE 454
                           A  4354    
04173D DD7E09              A  4355    	LD	A,(IX+%9)
041740 32 85 5E 04         A  4356    	LD	(_currentlevel+1),A
                           A  4357    ;  455	}
                           A  4358    .LINE 455
                           A  4359    
041744 DDF9                A  4360    	LD	SP,IX
041746 DDE1                A  4361    	POP	IX
041748 C9                  A  4362    	RET	
                           A  4363    
                           A  4364    
                           A  4365    ;**************************** _move_updatelevel
                           A  4366    ;Name                         Addr/Register   S
                           A  4367    ;_currentlevel                       STATIC   1
                           A  4368    ;G_4                                  IX-27    
                           A  4369    ;G_10                                 IX-24    
                           A  4370    ;n2                                   IX-21    
                           A  4371    ;G_6                                  IX-20    
                           A  4372    ;G_8                                  IX-17    
                           A  4373    ;G_9                                  IX-14    
                           A  4374    ;G_11                                 IX-11    
                           A  4375    ;G_5                                   IX-8    
                           A  4376    ;n1                                    IX-5    
                           A  4377    ;onlyplayermoves                       IX-4    
                           A  4378    ;G_1                                   IX-3    
                           A  4379    ;yn2                                  IX+15    
                           A  4380    ;xn2                                  IX+12    
                           A  4381    ;yn1                                   IX+9    
                           A  4382    ;xn1                                   IX+6    
                           A  4383    
                           A  4384    
                           A  4385    ; Stack Frame Size: 45 (bytes)
                           A  4386    ;       Spill Code: 0 (instruction)
                           A  4387    
                           A  4388    
                           A  4389    .ENDFUNC "move_updatelevel",455,"_move_updatele
                           A  4390    ;  456	
                           A  4391    ;  457	void undomove_updatelevel(UINT16 xn1, U
                           A  4392    ;  458	{
041749                     A  4393    _undomove_updatelevel:
                           A  4394    .DEFINE "_undomove_updatelevel"
                           A  4395    
                           A  4396    .VALUE _undomove_updatelevel
                           A  4397    
                           A  4398    .CLASS 2
                           A  4399    
                           A  4400    .TYPE 65
                           A  4401    
                           A  4402    .ENDEF
                           A  4403    
                           A  4404    .BEGFUNC "undomove_updatelevel",458,"_undomove_
                           A  4405    
                           A  4406    .LINE 458
                           A  4407    
                           A  4408    .DEFINE "xn1"
                           A  4409    
                           A  4410    .CLASS 65
                           A  4411    
                           A  4412    .VALUE 6
                           A  4413    
                           A  4414    .TYPE 13
                           A  4415    
                           A  4416    .ENDEF
                           A  4417    
                           A  4418    .DEFINE "yn1"
                           A  4419    
                           A  4420    .CLASS 65
                           A  4421    
                           A  4422    .VALUE 9
                           A  4423    
                           A  4424    .TYPE 13
                           A  4425    
                           A  4426    .ENDEF
                           A  4427    
                           A  4428    .DEFINE "xn2"
                           A  4429    
                           A  4430    .CLASS 65
                           A  4431    
                           A  4432    .VALUE 12
                           A  4433    
                           A  4434    .TYPE 13
                           A  4435    
                           A  4436    .ENDEF
                           A  4437    
                           A  4438    .DEFINE "yn2"
                           A  4439    
                           A  4440    .CLASS 65
                           A  4441    
                           A  4442    .VALUE 15
                           A  4443    
                           A  4444    .TYPE 13
                           A  4445    
                           A  4446    .ENDEF
                           A  4447    
                           A  4448    .DEFINE "xn3"
                           A  4449    
                           A  4450    .CLASS 65
                           A  4451    
                           A  4452    .VALUE 18
                           A  4453    
                           A  4454    .TYPE 13
                           A  4455    
                           A  4456    .ENDEF
                           A  4457    
                           A  4458    .DEFINE "yn3"
                           A  4459    
                           A  4460    .CLASS 65
                           A  4461    
                           A  4462    .VALUE 21
                           A  4463    
                           A  4464    .TYPE 13
                           A  4465    
                           A  4466    .ENDEF
                           A  4467    
                           A  4468    .DEFINE "n2"
                           A  4469    
                           A  4470    .CLASS 65
                           A  4471    
                           A  4472    .VALUE -13
                           A  4473    
                           A  4474    .TYPE 12
                           A  4475    
                           A  4476    .ENDEF
                           A  4477    
                           A  4478    .DEFINE "n1"
                           A  4479    
                           A  4480    .CLASS 65
                           A  4481    
                           A  4482    .VALUE -23
                           A  4483    
                           A  4484    .TYPE 12
                           A  4485    
                           A  4486    .ENDEF
                           A  4487    
                           A  4488    .DEFINE "n3"
                           A  4489    
                           A  4490    .CLASS 65
                           A  4491    
                           A  4492    .VALUE -27
                           A  4493    
                           A  4494    .TYPE 12
                           A  4495    
                           A  4496    .ENDEF
                           A  4497    
041749 DDE5                A  4498    	PUSH	IX
04174B DD210000 00         A  4499    	LD	IX,0
041750 DD39                A  4500    	ADD	IX,SP
041752 ED22E5              A  4501    	LEA	HL,IX+%FFFFFFE5
041755 F9                  A  4502    	LD	SP,HL
                           A  4503    ;  459		UINT8 n1, n2, n3;
                           A  4504    ;  460		
                           A  4505    ;  461		// move n1 => n2 => n3
                           A  4506    ;  462		n1 = currentlevel.data[yn1][xn1]; /
                           A  4507    .LINE 462
                           A  4508    
041756 01 8B 5E 04         A  4509    	LD	BC,_currentlevel+7
04175A DD0FE6              A  4510    	LD	(IX+%FFFFFFE6),BC
04175D DD0FED              A  4511    	LD	(IX+%FFFFFFED),BC
041760 DD0FEA              A  4512    	LD	(IX+%FFFFFFEA),BC
041763 DD0FF0              A  4513    	LD	(IX+%FFFFFFF0),BC
041766 DD0FFD              A  4514    	LD	(IX+%FFFFFFFD),BC
041769 DD0709              A  4515    	LD	BC,(IX+%9)
04176C CD AD 2F 04         A  4516    	CALL	__stoiu
041770 3E28                A  4517    	LD	A,%28
041772 CD 5B 36 04         A  4518    	CALL	__imul_b
041776 DD2FF4              A  4519    	LD	(IX+%FFFFFFF4),HL
041779 DD07FD              A  4520    	LD	BC,(IX+%FFFFFFFD)
04177C 09                  A  4521    	ADD	HL,BC
04177D E5D1                A  4522    	LD	DE,HL
04177F DD0706              A  4523    	LD	BC,(IX+%6)
041782 CD AD 2F 04         A  4524    	CALL	__stoiu
041786 19                  A  4525    	ADD	HL,DE
041787 7E                  A  4526    	LD	A,(HL)
041788 DD77E9              A  4527    	LD	(IX+%FFFFFFE9),A
                           A  4528    ;  463		n2 = currentlevel.data[yn2][xn2]; /
                           A  4529    .LINE 463
                           A  4530    
04178B DD070F              A  4531    	LD	BC,(IX+%F)
04178E CD AD 2F 04         A  4532    	CALL	__stoiu
041792 3E28                A  4533    	LD	A,%28
041794 CD 5B 36 04         A  4534    	CALL	__imul_b
041798 DD2FFA              A  4535    	LD	(IX+%FFFFFFFA),HL
04179B DD07FD              A  4536    	LD	BC,(IX+%FFFFFFFD)
04179E 09                  A  4537    	ADD	HL,BC
04179F E5D1                A  4538    	LD	DE,HL
0417A1 DD070C              A  4539    	LD	BC,(IX+%C)
0417A4 CD AD 2F 04         A  4540    	CALL	__stoiu
0417A8 19                  A  4541    	ADD	HL,DE
0417A9 7E                  A  4542    	LD	A,(HL)
0417AA DD77F3              A  4543    	LD	(IX+%FFFFFFF3),A
                           A  4544    ;  464		n3 = currentlevel.data[yn3][xn3]; /
                           A  4545    .LINE 464
                           A  4546    
0417AD DD0715              A  4547    	LD	BC,(IX+%15)
0417B0 CD AD 2F 04         A  4548    	CALL	__stoiu
0417B4 3E28                A  4549    	LD	A,%28
0417B6 CD 5B 36 04         A  4550    	CALL	__imul_b
0417BA DD2FF7              A  4551    	LD	(IX+%FFFFFFF7),HL
0417BD DD07FD              A  4552    	LD	BC,(IX+%FFFFFFFD)
0417C0 09                  A  4553    	ADD	HL,BC
0417C1 E5D1                A  4554    	LD	DE,HL
0417C3 DD0712              A  4555    	LD	BC,(IX+%12)
0417C6 CD AD 2F 04         A  4556    	CALL	__stoiu
0417CA 19                  A  4557    	ADD	HL,DE
0417CB 7E                  A  4558    	LD	A,(HL)
0417CC DD77E5              A  4559    	LD	(IX+%FFFFFFE5),A
                           A  4560    ;  465		
                           A  4561    ;  466		switch(n3)
                           A  4562    .LINE 466
                           A  4563    
0417CF B7ED62              A  4564    	UEXT	HL
0417D2 6F                  A  4565    	LD	L,A
0417D3 CD F0 36 04         A  4566    	CALL	__case8D
0417D7 E9                  A  4567    	JP	(HL)
0417D8                     A  4568    L__34:
0417D8 0200                A  4569    	DW	2
0417DA 20                  A  4570    	DB	32
0417DB E51704              A  4571    	DW24	L_88	
                           A  4572    
0417DE 2E                  A  4573    	DB	46
0417DF 071804              A  4574    	DW24	L_89	
                           A  4575    
0417E2 271804              A  4576    	DW24	L_103	
                           A  4577    
                           A  4578    ;  467		{
                           A  4579    ;  468			case CHAR_FLOOR:
0417E5                     A  4580    L_88:
                           A  4581    .LINE 468
                           A  4582    
                           A  4583    ;  469				currentlevel.data[yn3][xn3]
                           A  4584    .LINE 469
                           A  4585    
0417E5 01 8B 5E 04         A  4586    	LD	BC,_currentlevel+7
0417E9 DD0FE6              A  4587    	LD	(IX+%FFFFFFE6),BC
0417EC DD0FED              A  4588    	LD	(IX+%FFFFFFED),BC
0417EF DD0FEA              A  4589    	LD	(IX+%FFFFFFEA),BC
0417F2 DD0FF0              A  4590    	LD	(IX+%FFFFFFF0),BC
0417F5 DD27F7              A  4591    	LD	HL,(IX+%FFFFFFF7)
0417F8 09                  A  4592    	ADD	HL,BC
0417F9 E5D1                A  4593    	LD	DE,HL
0417FB DD0712              A  4594    	LD	BC,(IX+%12)
0417FE CD AD 2F 04         A  4595    	CALL	__stoiu
041802 19                  A  4596    	ADD	HL,DE
041803 3640                A  4597    	LD	(HL),%40
                           A  4598    ;  470				break;
                           A  4599    .LINE 470
                           A  4600    
041805 18 20               A  4601    	JR	L_103
                           A  4602    ;  471			case CHAR_GOAL:
041807                     A  4603    L_89:
                           A  4604    .LINE 471
                           A  4605    
                           A  4606    ;  472				currentlevel.data[yn3][xn3]
                           A  4607    .LINE 472
                           A  4608    
041807 01 8B 5E 04         A  4609    	LD	BC,_currentlevel+7
04180B DD0FE6              A  4610    	LD	(IX+%FFFFFFE6),BC
04180E DD0FED              A  4611    	LD	(IX+%FFFFFFED),BC
041811 DD0FEA              A  4612    	LD	(IX+%FFFFFFEA),BC
041814 DD0FF0              A  4613    	LD	(IX+%FFFFFFF0),BC
041817 DD27F7              A  4614    	LD	HL,(IX+%FFFFFFF7)
04181A 09                  A  4615    	ADD	HL,BC
04181B E5D1                A  4616    	LD	DE,HL
04181D DD0712              A  4617    	LD	BC,(IX+%12)
041820 CD AD 2F 04         A  4618    	CALL	__stoiu
041824 19                  A  4619    	ADD	HL,DE
041825 362B                A  4620    	LD	(HL),%2B
                           A  4621    ;  473				break;
                           A  4622    ;  474			default:
                           A  4623    ;  475				break;
                           A  4624    ;  476		}
041827                     A  4625    L_103:
                           A  4626    .LINE 476
                           A  4627    
                           A  4628    ;  477		
                           A  4629    ;  478		if(undomove[undo_head].pushed)
                           A  4630    .LINE 478
                           A  4631    
041827 3A D2 55 04         A  4632    	LD	A,(_undo_head)
04182B B7ED62              A  4633    	UEXT	HL
04182E 6F                  A  4634    	LD	L,A
04182F 29                  A  4635    	ADD	HL,HL
041830 01 D2 54 04         A  4636    	LD	BC,_undomove
041834 09                  A  4637    	ADD	HL,BC
041835 E5FDE1              A  4638    	LD	IY,HL
041838 FD7E01              A  4639    	LD	A,(IY+%1)
04183B B7                  A  4640    	OR	A,A
04183C CA CF 18 04         A  4641    	JR	Z,L_102
                           A  4642    ;  479		{
                           A  4643    ;  480			switch(n1)
                           A  4644    .LINE 480
                           A  4645    
041840 DD7EE9              A  4646    	LD	A,(IX+%FFFFFFE9)
041843 B7ED62              A  4647    	UEXT	HL
041846 6F                  A  4648    	LD	L,A
041847 CD F0 36 04         A  4649    	CALL	__case8D
04184B E9                  A  4650    	JP	(HL)
04184C                     A  4651    L__36:
04184C 0200                A  4652    	DW	2
04184E 24                  A  4653    	DB	36
04184F 591804              A  4654    	DW24	L_91	
                           A  4655    
041852 2A                  A  4656    	DB	42
041853 6E1804              A  4657    	DW24	L_92	
                           A  4658    
041856 8A1804              A  4659    	DW24	L_98	
                           A  4660    
                           A  4661    ;  481			{
                           A  4662    ;  482				case CHAR_BOX:
041859                     A  4663    L_91:
                           A  4664    .LINE 482
                           A  4665    
                           A  4666    ;  483					currentlevel.data[yn1][
                           A  4667    .LINE 483
                           A  4668    
041859 DD07F4              A  4669    	LD	BC,(IX+%FFFFFFF4)
04185C DD27E6              A  4670    	LD	HL,(IX+%FFFFFFE6)
04185F 09                  A  4671    	ADD	HL,BC
041860 E5D1                A  4672    	LD	DE,HL
041862 DD0706              A  4673    	LD	BC,(IX+%6)
041865 CD AD 2F 04         A  4674    	CALL	__stoiu
041869 19                  A  4675    	ADD	HL,DE
04186A 3620                A  4676    	LD	(HL),%20
                           A  4677    ;  484					break;
                           A  4678    .LINE 484
                           A  4679    
04186C 18 1C               A  4680    	JR	L_98
                           A  4681    ;  485				case CHAR_BOXONGOAL:
04186E                     A  4682    L_92:
                           A  4683    .LINE 485
                           A  4684    
                           A  4685    ;  486					currentlevel.data[yn1][
                           A  4686    .LINE 486
                           A  4687    
04186E DD07F4              A  4688    	LD	BC,(IX+%FFFFFFF4)
041871 DD27ED              A  4689    	LD	HL,(IX+%FFFFFFED)
041874 09                  A  4690    	ADD	HL,BC
041875 E5D1                A  4691    	LD	DE,HL
041877 DD0706              A  4692    	LD	BC,(IX+%6)
04187A CD AD 2F 04         A  4693    	CALL	__stoiu
04187E 19                  A  4694    	ADD	HL,DE
04187F 362E                A  4695    	LD	(HL),%2E
                           A  4696    ;  487					currentlevel.goalstaken
                           A  4697    .LINE 487
                           A  4698    
041881 3A 89 5E 04         A  4699    	LD	A,(_currentlevel+5)
041885 3D                  A  4700    	DEC	A
041886 32 89 5E 04         A  4701    	LD	(_currentlevel+5),A
                           A  4702    ;  488					break;
                           A  4703    ;  489				default:
                           A  4704    ;  490					break;
                           A  4705    ;  491			}
04188A                     A  4706    L_98:
                           A  4707    .LINE 491
                           A  4708    
                           A  4709    ;  492			switch(n2) // revert push to bo
                           A  4710    .LINE 492
                           A  4711    
04188A DD7EF3              A  4712    	LD	A,(IX+%FFFFFFF3)
04188D B7ED62              A  4713    	UEXT	HL
041890 6F                  A  4714    	LD	L,A
041891 012B0000            A  4715    	LD	BC,43
041895 B7                  A  4716    	OR	A,A
041896 ED42                A  4717    	SBC	HL,BC
041898 20 1F               A  4718    	JR	NZ,L_97
                           A  4719    ;  493			{
                           A  4720    ;  494				case CHAR_PLAYERONGOAL:
                           A  4721    .LINE 494
                           A  4722    
                           A  4723    ;  495					currentlevel.data[yn2][
                           A  4724    .LINE 495
                           A  4725    
04189A 01 8B 5E 04         A  4726    	LD	BC,_currentlevel+7
04189E DD27FA              A  4727    	LD	HL,(IX+%FFFFFFFA)
0418A1 09                  A  4728    	ADD	HL,BC
0418A2 E5D1                A  4729    	LD	DE,HL
0418A4 DD070C              A  4730    	LD	BC,(IX+%C)
0418A7 CD AD 2F 04         A  4731    	CALL	__stoiu
0418AB 19                  A  4732    	ADD	HL,DE
0418AC 362A                A  4733    	LD	(HL),%2A
                           A  4734    ;  496					currentlevel.goalstaken
                           A  4735    .LINE 496
                           A  4736    
0418AE 3A 89 5E 04         A  4737    	LD	A,(_currentlevel+5)
0418B2 3C                  A  4738    	INC	A
0418B3 32 89 5E 04         A  4739    	LD	(_currentlevel+5),A
                           A  4740    ;  497					break;
                           A  4741    .LINE 497
                           A  4742    
0418B7 18 4E               A  4743    	JR	L_104
                           A  4744    ;  498				default:
0418B9                     A  4745    L_97:
                           A  4746    .LINE 498
                           A  4747    
                           A  4748    ;  499					currentlevel.data[yn2][
                           A  4749    .LINE 499
                           A  4750    
0418B9 01 8B 5E 04         A  4751    	LD	BC,_currentlevel+7
0418BD DD27FA              A  4752    	LD	HL,(IX+%FFFFFFFA)
0418C0 09                  A  4753    	ADD	HL,BC
0418C1 E5D1                A  4754    	LD	DE,HL
0418C3 DD070C              A  4755    	LD	BC,(IX+%C)
0418C6 CD AD 2F 04         A  4756    	CALL	__stoiu
0418CA 19                  A  4757    	ADD	HL,DE
0418CB 3624                A  4758    	LD	(HL),%24
                           A  4759    ;  500					break;
                           A  4760    .LINE 500
                           A  4761    
0418CD 18 38               A  4762    	JR	L_104
                           A  4763    ;  501			}
                           A  4764    ;  502		}
                           A  4765    ;  503		else // only the player switched po
0418CF                     A  4766    L_102:
                           A  4767    .LINE 503
                           A  4768    
                           A  4769    ;  504		{
                           A  4770    ;  505			switch(n2)
                           A  4771    .LINE 505
                           A  4772    
0418CF DD7EF3              A  4773    	LD	A,(IX+%FFFFFFF3)
0418D2 B7ED62              A  4774    	UEXT	HL
0418D5 6F                  A  4775    	LD	L,A
0418D6 012B0000            A  4776    	LD	BC,43
0418DA B7                  A  4777    	OR	A,A
0418DB ED42                A  4778    	SBC	HL,BC
0418DD 20 15               A  4779    	JR	NZ,L_100
                           A  4780    ;  506			{
                           A  4781    ;  507				case CHAR_PLAYERONGOAL:
                           A  4782    .LINE 507
                           A  4783    
                           A  4784    ;  508					currentlevel.data[yn2][
                           A  4785    .LINE 508
                           A  4786    
0418DF DD07FA              A  4787    	LD	BC,(IX+%FFFFFFFA)
0418E2 DD27EA              A  4788    	LD	HL,(IX+%FFFFFFEA)
0418E5 09                  A  4789    	ADD	HL,BC
0418E6 E5D1                A  4790    	LD	DE,HL
0418E8 DD070C              A  4791    	LD	BC,(IX+%C)
0418EB CD AD 2F 04         A  4792    	CALL	__stoiu
0418EF 19                  A  4793    	ADD	HL,DE
0418F0 362E                A  4794    	LD	(HL),%2E
                           A  4795    ;  509					break;
                           A  4796    .LINE 509
                           A  4797    
0418F2 18 13               A  4798    	JR	L_104
                           A  4799    ;  510				default:
0418F4                     A  4800    L_100:
                           A  4801    .LINE 510
                           A  4802    
                           A  4803    ;  511					currentlevel.data[yn2][
                           A  4804    .LINE 511
                           A  4805    
0418F4 DD07FA              A  4806    	LD	BC,(IX+%FFFFFFFA)
0418F7 DD27F0              A  4807    	LD	HL,(IX+%FFFFFFF0)
0418FA 09                  A  4808    	ADD	HL,BC
0418FB E5D1                A  4809    	LD	DE,HL
0418FD DD070C              A  4810    	LD	BC,(IX+%C)
041900 CD AD 2F 04         A  4811    	CALL	__stoiu
041904 19                  A  4812    	ADD	HL,DE
041905 3620                A  4813    	LD	(HL),%20
                           A  4814    ;  512					break;
                           A  4815    ;  513			}
                           A  4816    ;  514		}
041907                     A  4817    L_104:
                           A  4818    .LINE 514
                           A  4819    
                           A  4820    ;  515		
                           A  4821    ;  516		// update player position
                           A  4822    ;  517		currentlevel.xpos = xn3;
                           A  4823    .LINE 517
                           A  4824    
041907 DD7E12              A  4825    	LD	A,(IX+%12)
04190A 32 84 5E 04         A  4826    	LD	(_currentlevel),A
                           A  4827    ;  518		currentlevel.ypos = yn3;
                           A  4828    .LINE 518
                           A  4829    
04190E DD7E15              A  4830    	LD	A,(IX+%15)
041911 32 85 5E 04         A  4831    	LD	(_currentlevel+1),A
                           A  4832    ;  519	}
                           A  4833    .LINE 519
                           A  4834    
041915 DDF9                A  4835    	LD	SP,IX
041917 DDE1                A  4836    	POP	IX
041919 C9                  A  4837    	RET	
                           A  4838    
                           A  4839    
                           A  4840    ;**************************** _undomove_updatel
                           A  4841    ;Name                         Addr/Register   S
                           A  4842    ;_undo_head                          STATIC    
                           A  4843    ;_undomove                           STATIC    
                           A  4844    ;_currentlevel                       STATIC   1
                           A  4845    ;n3                                   IX-27    
                           A  4846    ;G_17                                 IX-26    
                           A  4847    ;n1                                   IX-23    
                           A  4848    ;G_23                                 IX-22    
                           A  4849    ;G_19                                 IX-19    
                           A  4850    ;G_25                                 IX-16    
                           A  4851    ;n2                                   IX-13    
                           A  4852    ;G_18                                 IX-12    
                           A  4853    ;G_14                                  IX-9    
                           A  4854    ;G_21                                  IX-6    
                           A  4855    ;yn3                                  IX+21    
                           A  4856    ;xn3                                  IX+18    
                           A  4857    ;yn2                                  IX+15    
                           A  4858    ;xn2                                  IX+12    
                           A  4859    ;yn1                                   IX+9    
                           A  4860    ;xn1                                   IX+6    
                           A  4861    
                           A  4862    
                           A  4863    ; Stack Frame Size: 51 (bytes)
                           A  4864    ;       Spill Code: 0 (instruction)
                           A  4865    
                           A  4866    
                           A  4867    .ENDFUNC "undomove_updatelevel",519,"_undomove_
                           A  4868    ;  520	
                           A  4869    ;  521	void game_handleUndoMove(void)
                           A  4870    ;  522	{
04191A                     A  4871    _game_handleUndoMove:
                           A  4872    .DEFINE "_game_handleUndoMove"
                           A  4873    
                           A  4874    .VALUE _game_handleUndoMove
                           A  4875    
                           A  4876    .CLASS 2
                           A  4877    
                           A  4878    .TYPE 65
                           A  4879    
                           A  4880    .ENDEF
                           A  4881    
                           A  4882    .BEGFUNC "game_handleUndoMove",522,"_game_handl
                           A  4883    
                           A  4884    .LINE 522
                           A  4885    
                           A  4886    .DEFINE "xn2"
                           A  4887    
                           A  4888    .CLASS 65
                           A  4889    
                           A  4890    .VALUE -2
                           A  4891    
                           A  4892    .TYPE 3
                           A  4893    
                           A  4894    .ENDEF
                           A  4895    
                           A  4896    .DEFINE "yn2"
                           A  4897    
                           A  4898    .CLASS 65
                           A  4899    
                           A  4900    .VALUE -4
                           A  4901    
                           A  4902    .TYPE 3
                           A  4903    
                           A  4904    .ENDEF
                           A  4905    
                           A  4906    .DEFINE "yn1"
                           A  4907    
                           A  4908    .CLASS 65
                           A  4909    
                           A  4910    .VALUE -6
                           A  4911    
                           A  4912    .TYPE 3
                           A  4913    
                           A  4914    .ENDEF
                           A  4915    
                           A  4916    .DEFINE "xn1"
                           A  4917    
                           A  4918    .CLASS 65
                           A  4919    
                           A  4920    .VALUE -8
                           A  4921    
                           A  4922    .TYPE 3
                           A  4923    
                           A  4924    .ENDEF
                           A  4925    
                           A  4926    .DEFINE "xn3"
                           A  4927    
                           A  4928    .CLASS 65
                           A  4929    
                           A  4930    .VALUE -10
                           A  4931    
                           A  4932    .TYPE 3
                           A  4933    
                           A  4934    .ENDEF
                           A  4935    
                           A  4936    .DEFINE "yn3"
                           A  4937    
                           A  4938    .CLASS 65
                           A  4939    
                           A  4940    .VALUE -12
                           A  4941    
                           A  4942    .TYPE 3
                           A  4943    
                           A  4944    .ENDEF
                           A  4945    
04191A DDE5                A  4946    	PUSH	IX
04191C DD210000 00         A  4947    	LD	IX,0
041921 DD39                A  4948    	ADD	IX,SP
041923 ED22F4              A  4949    	LEA	HL,IX+%FFFFFFF4
041926 F9                  A  4950    	LD	SP,HL
                           A  4951    ;  523		INT16 xn1 = 0, xn2 = 0, yn1 = 0, yn
                           A  4952    .LINE 523
                           A  4953    
041927 DD36F800            A  4954    	LD	(IX+%FFFFFFF8),%0
04192B DD36F900            A  4955    	LD	(IX+%FFFFFFF9),%0
04192F DD36FA00            A  4956    	LD	(IX+%FFFFFFFA),%0
041933 DD36FB00            A  4957    	LD	(IX+%FFFFFFFB),%0
041937 DD36F600            A  4958    	LD	(IX+%FFFFFFF6),%0
04193B DD36F700            A  4959    	LD	(IX+%FFFFFFF7),%0
04193F DD36F400            A  4960    	LD	(IX+%FFFFFFF4),%0
041943 DD36F500            A  4961    	LD	(IX+%FFFFFFF5),%0
                           A  4962    ;  524		
                           A  4963    ;  525		if(num_undomoves)
                           A  4964    .LINE 525
                           A  4965    
041947 3A D3 55 04         A  4966    	LD	A,(_num_undomoves)
04194B B7                  A  4967    	OR	A,A
04194C CA 97 1A 04         A  4968    	JR	Z,L_117
                           A  4969    ;  526		{
                           A  4970    ;  527			xn2 = currentlevel.xpos;
                           A  4971    .LINE 527
                           A  4972    
041950 3A 84 5E 04         A  4973    	LD	A,(_currentlevel)
041954 4F                  A  4974    	LD	C,A
041955 0600                A  4975    	LD	B,%0
041957 C5E1                A  4976    	LD	HL,BC
041959 DD75FE              A  4977    	LD	(IX+%FFFFFFFE),L
04195C DD74FF              A  4978    	LD	(IX+%FFFFFFFF),H
                           A  4979    ;  528			yn2 = currentlevel.ypos;
                           A  4980    .LINE 528
                           A  4981    
04195F 3A 85 5E 04         A  4982    	LD	A,(_currentlevel+1)
041963 4F                  A  4983    	LD	C,A
041964 C5E1                A  4984    	LD	HL,BC
041966 DD75FC              A  4985    	LD	(IX+%FFFFFFFC),L
041969 DD74FD              A  4986    	LD	(IX+%FFFFFFFD),H
                           A  4987    ;  529	
                           A  4988    ;  530			// pop one move off circular bu
                           A  4989    ;  531			if(undo_head) undo_head--;
                           A  4990    .LINE 531
                           A  4991    
04196C 3A D2 55 04         A  4992    	LD	A,(_undo_head)
041970 B7                  A  4993    	OR	A,A
041971 28 0B               A  4994    	JR	Z,L_108
041973 3A D2 55 04         A  4995    	LD	A,(_undo_head)
041977 3D                  A  4996    	DEC	A
041978 32 D2 55 04         A  4997    	LD	(_undo_head),A
                           A  4998    ;  532			else undo_head = UNDOBUFFERSIZE
                           A  4999    .LINE 532
                           A  5000    
04197C 18 06               A  5001    	JR	L_113
04197E                     A  5002    L_108:
04197E 3E7F                A  5003    	LD	A,%7F
041980 32 D2 55 04         A  5004    	LD	(_undo_head),A
041984                     A  5005    L_113:
                           A  5006    ;  533			// undo_head no points to previ
                           A  5007    ;  534			
                           A  5008    ;  535			switch(undomove[undo_head].move
                           A  5009    .LINE 535
                           A  5010    
041984 3A D2 55 04         A  5011    	LD	A,(_undo_head)
041988 B7ED62              A  5012    	UEXT	HL
04198B 6F                  A  5013    	LD	L,A
04198C 29                  A  5014    	ADD	HL,HL
04198D 01 D2 54 04         A  5015    	LD	BC,_undomove
041991 09                  A  5016    	ADD	HL,BC
041992 E5FDE1              A  5017    	LD	IY,HL
041995 FD7E00              A  5018    	LD	A,(IY+%0)
041998 B7ED62              A  5019    	UEXT	HL
04199B 6F                  A  5020    	LD	L,A
04199C CD F0 36 04         A  5021    	CALL	__case8D
0419A0 E9                  A  5022    	JP	(HL)
0419A1                     A  5023    L__40:
0419A1 0400                A  5024    	DW	4
0419A3 08                  A  5025    	DB	8
0419A4 B61904              A  5026    	DW24	L_109	
                           A  5027    
0419A7 0A                  A  5028    	DB	10
0419A8 061A04              A  5029    	DW24	L_111	
                           A  5030    
0419AB 0B                  A  5031    	DB	11
0419AC DE1904              A  5032    	DW24	L_110	
                           A  5033    
0419AF 15                  A  5034    	DB	21
0419B0 2E1A04              A  5035    	DW24	L_112	
                           A  5036    
0419B3 541A04              A  5037    	DW24	L_114	
                           A  5038    
                           A  5039    ;  536			{
                           A  5040    ;  537				case 0x8: // undo LEFT
0419B6                     A  5041    L_109:
                           A  5042    .LINE 537
                           A  5043    
                           A  5044    ;  538					yn1 = yn2;
                           A  5045    .LINE 538
                           A  5046    
0419B6 DD07FC              A  5047    	LD	BC,(IX+%FFFFFFFC)
0419B9 DD71FA              A  5048    	LD	(IX+%FFFFFFFA),C
0419BC DD70FB              A  5049    	LD	(IX+%FFFFFFFB),B
                           A  5050    ;  539					yn3 = yn2;
                           A  5051    .LINE 539
                           A  5052    
0419BF DD07FC              A  5053    	LD	BC,(IX+%FFFFFFFC)
0419C2 DD71F4              A  5054    	LD	(IX+%FFFFFFF4),C
0419C5 DD70F5              A  5055    	LD	(IX+%FFFFFFF5),B
                           A  5056    ;  540					xn1 = xn2 - 1;
                           A  5057    .LINE 540
                           A  5058    
0419C8 DD27FE              A  5059    	LD	HL,(IX+%FFFFFFFE)
0419CB 2B                  A  5060    	DEC	HL
0419CC DD75F8              A  5061    	LD	(IX+%FFFFFFF8),L
0419CF DD74F9              A  5062    	LD	(IX+%FFFFFFF9),H
                           A  5063    ;  541					xn3 = xn2 + 1;
                           A  5064    .LINE 541
                           A  5065    
0419D2 DD27FE              A  5066    	LD	HL,(IX+%FFFFFFFE)
0419D5 23                  A  5067    	INC	HL
0419D6 DD75F6              A  5068    	LD	(IX+%FFFFFFF6),L
0419D9 DD74F7              A  5069    	LD	(IX+%FFFFFFF7),H
                           A  5070    ;  542					break;
                           A  5071    .LINE 542
                           A  5072    
0419DC 18 76               A  5073    	JR	L_114
                           A  5074    ;  543				case 0xb: // undo UP
0419DE                     A  5075    L_110:
                           A  5076    .LINE 543
                           A  5077    
                           A  5078    ;  544					xn1 = xn2;
                           A  5079    .LINE 544
                           A  5080    
0419DE DD07FE              A  5081    	LD	BC,(IX+%FFFFFFFE)
0419E1 DD71F8              A  5082    	LD	(IX+%FFFFFFF8),C
0419E4 DD70F9              A  5083    	LD	(IX+%FFFFFFF9),B
                           A  5084    ;  545					xn3 = xn2;
                           A  5085    .LINE 545
                           A  5086    
0419E7 DD07FE              A  5087    	LD	BC,(IX+%FFFFFFFE)
0419EA DD71F6              A  5088    	LD	(IX+%FFFFFFF6),C
0419ED DD70F7              A  5089    	LD	(IX+%FFFFFFF7),B
                           A  5090    ;  546					yn1 = yn2 - 1;
                           A  5091    .LINE 546
                           A  5092    
0419F0 DD27FC              A  5093    	LD	HL,(IX+%FFFFFFFC)
0419F3 2B                  A  5094    	DEC	HL
0419F4 DD75FA              A  5095    	LD	(IX+%FFFFFFFA),L
0419F7 DD74FB              A  5096    	LD	(IX+%FFFFFFFB),H
                           A  5097    ;  547					yn3 = yn2 + 1;
                           A  5098    .LINE 547
                           A  5099    
0419FA DD27FC              A  5100    	LD	HL,(IX+%FFFFFFFC)
0419FD 23                  A  5101    	INC	HL
0419FE DD75F4              A  5102    	LD	(IX+%FFFFFFF4),L
041A01 DD74F5              A  5103    	LD	(IX+%FFFFFFF5),H
                           A  5104    ;  548					break;
                           A  5105    .LINE 548
                           A  5106    
041A04 18 4E               A  5107    	JR	L_114
                           A  5108    ;  549				case 0xa: // undo DOWN
041A06                     A  5109    L_111:
                           A  5110    .LINE 549
                           A  5111    
                           A  5112    ;  550					xn1 = xn2;
                           A  5113    .LINE 550
                           A  5114    
041A06 DD07FE              A  5115    	LD	BC,(IX+%FFFFFFFE)
041A09 DD71F8              A  5116    	LD	(IX+%FFFFFFF8),C
041A0C DD70F9              A  5117    	LD	(IX+%FFFFFFF9),B
                           A  5118    ;  551					xn3 = xn2;
                           A  5119    .LINE 551
                           A  5120    
041A0F DD07FE              A  5121    	LD	BC,(IX+%FFFFFFFE)
041A12 DD71F6              A  5122    	LD	(IX+%FFFFFFF6),C
041A15 DD70F7              A  5123    	LD	(IX+%FFFFFFF7),B
                           A  5124    ;  552					yn1 = yn2 + 1;
                           A  5125    .LINE 552
                           A  5126    
041A18 DD27FC              A  5127    	LD	HL,(IX+%FFFFFFFC)
041A1B 23                  A  5128    	INC	HL
041A1C DD75FA              A  5129    	LD	(IX+%FFFFFFFA),L
041A1F DD74FB              A  5130    	LD	(IX+%FFFFFFFB),H
                           A  5131    ;  553					yn3 = yn2 - 1;
                           A  5132    .LINE 553
                           A  5133    
041A22 DD27FC              A  5134    	LD	HL,(IX+%FFFFFFFC)
041A25 2B                  A  5135    	DEC	HL
041A26 DD75F4              A  5136    	LD	(IX+%FFFFFFF4),L
041A29 DD74F5              A  5137    	LD	(IX+%FFFFFFF5),H
                           A  5138    ;  554					break;
                           A  5139    .LINE 554
                           A  5140    
041A2C 18 26               A  5141    	JR	L_114
                           A  5142    ;  555				case 0x15: // undo RIGHT
041A2E                     A  5143    L_112:
                           A  5144    .LINE 555
                           A  5145    
                           A  5146    ;  556					yn1 = yn2;
                           A  5147    .LINE 556
                           A  5148    
041A2E DD07FC              A  5149    	LD	BC,(IX+%FFFFFFFC)
041A31 DD71FA              A  5150    	LD	(IX+%FFFFFFFA),C
041A34 DD70FB              A  5151    	LD	(IX+%FFFFFFFB),B
                           A  5152    ;  557					yn3 = yn2;
                           A  5153    .LINE 557
                           A  5154    
041A37 DD07FC              A  5155    	LD	BC,(IX+%FFFFFFFC)
041A3A DD71F4              A  5156    	LD	(IX+%FFFFFFF4),C
041A3D DD70F5              A  5157    	LD	(IX+%FFFFFFF5),B
                           A  5158    ;  558					xn1 = xn2 + 1;
                           A  5159    .LINE 558
                           A  5160    
041A40 DD27FE              A  5161    	LD	HL,(IX+%FFFFFFFE)
041A43 23                  A  5162    	INC	HL
041A44 DD75F8              A  5163    	LD	(IX+%FFFFFFF8),L
041A47 DD74F9              A  5164    	LD	(IX+%FFFFFFF9),H
                           A  5165    ;  559					xn3 = xn2 - 1;
                           A  5166    .LINE 559
                           A  5167    
041A4A DD27FE              A  5168    	LD	HL,(IX+%FFFFFFFE)
041A4D 2B                  A  5169    	DEC	HL
041A4E DD75F6              A  5170    	LD	(IX+%FFFFFFF6),L
041A51 DD74F7              A  5171    	LD	(IX+%FFFFFFF7),H
                           A  5172    ;  560					break;
                           A  5173    ;  561			}
041A54                     A  5174    L_114:
                           A  5175    .LINE 561
                           A  5176    
                           A  5177    ;  562			undomove_sprites(xn1,yn1,xn2,yn
                           A  5178    .LINE 562
                           A  5179    
041A54 DD07FC              A  5180    	LD	BC,(IX+%FFFFFFFC)
041A57 C5                  A  5181    	PUSH	BC
041A58 DD07FE              A  5182    	LD	BC,(IX+%FFFFFFFE)
041A5B C5                  A  5183    	PUSH	BC
041A5C DD07FA              A  5184    	LD	BC,(IX+%FFFFFFFA)
041A5F C5                  A  5185    	PUSH	BC
041A60 DD07F8              A  5186    	LD	BC,(IX+%FFFFFFF8)
041A63 C5                  A  5187    	PUSH	BC
041A64 CD 73 13 04         A  5188    	CALL	_undomove_sprites
041A68 C1                  A  5189    	POP	BC
041A69 C1                  A  5190    	POP	BC
041A6A C1                  A  5191    	POP	BC
041A6B C1                  A  5192    	POP	BC
                           A  5193    ;  563			undomove_updatelevel(xn1, yn1, 
                           A  5194    .LINE 563
                           A  5195    
041A6C DD07F4              A  5196    	LD	BC,(IX+%FFFFFFF4)
041A6F C5                  A  5197    	PUSH	BC
041A70 DD07F6              A  5198    	LD	BC,(IX+%FFFFFFF6)
041A73 C5                  A  5199    	PUSH	BC
041A74 DD07FC              A  5200    	LD	BC,(IX+%FFFFFFFC)
041A77 C5                  A  5201    	PUSH	BC
041A78 DD07FE              A  5202    	LD	BC,(IX+%FFFFFFFE)
041A7B C5                  A  5203    	PUSH	BC
041A7C DD07FA              A  5204    	LD	BC,(IX+%FFFFFFFA)
041A7F C5                  A  5205    	PUSH	BC
041A80 DD07F8              A  5206    	LD	BC,(IX+%FFFFFFF8)
041A83 C5                  A  5207    	PUSH	BC
041A84 CD 49 17 04         A  5208    	CALL	_undomove_updatelevel
041A88 C1                  A  5209    	POP	BC
041A89 C1                  A  5210    	POP	BC
041A8A C1                  A  5211    	POP	BC
041A8B C1                  A  5212    	POP	BC
041A8C C1                  A  5213    	POP	BC
041A8D C1                  A  5214    	POP	BC
                           A  5215    ;  564			
                           A  5216    ;  565			num_undomoves--;
                           A  5217    .LINE 565
                           A  5218    
041A8E 3A D3 55 04         A  5219    	LD	A,(_num_undomoves)
041A92 3D                  A  5220    	DEC	A
041A93 32 D3 55 04         A  5221    	LD	(_num_undomoves),A
                           A  5222    ;  566		}
                           A  5223    ;  567	}
041A97                     A  5224    L_117:
                           A  5225    .LINE 567
                           A  5226    
041A97 DDF9                A  5227    	LD	SP,IX
041A99 DDE1                A  5228    	POP	IX
041A9B C9                  A  5229    	RET	
                           A  5230    
                           A  5231    
                           A  5232    ;**************************** _game_handleUndoM
                           A  5233    ;Name                         Addr/Register   S
                           A  5234    ;_undomove                           STATIC    
                           A  5235    ;_undo_head                          STATIC    
                           A  5236    ;_currentlevel                       STATIC   1
                           A  5237    ;_num_undomoves                      STATIC    
                           A  5238    ;yn3                                  IX-12    
                           A  5239    ;xn3                                  IX-10    
                           A  5240    ;xn1                                   IX-8    
                           A  5241    ;yn1                                   IX-6    
                           A  5242    ;yn2                                   IX-4    
                           A  5243    ;xn2                                   IX-2    
                           A  5244    
                           A  5245    
                           A  5246    ; Stack Frame Size: 18 (bytes)
                           A  5247    ;       Spill Code: 0 (instruction)
                           A  5248    
                           A  5249    
                           A  5250    .ENDFUNC "game_handleUndoMove",567,"_game_handl
                           A  5251    ;  568	
                           A  5252    ;  569	BOOL game_handleKey(char key)
                           A  5253    ;  570	{
041A9C                     A  5254    _game_handleKey:
                           A  5255    .DEFINE "_game_handleKey"
                           A  5256    
                           A  5257    .VALUE _game_handleKey
                           A  5258    
                           A  5259    .CLASS 2
                           A  5260    
                           A  5261    .TYPE 76
                           A  5262    
                           A  5263    .ENDEF
                           A  5264    
                           A  5265    .BEGFUNC "game_handleKey",570,"_game_handleKey"
                           A  5266    
                           A  5267    .LINE 570
                           A  5268    
                           A  5269    .DEFINE "key"
                           A  5270    
                           A  5271    .CLASS 65
                           A  5272    
                           A  5273    .VALUE 6
                           A  5274    
                           A  5275    .TYPE 2
                           A  5276    
                           A  5277    .ENDEF
                           A  5278    
                           A  5279    .DEFINE "xn1"
                           A  5280    
                           A  5281    .CLASS 65
                           A  5282    
                           A  5283    .VALUE -2
                           A  5284    
                           A  5285    .TYPE 3
                           A  5286    
                           A  5287    .ENDEF
                           A  5288    
                           A  5289    .DEFINE "yn1"
                           A  5290    
                           A  5291    .CLASS 65
                           A  5292    
                           A  5293    .VALUE -4
                           A  5294    
                           A  5295    .TYPE 3
                           A  5296    
                           A  5297    .ENDEF
                           A  5298    
                           A  5299    .DEFINE "xn2"
                           A  5300    
                           A  5301    .CLASS 65
                           A  5302    
                           A  5303    .VALUE -6
                           A  5304    
                           A  5305    .TYPE 3
                           A  5306    
                           A  5307    .ENDEF
                           A  5308    
                           A  5309    .DEFINE "yn2"
                           A  5310    
                           A  5311    .CLASS 65
                           A  5312    
                           A  5313    .VALUE -8
                           A  5314    
                           A  5315    .TYPE 3
                           A  5316    
                           A  5317    .ENDEF
                           A  5318    
                           A  5319    .DEFINE "move"
                           A  5320    
                           A  5321    .CLASS 65
                           A  5322    
                           A  5323    .VALUE -9
                           A  5324    
                           A  5325    .TYPE 12
                           A  5326    
                           A  5327    .ENDEF
                           A  5328    
                           A  5329    .DEFINE "done"
                           A  5330    
                           A  5331    .CLASS 65
                           A  5332    
                           A  5333    .VALUE -10
                           A  5334    
                           A  5335    .TYPE 12
                           A  5336    
                           A  5337    .ENDEF
                           A  5338    
041A9C DDE5                A  5339    	PUSH	IX
041A9E DD210000 00         A  5340    	LD	IX,0
041AA3 DD39                A  5341    	ADD	IX,SP
041AA5 ED22EA              A  5342    	LEA	HL,IX+%FFFFFFEA
041AA8 F9                  A  5343    	LD	SP,HL
                           A  5344    ;  571		BOOL done = FALSE;
                           A  5345    .LINE 571
                           A  5346    
041AA9 DD36F600            A  5347    	LD	(IX+%FFFFFFF6),%0
                           A  5348    ;  572		BOOL move = FALSE;
                           A  5349    ;  573		INT16	xn1 = 0,xn2 = 0,yn1 = 0,yn2
                           A  5350    .LINE 573
                           A  5351    
041AAD DD36FE00            A  5352    	LD	(IX+%FFFFFFFE),%0
041AB1 DD36FF00            A  5353    	LD	(IX+%FFFFFFFF),%0
041AB5 DD36FA00            A  5354    	LD	(IX+%FFFFFFFA),%0
041AB9 DD36FB00            A  5355    	LD	(IX+%FFFFFFFB),%0
041ABD DD36FC00            A  5356    	LD	(IX+%FFFFFFFC),%0
041AC1 DD36FD00            A  5357    	LD	(IX+%FFFFFFFD),%0
041AC5 DD36F800            A  5358    	LD	(IX+%FFFFFFF8),%0
041AC9 DD36F900            A  5359    	LD	(IX+%FFFFFFF9),%0
                           A  5360    ;  574		
                           A  5361    ;  575		switch(key)
                           A  5362    .LINE 575
                           A  5363    
041ACD DD7E06              A  5364    	LD	A,(IX+%6)
041AD0 17ED62              A  5365    	SEXT	HL
041AD3 DD6E06              A  5366    	LD	L,(IX+%6)
041AD6 CD F0 36 04         A  5367    	CALL	__case8D
041ADA E9                  A  5368    	JP	(HL)
041ADB                     A  5369    L__42:
041ADB 0400                A  5370    	DW	4
041ADD 08                  A  5371    	DB	8
041ADE F01A04              A  5372    	DW24	L_118	
                           A  5373    
041AE1 0A                  A  5374    	DB	10
041AE2 781B04              A  5375    	DW24	L_120	
                           A  5376    
041AE5 0B                  A  5377    	DB	11
041AE6 351B04              A  5378    	DW24	L_119	
                           A  5379    
041AE9 15                  A  5380    	DB	21
041AEA B91B04              A  5381    	DW24	L_121	
                           A  5382    
041AED FC1B04              A  5383    	DW24	L_122	
                           A  5384    
                           A  5385    ;  576		{
                           A  5386    ;  577			case 0x8: // LEFT
041AF0                     A  5387    L_118:
                           A  5388    .LINE 577
                           A  5389    
                           A  5390    ;  578				xn1 = currentlevel.xpos - 1
                           A  5391    .LINE 578
                           A  5392    
041AF0 3A 84 5E 04         A  5393    	LD	A,(_currentlevel)
041AF4 4F                  A  5394    	LD	C,A
041AF5 0600                A  5395    	LD	B,%0
041AF7 0B                  A  5396    	DEC	BC
041AF8 C5E1                A  5397    	LD	HL,BC
041AFA DD75FE              A  5398    	LD	(IX+%FFFFFFFE),L
041AFD DD74FF              A  5399    	LD	(IX+%FFFFFFFF),H
                           A  5400    ;  579				yn1 = currentlevel.ypos;
                           A  5401    .LINE 579
                           A  5402    
041B00 3A 85 5E 04         A  5403    	LD	A,(_currentlevel+1)
041B04 4F                  A  5404    	LD	C,A
041B05 0600                A  5405    	LD	B,%0
041B07 C5E1                A  5406    	LD	HL,BC
041B09 DD75FC              A  5407    	LD	(IX+%FFFFFFFC),L
041B0C DD74FD              A  5408    	LD	(IX+%FFFFFFFD),H
                           A  5409    ;  580				xn2 = currentlevel.xpos - 2
                           A  5410    .LINE 580
                           A  5411    
041B0F 3A 84 5E 04         A  5412    	LD	A,(_currentlevel)
041B13 4F                  A  5413    	LD	C,A
041B14 0B                  A  5414    	DEC	BC
041B15 0B                  A  5415    	DEC	BC
041B16 C5E1                A  5416    	LD	HL,BC
041B18 DD75FA              A  5417    	LD	(IX+%FFFFFFFA),L
041B1B DD74FB              A  5418    	LD	(IX+%FFFFFFFB),H
                           A  5419    ;  581				yn2 = currentlevel.ypos;
                           A  5420    .LINE 581
                           A  5421    
041B1E 3A 85 5E 04         A  5422    	LD	A,(_currentlevel+1)
041B22 4F                  A  5423    	LD	C,A
041B23 0600                A  5424    	LD	B,%0
041B25 C5E1                A  5425    	LD	HL,BC
041B27 DD75F8              A  5426    	LD	(IX+%FFFFFFF8),L
041B2A DD74F9              A  5427    	LD	(IX+%FFFFFFF9),H
                           A  5428    ;  582				move = TRUE;
                           A  5429    .LINE 582
                           A  5430    
041B2D DD36F701            A  5431    	LD	(IX+%FFFFFFF7),%1
                           A  5432    ;  583				break;
                           A  5433    .LINE 583
                           A  5434    
041B31 C3 00 1C 04         A  5435    	JR	L_134
                           A  5436    ;  584			case 0xb:
041B35                     A  5437    L_119:
                           A  5438    .LINE 584
                           A  5439    
                           A  5440    ;  585				xn1 = currentlevel.xpos;
                           A  5441    .LINE 585
                           A  5442    
041B35 3A 84 5E 04         A  5443    	LD	A,(_currentlevel)
041B39 4F                  A  5444    	LD	C,A
041B3A 0600                A  5445    	LD	B,%0
041B3C C5E1                A  5446    	LD	HL,BC
041B3E DD75FE              A  5447    	LD	(IX+%FFFFFFFE),L
041B41 DD74FF              A  5448    	LD	(IX+%FFFFFFFF),H
                           A  5449    ;  586				yn1 = currentlevel.ypos - 1
                           A  5450    .LINE 586
                           A  5451    
041B44 3A 85 5E 04         A  5452    	LD	A,(_currentlevel+1)
041B48 4F                  A  5453    	LD	C,A
041B49 0B                  A  5454    	DEC	BC
041B4A C5E1                A  5455    	LD	HL,BC
041B4C DD75FC              A  5456    	LD	(IX+%FFFFFFFC),L
041B4F DD74FD              A  5457    	LD	(IX+%FFFFFFFD),H
                           A  5458    ;  587				xn2 = currentlevel.xpos;
                           A  5459    .LINE 587
                           A  5460    
041B52 3A 84 5E 04         A  5461    	LD	A,(_currentlevel)
041B56 4F                  A  5462    	LD	C,A
041B57 0600                A  5463    	LD	B,%0
041B59 C5E1                A  5464    	LD	HL,BC
041B5B DD75FA              A  5465    	LD	(IX+%FFFFFFFA),L
041B5E DD74FB              A  5466    	LD	(IX+%FFFFFFFB),H
                           A  5467    ;  588				yn2 = currentlevel.ypos - 2
                           A  5468    .LINE 588
                           A  5469    
041B61 3A 85 5E 04         A  5470    	LD	A,(_currentlevel+1)
041B65 4F                  A  5471    	LD	C,A
041B66 0B                  A  5472    	DEC	BC
041B67 0B                  A  5473    	DEC	BC
041B68 C5E1                A  5474    	LD	HL,BC
041B6A DD75F8              A  5475    	LD	(IX+%FFFFFFF8),L
041B6D DD74F9              A  5476    	LD	(IX+%FFFFFFF9),H
                           A  5477    ;  589				move = TRUE;
                           A  5478    .LINE 589
                           A  5479    
041B70 DD36F701            A  5480    	LD	(IX+%FFFFFFF7),%1
                           A  5481    ;  590				break;
                           A  5482    .LINE 590
                           A  5483    
041B74 C3 00 1C 04         A  5484    	JR	L_134
                           A  5485    ;  591			case 0xa:
041B78                     A  5486    L_120:
                           A  5487    .LINE 591
                           A  5488    
                           A  5489    ;  592				xn1 = currentlevel.xpos;
                           A  5490    .LINE 592
                           A  5491    
041B78 3A 84 5E 04         A  5492    	LD	A,(_currentlevel)
041B7C 4F                  A  5493    	LD	C,A
041B7D 0600                A  5494    	LD	B,%0
041B7F C5E1                A  5495    	LD	HL,BC
041B81 DD75FE              A  5496    	LD	(IX+%FFFFFFFE),L
041B84 DD74FF              A  5497    	LD	(IX+%FFFFFFFF),H
                           A  5498    ;  593				yn1 = currentlevel.ypos + 1
                           A  5499    .LINE 593
                           A  5500    
041B87 3A 85 5E 04         A  5501    	LD	A,(_currentlevel+1)
041B8B 4F                  A  5502    	LD	C,A
041B8C 03                  A  5503    	INC	BC
041B8D C5E1                A  5504    	LD	HL,BC
041B8F DD75FC              A  5505    	LD	(IX+%FFFFFFFC),L
041B92 DD74FD              A  5506    	LD	(IX+%FFFFFFFD),H
                           A  5507    ;  594				xn2 = currentlevel.xpos;
                           A  5508    .LINE 594
                           A  5509    
041B95 3A 84 5E 04         A  5510    	LD	A,(_currentlevel)
041B99 4F                  A  5511    	LD	C,A
041B9A 0600                A  5512    	LD	B,%0
041B9C C5E1                A  5513    	LD	HL,BC
041B9E DD75FA              A  5514    	LD	(IX+%FFFFFFFA),L
041BA1 DD74FB              A  5515    	LD	(IX+%FFFFFFFB),H
                           A  5516    ;  595				yn2 = currentlevel.ypos + 2
                           A  5517    .LINE 595
                           A  5518    
041BA4 3A 85 5E 04         A  5519    	LD	A,(_currentlevel+1)
041BA8 4F                  A  5520    	LD	C,A
041BA9 03                  A  5521    	INC	BC
041BAA 03                  A  5522    	INC	BC
041BAB C5E1                A  5523    	LD	HL,BC
041BAD DD75F8              A  5524    	LD	(IX+%FFFFFFF8),L
041BB0 DD74F9              A  5525    	LD	(IX+%FFFFFFF9),H
                           A  5526    ;  596				move = TRUE;
                           A  5527    .LINE 596
                           A  5528    
041BB3 DD36F701            A  5529    	LD	(IX+%FFFFFFF7),%1
                           A  5530    ;  597				break;
                           A  5531    .LINE 597
                           A  5532    
041BB7 18 47               A  5533    	JR	L_134
                           A  5534    ;  598			case 0x15: // RIGHT
041BB9                     A  5535    L_121:
                           A  5536    .LINE 598
                           A  5537    
                           A  5538    ;  599				xn1 = currentlevel.xpos + 1
                           A  5539    .LINE 599
                           A  5540    
041BB9 3A 84 5E 04         A  5541    	LD	A,(_currentlevel)
041BBD 4F                  A  5542    	LD	C,A
041BBE 0600                A  5543    	LD	B,%0
041BC0 03                  A  5544    	INC	BC
041BC1 C5E1                A  5545    	LD	HL,BC
041BC3 DD75FE              A  5546    	LD	(IX+%FFFFFFFE),L
041BC6 DD74FF              A  5547    	LD	(IX+%FFFFFFFF),H
                           A  5548    ;  600				yn1 = currentlevel.ypos;
                           A  5549    .LINE 600
                           A  5550    
041BC9 3A 85 5E 04         A  5551    	LD	A,(_currentlevel+1)
041BCD 4F                  A  5552    	LD	C,A
041BCE 0600                A  5553    	LD	B,%0
041BD0 C5E1                A  5554    	LD	HL,BC
041BD2 DD75FC              A  5555    	LD	(IX+%FFFFFFFC),L
041BD5 DD74FD              A  5556    	LD	(IX+%FFFFFFFD),H
                           A  5557    ;  601				xn2 = currentlevel.xpos + 2
                           A  5558    .LINE 601
                           A  5559    
041BD8 3A 84 5E 04         A  5560    	LD	A,(_currentlevel)
041BDC 4F                  A  5561    	LD	C,A
041BDD 03                  A  5562    	INC	BC
041BDE 03                  A  5563    	INC	BC
041BDF C5E1                A  5564    	LD	HL,BC
041BE1 DD75FA              A  5565    	LD	(IX+%FFFFFFFA),L
041BE4 DD74FB              A  5566    	LD	(IX+%FFFFFFFB),H
                           A  5567    ;  602				yn2 = currentlevel.ypos;
                           A  5568    .LINE 602
                           A  5569    
041BE7 3A 85 5E 04         A  5570    	LD	A,(_currentlevel+1)
041BEB 4F                  A  5571    	LD	C,A
041BEC 0600                A  5572    	LD	B,%0
041BEE C5E1                A  5573    	LD	HL,BC
041BF0 DD75F8              A  5574    	LD	(IX+%FFFFFFF8),L
041BF3 DD74F9              A  5575    	LD	(IX+%FFFFFFF9),H
                           A  5576    ;  603				move = TRUE;
                           A  5577    .LINE 603
                           A  5578    
041BF6 DD36F701            A  5579    	LD	(IX+%FFFFFFF7),%1
                           A  5580    ;  604				break;
                           A  5581    .LINE 604
                           A  5582    
041BFA 18 04               A  5583    	JR	L_134
                           A  5584    ;  605			default:
041BFC                     A  5585    L_122:
                           A  5586    .LINE 605
                           A  5587    
                           A  5588    ;  606				move = FALSE;
                           A  5589    .LINE 606
                           A  5590    
041BFC DD36F700            A  5591    	LD	(IX+%FFFFFFF7),%0
                           A  5592    ;  607				break;
                           A  5593    ;  608		}
041C00                     A  5594    L_134:
                           A  5595    .LINE 608
                           A  5596    
                           A  5597    ;  609		if(move)
                           A  5598    .LINE 609
                           A  5599    
041C00 DD7EF7              A  5600    	LD	A,(IX+%FFFFFFF7)
041C03 B7                  A  5601    	OR	A,A
041C04 CA 05 1D 04         A  5602    	JR	Z,L_135
                           A  5603    ;  610		{
                           A  5604    ;  611			if(canmove(xn1,yn1,xn2,yn2))
                           A  5605    .LINE 611
                           A  5606    
041C08 DD07F8              A  5607    	LD	BC,(IX+%FFFFFFF8)
041C0B C5                  A  5608    	PUSH	BC
041C0C DD07FA              A  5609    	LD	BC,(IX+%FFFFFFFA)
041C0F C5                  A  5610    	PUSH	BC
041C10 DD07FC              A  5611    	LD	BC,(IX+%FFFFFFFC)
041C13 C5                  A  5612    	PUSH	BC
041C14 DD07FE              A  5613    	LD	BC,(IX+%FFFFFFFE)
041C17 C5                  A  5614    	PUSH	BC
041C18 CD 5B 11 04         A  5615    	CALL	_canmove
041C1C C1                  A  5616    	POP	BC
041C1D C1                  A  5617    	POP	BC
041C1E C1                  A  5618    	POP	BC
041C1F C1                  A  5619    	POP	BC
041C20 B7                  A  5620    	OR	A,A
041C21 CA 05 1D 04         A  5621    	JR	Z,L_135
                           A  5622    ;  612			{
                           A  5623    ;  613				undomove[undo_head].movekey
                           A  5624    .LINE 613
                           A  5625    
041C25 3A D2 55 04         A  5626    	LD	A,(_undo_head)
041C29 B7ED62              A  5627    	UEXT	HL
041C2C 6F                  A  5628    	LD	L,A
041C2D 29                  A  5629    	ADD	HL,HL
041C2E 01 D2 54 04         A  5630    	LD	BC,_undomove
041C32 09                  A  5631    	ADD	HL,BC
041C33 DD2FF0              A  5632    	LD	(IX+%FFFFFFF0),HL
041C36 DD7E06              A  5633    	LD	A,(IX+%6)
041C39 DD31F0              A  5634    	LD	IY,(IX+%FFFFFFF0)
041C3C FD7700              A  5635    	LD	(IY+%0),A
                           A  5636    ;  614				undomove[undo_head].pushed 
                           A  5637    .LINE 614
                           A  5638    
041C3F DD07FC              A  5639    	LD	BC,(IX+%FFFFFFFC)
041C42 CD B0 37 04         A  5640    	CALL	__stoi
041C46 3E28                A  5641    	LD	A,%28
041C48 CD 5B 36 04         A  5642    	CALL	__imul_b
041C4C 01 8B 5E 04         A  5643    	LD	BC,_currentlevel+7
041C50 09                  A  5644    	ADD	HL,BC
041C51 DD2FEA              A  5645    	LD	(IX+%FFFFFFEA),HL
041C54 DD07FE              A  5646    	LD	BC,(IX+%FFFFFFFE)
041C57 CD B0 37 04         A  5647    	CALL	__stoi
041C5B DD07EA              A  5648    	LD	BC,(IX+%FFFFFFEA)
041C5E 09                  A  5649    	ADD	HL,BC
041C5F DD2FED              A  5650    	LD	(IX+%FFFFFFED),HL
041C62 7E                  A  5651    	LD	A,(HL)
041C63 B7ED62              A  5652    	UEXT	HL
041C66 6F                  A  5653    	LD	L,A
041C67 01240000            A  5654    	LD	BC,36
041C6B B7                  A  5655    	OR	A,A
041C6C ED42                A  5656    	SBC	HL,BC
041C6E 28 11               A  5657    	JR	Z,L_124
041C70 DD27ED              A  5658    	LD	HL,(IX+%FFFFFFED)
041C73 7E                  A  5659    	LD	A,(HL)
041C74 B7ED62              A  5660    	UEXT	HL
041C77 6F                  A  5661    	LD	L,A
041C78 012A0000            A  5662    	LD	BC,42
041C7C B7                  A  5663    	OR	A,A
041C7D ED42                A  5664    	SBC	HL,BC
041C7F 20 09               A  5665    	JR	NZ,L_125
041C81                     A  5666    L_124:
041C81 01010000            A  5667    	LD	BC,1
041C85 DD0FF3              A  5668    	LD	(IX+%FFFFFFF3),BC
041C88 18 07               A  5669    	JR	L_126
041C8A                     A  5670    L_125:
041C8A 01000000            A  5671    	LD	BC,0
041C8E DD0FF3              A  5672    	LD	(IX+%FFFFFFF3),BC
041C91                     A  5673    L_126:
041C91 DD7EF3              A  5674    	LD	A,(IX+%FFFFFFF3)
041C94 DD31F0              A  5675    	LD	IY,(IX+%FFFFFFF0)
041C97 FD7701              A  5676    	LD	(IY+%1),A
                           A  5677    ;  615				// rotate buffer always
                           A  5678    ;  616				if(++undo_head == UNDOBUFFE
                           A  5679    .LINE 616
                           A  5680    
041C9A 3A D2 55 04         A  5681    	LD	A,(_undo_head)
041C9E 3C                  A  5682    	INC	A
041C9F 32 D2 55 04         A  5683    	LD	(_undo_head),A
041CA3 FE80                A  5684    	CP	A,%80
041CA5 20 05               A  5685    	JR	NZ,L_130
041CA7 AF                  A  5686    	XOR	A,A
041CA8 32 D2 55 04         A  5687    	LD	(_undo_head),A
041CAC                     A  5688    L_130:
                           A  5689    ;  617				// maximize number of undo
                           A  5690    ;  618				if(++num_undomoves > UNDOBU
                           A  5691    .LINE 618
                           A  5692    
041CAC 3A D3 55 04         A  5693    	LD	A,(_num_undomoves)
041CB0 3C                  A  5694    	INC	A
041CB1 32 D3 55 04         A  5695    	LD	(_num_undomoves),A
041CB5 3E80                A  5696    	LD	A,%80
041CB7 21 D3 55 04         A  5697    	LD	HL,_num_undomoves
041CBB BE                  A  5698    	CP	A,(HL)
041CBC 30 04               A  5699    	JR	NC,L_131
041CBE 32 D3 55 04         A  5700    	LD	(_num_undomoves),A
041CC2                     A  5701    L_131:
                           A  5702    ;  619				
                           A  5703    ;  620				move_sprites(xn1,yn1,xn2,yn
                           A  5704    .LINE 620
                           A  5705    
041CC2 DD07F8              A  5706    	LD	BC,(IX+%FFFFFFF8)
041CC5 C5                  A  5707    	PUSH	BC
041CC6 DD07FA              A  5708    	LD	BC,(IX+%FFFFFFFA)
041CC9 C5                  A  5709    	PUSH	BC
041CCA DD07FC              A  5710    	LD	BC,(IX+%FFFFFFFC)
041CCD C5                  A  5711    	PUSH	BC
041CCE DD07FE              A  5712    	LD	BC,(IX+%FFFFFFFE)
041CD1 C5                  A  5713    	PUSH	BC
041CD2 CD F4 11 04         A  5714    	CALL	_move_sprites
041CD6 C1                  A  5715    	POP	BC
041CD7 C1                  A  5716    	POP	BC
041CD8 C1                  A  5717    	POP	BC
041CD9 C1                  A  5718    	POP	BC
                           A  5719    ;  621				move_updatelevel(xn1,yn1,xn
                           A  5720    .LINE 621
                           A  5721    
041CDA DD07F8              A  5722    	LD	BC,(IX+%FFFFFFF8)
041CDD C5                  A  5723    	PUSH	BC
041CDE DD07FA              A  5724    	LD	BC,(IX+%FFFFFFFA)
041CE1 C5                  A  5725    	PUSH	BC
041CE2 DD07FC              A  5726    	LD	BC,(IX+%FFFFFFFC)
041CE5 C5                  A  5727    	PUSH	BC
041CE6 DD07FE              A  5728    	LD	BC,(IX+%FFFFFFFE)
041CE9 C5                  A  5729    	PUSH	BC
041CEA CD 17 15 04         A  5730    	CALL	_move_updatelevel
041CEE C1                  A  5731    	POP	BC
041CEF C1                  A  5732    	POP	BC
041CF0 C1                  A  5733    	POP	BC
041CF1 C1                  A  5734    	POP	BC
                           A  5735    ;  622				done = (currentlevel.goals 
                           A  5736    .LINE 622
                           A  5737    
041CF2 3A 88 5E 04         A  5738    	LD	A,(_currentlevel+4)
041CF6 21 89 5E 04         A  5739    	LD	HL,_currentlevel+5
041CFA BE                  A  5740    	CP	A,(HL)
041CFB 20 04               A  5741    	JR	NZ,L__50
041CFD 3E01                A  5742    	LD	A,%1
041CFF 18 01               A  5743    	JR	L__51
041D01                     A  5744    L__50:
041D01 AF                  A  5745    	XOR	A,A
041D02                     A  5746    L__51:
041D02 DD77F6              A  5747    	LD	(IX+%FFFFFFF6),A
                           A  5748    ;  623			}
                           A  5749    ;  624		}
041D05                     A  5750    L_135:
                           A  5751    .LINE 624
                           A  5752    
                           A  5753    ;  625		return done;
                           A  5754    .LINE 625
                           A  5755    
041D05 DD7EF6              A  5756    	LD	A,(IX+%FFFFFFF6)
                           A  5757    ;  626	}
                           A  5758    .LINE 626
                           A  5759    
041D08 DDF9                A  5760    	LD	SP,IX
041D0A DDE1                A  5761    	POP	IX
041D0C C9                  A  5762    	RET	
                           A  5763    
                           A  5764    
                           A  5765    ;**************************** _game_handleKey *
                           A  5766    ;Name                         Addr/Register   S
                           A  5767    ;_num_undomoves                      STATIC    
                           A  5768    ;_undo_head                          STATIC    
                           A  5769    ;_undomove                           STATIC    
                           A  5770    ;_currentlevel                       STATIC   1
                           A  5771    ;G_27                                 IX-22    
                           A  5772    ;G_28                                 IX-19    
                           A  5773    ;G_30                                 IX-16    
                           A  5774    ;temp127                              IX-13    
                           A  5775    ;done                                 IX-10    
                           A  5776    ;move                                  IX-9    
                           A  5777    ;yn2                                   IX-8    
                           A  5778    ;xn2                                   IX-6    
                           A  5779    ;yn1                                   IX-4    
                           A  5780    ;xn1                                   IX-2    
                           A  5781    ;key                                   IX+6    
                           A  5782    
                           A  5783    
                           A  5784    ; Stack Frame Size: 31 (bytes)
                           A  5785    ;       Spill Code: 0 (instruction)
                           A  5786    
                           A  5787    
                           A  5788    .ENDFUNC "game_handleKey",626,"_game_handleKey"
                           A  5789    ;  627	
                           A  5790    ;  628	char game_getResponse(char *message, ch
                           A  5791    ;  629	{
041D0D                     A  5792    _game_getResponse:
                           A  5793    .DEFINE "_game_getResponse"
                           A  5794    
                           A  5795    .VALUE _game_getResponse
                           A  5796    
                           A  5797    .CLASS 2
                           A  5798    
                           A  5799    .TYPE 66
                           A  5800    
                           A  5801    .ENDEF
                           A  5802    
                           A  5803    .BEGFUNC "game_getResponse",629,"_game_getRespo
                           A  5804    
                           A  5805    .LINE 629
                           A  5806    
                           A  5807    .DEFINE "message"
                           A  5808    
                           A  5809    .CLASS 65
                           A  5810    
                           A  5811    .VALUE 6
                           A  5812    
                           A  5813    .TYPE 34
                           A  5814    
                           A  5815    .ENDEF
                           A  5816    
                           A  5817    .DEFINE "option1"
                           A  5818    
                           A  5819    .CLASS 65
                           A  5820    
                           A  5821    .VALUE 9
                           A  5822    
                           A  5823    .TYPE 2
                           A  5824    
                           A  5825    .ENDEF
                           A  5826    
                           A  5827    .DEFINE "option2"
                           A  5828    
                           A  5829    .CLASS 65
                           A  5830    
                           A  5831    .VALUE 12
                           A  5832    
                           A  5833    .TYPE 2
                           A  5834    
                           A  5835    .ENDEF
                           A  5836    
                           A  5837    .DEFINE "n"
                           A  5838    
                           A  5839    .CLASS 65
                           A  5840    
                           A  5841    .VALUE -1
                           A  5842    
                           A  5843    .TYPE 12
                           A  5844    
                           A  5845    .ENDEF
                           A  5846    
                           A  5847    .DEFINE "ret"
                           A  5848    
                           A  5849    .CLASS 65
                           A  5850    
                           A  5851    .VALUE -2
                           A  5852    
                           A  5853    .TYPE 2
                           A  5854    
                           A  5855    .ENDEF
                           A  5856    
                           A  5857    .DEFINE "start"
                           A  5858    
                           A  5859    .CLASS 65
                           A  5860    
                           A  5861    .VALUE -3
                           A  5862    
                           A  5863    .TYPE 12
                           A  5864    
                           A  5865    .ENDEF
                           A  5866    
                           A  5867    .DEFINE "len"
                           A  5868    
                           A  5869    .CLASS 65
                           A  5870    
                           A  5871    .VALUE -4
                           A  5872    
                           A  5873    .TYPE 12
                           A  5874    
                           A  5875    .ENDEF
                           A  5876    
041D0D DDE5                A  5877    	PUSH	IX
041D0F DD210000 00         A  5878    	LD	IX,0
041D14 DD39                A  5879    	ADD	IX,SP
041D16 C5                  A  5880    	PUSH	BC
041D17 3B                  A  5881    	DEC	SP
                           A  5882    ;  630		UINT8 n;
                           A  5883    ;  631		UINT8 len = strlen(message);
                           A  5884    .LINE 631
                           A  5885    
041D18 DD0706              A  5886    	LD	BC,(IX+%6)
041D1B C5                  A  5887    	PUSH	BC
041D1C CD 24 30 04         A  5888    	CALL	_strlen
041D20 C1                  A  5889    	POP	BC
041D21 DD75FC              A  5890    	LD	(IX+%FFFFFFFC),L
                           A  5891    ;  632		UINT8 start = (80 - len) / 2;
                           A  5892    .LINE 632
                           A  5893    
041D24 DD7EFC              A  5894    	LD	A,(IX+%FFFFFFFC)
041D27 B7ED62              A  5895    	UEXT	HL
041D2A 6F                  A  5896    	LD	L,A
041D2B E5C1                A  5897    	LD	BC,HL
041D2D 21500000            A  5898    	LD	HL,80
041D31 B7                  A  5899    	OR	A,A
041D32 ED42                A  5900    	SBC	HL,BC
041D34 01020000            A  5901    	LD	BC,2
041D38 CD 22 36 04         A  5902    	CALL	__idivs
041D3C DD75FD              A  5903    	LD	(IX+%FFFFFFFD),L
                           A  5904    ;  633		char ret = 0;
                           A  5905    .LINE 633
                           A  5906    
041D3F DD36FE00            A  5907    	LD	(IX+%FFFFFFFE),%0
                           A  5908    ;  634		
                           A  5909    ;  635		
                           A  5910    ;  636		// vertical spacing
                           A  5911    ;  637		for(n = start - 1; n < (start+len+1
                           A  5912    .LINE 637
                           A  5913    
041D43 DD7EFD              A  5914    	LD	A,(IX+%FFFFFFFD)
041D46 3D                  A  5915    	DEC	A
041D47 DD77FF              A  5916    	LD	(IX+%FFFFFFFF),A
041D4A 18 39               A  5917    	JR	L_140
041D4C                     A  5918    L_138:
                           A  5919    ;  638		{
                           A  5920    ;  639			vdp_cursorGoto(n,27);
                           A  5921    .LINE 639
                           A  5922    
041D4C 011B0000            A  5923    	LD	BC,27
041D50 C5                  A  5924    	PUSH	BC
041D51 DD4EFF              A  5925    	LD	C,(IX+%FFFFFFFF)
041D54 0600                A  5926    	LD	B,%0
041D56 C5                  A  5927    	PUSH	BC
041D57 CD 8A 04 04         A  5928    	CALL	_vdp_cursorGoto
041D5B C1                  A  5929    	POP	BC
041D5C C1                  A  5930    	POP	BC
                           A  5931    ;  640			putch(' ');
                           A  5932    .LINE 640
                           A  5933    
041D5D 01200000            A  5934    	LD	BC,32
041D61 C5                  A  5935    	PUSH	BC
041D62 CD 5F 29 04         A  5936    	CALL	_putch
041D66 C1                  A  5937    	POP	BC
                           A  5938    ;  641			vdp_cursorGoto(n,29);
                           A  5939    .LINE 641
                           A  5940    
041D67 011D0000            A  5941    	LD	BC,29
041D6B C5                  A  5942    	PUSH	BC
041D6C DD4EFF              A  5943    	LD	C,(IX+%FFFFFFFF)
041D6F 0600                A  5944    	LD	B,%0
041D71 C5                  A  5945    	PUSH	BC
041D72 CD 8A 04 04         A  5946    	CALL	_vdp_cursorGoto
041D76 C1                  A  5947    	POP	BC
041D77 C1                  A  5948    	POP	BC
                           A  5949    ;  642			putch(' ');
                           A  5950    .LINE 642
                           A  5951    
041D78 01200000            A  5952    	LD	BC,32
041D7C C5                  A  5953    	PUSH	BC
041D7D CD 5F 29 04         A  5954    	CALL	_putch
041D81 C1                  A  5955    	POP	BC
041D82 DD34FF              A  5956    	INC	(IX+%FFFFFFFF)
                           A  5957    ;  643		}
041D85                     A  5958    L_140:
                           A  5959    .LINE 643
                           A  5960    
041D85 DD7EFD              A  5961    	LD	A,(IX+%FFFFFFFD)
041D88 B7ED62              A  5962    	UEXT	HL
041D8B 6F                  A  5963    	LD	L,A
041D8C E5C1                A  5964    	LD	BC,HL
041D8E DD7EFC              A  5965    	LD	A,(IX+%FFFFFFFC)
041D91 B7ED62              A  5966    	UEXT	HL
041D94 6F                  A  5967    	LD	L,A
041D95 09                  A  5968    	ADD	HL,BC
041D96 E5C1                A  5969    	LD	BC,HL
041D98 03                  A  5970    	INC	BC
041D99 DD7EFF              A  5971    	LD	A,(IX+%FFFFFFFF)
041D9C B7ED62              A  5972    	UEXT	HL
041D9F 6F                  A  5973    	LD	L,A
041DA0 B7                  A  5974    	OR	A,A
041DA1 ED42                A  5975    	SBC	HL,BC
041DA3 FA 4C 1D 04         A  5976    	JP	M,L_138
                           A  5977    ;  644		// horizontal spacing
                           A  5978    ;  645		vdp_cursorGoto(start-1,28);
                           A  5979    .LINE 645
                           A  5980    
041DA7 011C0000            A  5981    	LD	BC,28
041DAB C5                  A  5982    	PUSH	BC
041DAC DD4EFD              A  5983    	LD	C,(IX+%FFFFFFFD)
041DAF 0D                  A  5984    	DEC	C
041DB0 0600                A  5985    	LD	B,%0
041DB2 C5                  A  5986    	PUSH	BC
041DB3 CD 8A 04 04         A  5987    	CALL	_vdp_cursorGoto
041DB7 C1                  A  5988    	POP	BC
041DB8 C1                  A  5989    	POP	BC
                           A  5990    ;  646		putch(' ');
                           A  5991    .LINE 646
                           A  5992    
041DB9 01200000            A  5993    	LD	BC,32
041DBD C5                  A  5994    	PUSH	BC
041DBE CD 5F 29 04         A  5995    	CALL	_putch
041DC2 C1                  A  5996    	POP	BC
                           A  5997    ;  647		printf("%s ", message);
                           A  5998    .LINE 647
                           A  5999    
041DC3 01 B3 2F 04         A  6000    	LD	BC,___print_uputch
041DC7 ED43 58 51 04       A  6001    	LD	(___print_xputch),BC
041DCC DD0706              A  6002    	LD	BC,(IX+%6)
041DCF C5                  A  6003    	PUSH	BC
041DD0 CD 27 2E 04         A  6004    	CALL	___print_sendstring
041DD4 C1                  A  6005    	POP	BC
041DD5 01200000            A  6006    	LD	BC,32
041DD9 C5                  A  6007    	PUSH	BC
041DDA CD B3 2F 04         A  6008    	CALL	___print_uputch
041DDE C1                  A  6009    	POP	BC
                           A  6010    ;  648	
                           A  6011    ;  649		while((ret != option1) && (ret != o
                           A  6012    .LINE 649
                           A  6013    
041DDF 18 07               A  6014    	JR	L_143
041DE1                     A  6015    L_144:
041DE1 CD 90 29 04         A  6016    	CALL	_getch
041DE5 DD77FE              A  6017    	LD	(IX+%FFFFFFFE),A
041DE8                     A  6018    L_143:
041DE8 DD7EFE              A  6019    	LD	A,(IX+%FFFFFFFE)
041DEB DDBE09              A  6020    	CP	A,(IX+%9)
041DEE 28 08               A  6021    	JR	Z,L_145
041DF0 DD7EFE              A  6022    	LD	A,(IX+%FFFFFFFE)
041DF3 DDBE0C              A  6023    	CP	A,(IX+%C)
041DF6 20 E9               A  6024    	JR	NZ,L_144
041DF8                     A  6025    L_145:
                           A  6026    ;  650		
                           A  6027    ;  651		vdp_cls();
                           A  6028    .LINE 651
                           A  6029    
041DF8 CD 42 04 04         A  6030    	CALL	_vdp_cls
                           A  6031    ;  652	
                           A  6032    ;  653		return ret;
                           A  6033    .LINE 653
                           A  6034    
041DFC DD7EFE              A  6035    	LD	A,(IX+%FFFFFFFE)
                           A  6036    ;  654	}
                           A  6037    .LINE 654
                           A  6038    
041DFF DDF9                A  6039    	LD	SP,IX
041E01 DDE1                A  6040    	POP	IX
041E03 C9                  A  6041    	RET	
                           A  6042    
                           A  6043    
                           A  6044    ;**************************** _game_getResponse
                           A  6045    ;Name                         Addr/Register   S
                           A  6046    ;_vdp_cls                            IMPORT  --
                           A  6047    ;_getch                              IMPORT  --
                           A  6048    ;___print_sendstring                 IMPORT  --
                           A  6049    ;___print_xputch                     IMPORT    
                           A  6050    ;___print_uputch                     IMPORT  --
                           A  6051    ;_putch                              IMPORT  --
                           A  6052    ;_vdp_cursorGoto                     IMPORT  --
                           A  6053    ;_strlen                             IMPORT  --
                           A  6054    ;len                                   IX-4    
                           A  6055    ;start                                 IX-3    
                           A  6056    ;ret                                   IX-2    
                           A  6057    ;n                                     IX-1    
                           A  6058    ;option2                              IX+12    
                           A  6059    ;option1                               IX+9    
                           A  6060    ;message                               IX+6    
                           A  6061    
                           A  6062    
                           A  6063    ; Stack Frame Size: 19 (bytes)
                           A  6064    ;       Spill Code: 0 (instruction)
                           A  6065    
                           A  6066    
                           A  6067    .ENDFUNC "game_getResponse",654,"_game_getRespo
                           A  6068    ;  655	
                           A  6069    ;  656	void game_splash_screen()
                           A  6070    ;  657	{
041E04                     A  6071    _game_splash_screen:
                           A  6072    .DEFINE "_game_splash_screen"
                           A  6073    
                           A  6074    .VALUE _game_splash_screen
                           A  6075    
                           A  6076    .CLASS 2
                           A  6077    
                           A  6078    .TYPE 65
                           A  6079    
                           A  6080    .ENDEF
                           A  6081    
                           A  6082    .BEGFUNC "game_splash_screen",657,"_game_splash
                           A  6083    
041E04 DDE5                A  6084    	PUSH	IX
041E06 DD210000 00         A  6085    	LD	IX,0
041E0B DD39                A  6086    	ADD	IX,SP
                           A  6087    ;  658		vdp_cls();
                           A  6088    .LINE 658
                           A  6089    
041E0D CD 42 04 04         A  6090    	CALL	_vdp_cls
                           A  6091    ;  659	
                           A  6092    ;  660		vdp_cursorGoto(0,10);
                           A  6093    .LINE 660
                           A  6094    
041E11 010A0000            A  6095    	LD	BC,10
041E15 C5                  A  6096    	PUSH	BC
041E16 01000000            A  6097    	LD	BC,0
041E1A C5                  A  6098    	PUSH	BC
041E1B CD 8A 04 04         A  6099    	CALL	_vdp_cursorGoto
041E1F C1                  A  6100    	POP	BC
041E20 C1                  A  6101    	POP	BC
                           A  6102    ;  661		vdp_cursorDisable();
                           A  6103    .LINE 661
                           A  6104    
041E21 CD 84 0D 04         A  6105    	CALL	_vdp_cursorDisable
                           A  6106    ;  662		//vdp_fgcolour(255,0,0);
                           A  6107    ;  663		vdp_fgcolour(BRIGHT_RED);
                           A  6108    .LINE 663
                           A  6109    
041E25 01090000            A  6110    	LD	BC,9
041E29 C5                  A  6111    	PUSH	BC
041E2A CD BC 04 04         A  6112    	CALL	_vdp_fgcolour
041E2E C1                  A  6113    	POP	BC
                           A  6114    ;  664		puts("             _____       _   
                           A  6115    .LINE 664
                           A  6116    
041E2F 01 D6 51 04         A  6117    	LD	BC,L__57
041E33 C5                  A  6118    	PUSH	BC
041E34 CD 77 35 04         A  6119    	CALL	_puts
041E38 C1                  A  6120    	POP	BC
                           A  6121    ;  665		vdp_fgcolour(BRIGHT_MAGENTA);
                           A  6122    .LINE 665
                           A  6123    
041E39 010D0000            A  6124    	LD	BC,13
041E3D C5                  A  6125    	PUSH	BC
041E3E CD BC 04 04         A  6126    	CALL	_vdp_fgcolour
041E42 C1                  A  6127    	POP	BC
                           A  6128    ;  666		puts("            / ____|     | |  
                           A  6129    .LINE 666
                           A  6130    
041E43 01 0E 52 04         A  6131    	LD	BC,L__58
041E47 C5                  A  6132    	PUSH	BC
041E48 CD 77 35 04         A  6133    	CALL	_puts
041E4C C1                  A  6134    	POP	BC
                           A  6135    ;  667		vdp_fgcolour(BRIGHT_CYAN);
                           A  6136    .LINE 667
                           A  6137    
041E4D 010E0000            A  6138    	LD	BC,14
041E51 C5                  A  6139    	PUSH	BC
041E52 CD BC 04 04         A  6140    	CALL	_vdp_fgcolour
041E56 C1                  A  6141    	POP	BC
                           A  6142    ;  668		puts("           | (___   ___ | | _
                           A  6143    .LINE 668
                           A  6144    
041E57 01 46 52 04         A  6145    	LD	BC,L__59
041E5B C5                  A  6146    	PUSH	BC
041E5C CD 77 35 04         A  6147    	CALL	_puts
041E60 C1                  A  6148    	POP	BC
                           A  6149    ;  669		vdp_fgcolour(BRIGHT_BLUE);
                           A  6150    .LINE 669
                           A  6151    
041E61 010C0000            A  6152    	LD	BC,12
041E65 C5                  A  6153    	PUSH	BC
041E66 CD BC 04 04         A  6154    	CALL	_vdp_fgcolour
041E6A C1                  A  6155    	POP	BC
                           A  6156    ;  670		puts("            \\___ \\ / _ \\| 
                           A  6157    .LINE 670
                           A  6158    
041E6B 01 7E 52 04         A  6159    	LD	BC,L__60
041E6F C5                  A  6160    	PUSH	BC
041E70 CD 77 35 04         A  6161    	CALL	_puts
041E74 C1                  A  6162    	POP	BC
                           A  6163    ;  671		vdp_fgcolour(BRIGHT_GREEN);
                           A  6164    .LINE 671
                           A  6165    
041E75 010A0000            A  6166    	LD	BC,10
041E79 C5                  A  6167    	PUSH	BC
041E7A CD BC 04 04         A  6168    	CALL	_vdp_fgcolour
041E7E C1                  A  6169    	POP	BC
                           A  6170    ;  672		puts("            ____) | (_) |   <
                           A  6171    .LINE 672
                           A  6172    
041E7F 01 B6 52 04         A  6173    	LD	BC,L__61
041E83 C5                  A  6174    	PUSH	BC
041E84 CD 77 35 04         A  6175    	CALL	_puts
041E88 C1                  A  6176    	POP	BC
                           A  6177    ;  673		vdp_fgcolour(BRIGHT_WHITE);
                           A  6178    .LINE 673
                           A  6179    
041E89 010F0000            A  6180    	LD	BC,15
041E8D C5                  A  6181    	PUSH	BC
041E8E CD BC 04 04         A  6182    	CALL	_vdp_fgcolour
041E92 C1                  A  6183    	POP	BC
                           A  6184    ;  674		puts("           |_____/ \\___/|_|\
                           A  6185    .LINE 674
                           A  6186    
041E93 01 EE 52 04         A  6187    	LD	BC,L__62
041E97 C5                  A  6188    	PUSH	BC
041E98 CD 77 35 04         A  6189    	CALL	_puts
041E9C C1                  A  6190    	POP	BC
                           A  6191    ;  675		puts("\r\n");
                           A  6192    .LINE 675
                           A  6193    
041E9D 01 26 53 04         A  6194    	LD	BC,L__63
041EA1 C5                  A  6195    	PUSH	BC
041EA2 CD 77 35 04         A  6196    	CALL	_puts
041EA6 C1                  A  6197    	POP	BC
                           A  6198    ;  676		puts("\r\n");
                           A  6199    .LINE 676
                           A  6200    
041EA7 01 29 53 04         A  6201    	LD	BC,L__64
041EAB C5                  A  6202    	PUSH	BC
041EAC CD 77 35 04         A  6203    	CALL	_puts
041EB0 C1                  A  6204    	POP	BC
                           A  6205    ;  677		vdp_fgcolour(BRIGHT_GREEN);
                           A  6206    .LINE 677
                           A  6207    
041EB1 010A0000            A  6208    	LD	BC,10
041EB5 C5                  A  6209    	PUSH	BC
041EB6 CD BC 04 04         A  6210    	CALL	_vdp_fgcolour
041EBA C1                  A  6211    	POP	BC
                           A  6212    ;  678		puts("                           Fo
                           A  6213    .LINE 678
                           A  6214    
041EBB 01 2C 53 04         A  6215    	LD	BC,L__65
041EBF C5                  A  6216    	PUSH	BC
041EC0 CD 77 35 04         A  6217    	CALL	_puts
041EC4 C1                  A  6218    	POP	BC
                           A  6219    ;  679		puts("\r\n");
                           A  6220    .LINE 679
                           A  6221    
041EC5 01 57 53 04         A  6222    	LD	BC,L__66
041EC9 C5                  A  6223    	PUSH	BC
041ECA CD 77 35 04         A  6224    	CALL	_puts
041ECE C1                  A  6225    	POP	BC
                           A  6226    ;  680		vdp_fgcolour(DARK_WHITE);
                           A  6227    .LINE 680
                           A  6228    
041ECF 01070000            A  6229    	LD	BC,7
041ED3 C5                  A  6230    	PUSH	BC
041ED4 CD BC 04 04         A  6231    	CALL	_vdp_fgcolour
041ED8 C1                  A  6232    	POP	BC
                           A  6233    ;  681		puts("                     (c) 2023
                           A  6234    .LINE 681
                           A  6235    
041ED9 01 5A 53 04         A  6236    	LD	BC,L__67
041EDD C5                  A  6237    	PUSH	BC
041EDE CD 77 35 04         A  6238    	CALL	_puts
041EE2 C1                  A  6239    	POP	BC
                           A  6240    ;  682	}
                           A  6241    .LINE 682
                           A  6242    
041EE3 DDF9                A  6243    	LD	SP,IX
041EE5 DDE1                A  6244    	POP	IX
041EE7 C9                  A  6245    	RET	
                           A  6246    
                           A  6247    
                           A  6248    ;**************************** _game_splash_scre
                           A  6249    ;Name                         Addr/Register   S
                           A  6250    ;_puts                               IMPORT  --
                           A  6251    ;_vdp_fgcolour                       IMPORT  --
                           A  6252    ;_vdp_cursorDisable                  IMPORT  --
                           A  6253    ;_vdp_cursorGoto                     IMPORT  --
                           A  6254    ;_vdp_cls                            IMPORT  --
                           A  6255    
                           A  6256    
                           A  6257    ; Stack Frame Size: 6 (bytes)
                           A  6258    ;       Spill Code: 0 (instruction)
                           A  6259    
                           A  6260    
                           A  6261    .ENDFUNC "game_splash_screen",682,"_game_splash
                           A  6262    	SEGMENT STRSECT
0451D6                     A  6263    L__57:
0451D6 20202020 20202020   A  6264    	DB	"             _____       _         _  
0451DE 20202020 205F5F5F 
0451E6 5F5F2020 20202020 
0451EE 205F2020 20202020 
0451F6 2020205F 20202020 
0451FE 20202020 20202020 
045206 20202020 20 
04520B 0D0A00              A  6265    	DB	13,10,0
04520E                     A  6266    L__58:
04520E 20202020 20202020   A  6267    	DB	"            / ____|     | |       | | 
045216 20202020 2F205F5F 
04521E 5F5F7C20 20202020 
045226 7C207C20 20202020 
04522E 20207C20 7C202020 
045236 20202020 20202020 
04523E 20202020 20 
045243 0D0A00              A  6268    	DB	13,10,0
045246                     A  6269    L__59:
045246 20202020 20202020   A  6270    	DB	"           | (___   ___ | | _____ | |_
04524E 2020207C 20285F5F 
045256 5F202020 5F5F5F20 
04525E 7C207C20 5F5F5F5F 
045266 5F207C20 7C5F5F20 
04526E 20205F5F 205F205F 
045276 205F5F20 20 
04527B 0D0A00              A  6271    	DB	13,10,0
04527E                     A  6272    L__60:
04527E 20202020 20202020   A  6273    	DB	"            \\___ \\ / _ \\| |/ / _ \\
045286 20202020 5C5F5F5F 
04528E 205C202F 205F205C 
045296 7C207C2F 202F205F 
04529E 205C7C20 275F205C 
0452A6 202F205F 2E207C20 
0452AE 275F205C 20 
0452B3 0D0A00              A  6274    	DB	13,10,0
0452B6                     A  6275    L__61:
0452B6 20202020 20202020   A  6276    	DB	"            ____) | (_) |   < (_) | |_
0452BE 20202020 5F5F5F5F 
0452C6 29207C20 285F2920 
0452CE 7C202020 3C20285F 
0452D6 29207C20 7C5F2920 
0452DE 7C20285F 7C207C20 
0452E6 7C207C20 7C 
0452EB 0D0A00              A  6277    	DB	13,10,0
0452EE                     A  6278    L__62:
0452EE 20202020 20202020   A  6279    	DB	"           |_____/ \\___/|_|\\_\\___/|
0452F6 2020207C 5F5F5F5F 
0452FE 5F2F205C 5F5F5F2F 
045306 7C5F7C5C 5F5C5F5F 
04530E 5F2F7C5F 2E5F5F2F 
045316 205C5F5F 2C5F7C5F 
04531E 7C207C5F 7C 
045323 0D0A00              A  6280    	DB	13,10,0
045326                     A  6281    L__63:
045326 0D0A00              A  6282    	DB	13,10,0
045329                     A  6283    L__64:
045329 0D0A00              A  6284    	DB	13,10,0
04532C                     A  6285    L__65:
04532C 20202020 20202020   A  6286    	DB	"                           For Agon (T
045334 20202020 20202020 
04533C 20202020 20202020 
045344 20202046 6F722041 
04534C 676F6E20 28544D29 
045354 0D0A00              A  6287    	DB	13,10,0
045357                     A  6288    L__66:
045357 0D0A00              A  6289    	DB	13,10,0
04535A                     A  6290    L__67:
04535A 20202020 20202020   A  6291    	DB	"                     (c) 2023 Jeroen V
045362 20202020 20202020 
04536A 20202020 20286329 
045372 20323032 33204A65 
04537A 726F656E 2056656E 
045382 656D61 
045385 0D0A00              A  6292    	DB	13,10,0
                           A  6293    	SEGMENT CODE
                           A  6294    ;  683	
                           A  6295    ;  684	void game_displayHelp(UINT8 xpos, UINT8
                           A  6296    ;  685	{
041EE8                     A  6297    _game_displayHelp:
                           A  6298    .DEFINE "_game_displayHelp"
                           A  6299    
                           A  6300    .VALUE _game_displayHelp
                           A  6301    
                           A  6302    .CLASS 2
                           A  6303    
                           A  6304    .TYPE 65
                           A  6305    
                           A  6306    .ENDEF
                           A  6307    
                           A  6308    .BEGFUNC "game_displayHelp",685,"_game_displayH
                           A  6309    
                           A  6310    .LINE 685
                           A  6311    
                           A  6312    .DEFINE "xpos"
                           A  6313    
                           A  6314    .CLASS 65
                           A  6315    
                           A  6316    .VALUE 6
                           A  6317    
                           A  6318    .TYPE 12
                           A  6319    
                           A  6320    .ENDEF
                           A  6321    
                           A  6322    .DEFINE "ypos"
                           A  6323    
                           A  6324    .CLASS 65
                           A  6325    
                           A  6326    .VALUE 9
                           A  6327    
                           A  6328    .TYPE 12
                           A  6329    
                           A  6330    .ENDEF
                           A  6331    
                           A  6332    .DEFINE "gxpos"
                           A  6333    
                           A  6334    .CLASS 65
                           A  6335    
                           A  6336    .VALUE -2
                           A  6337    
                           A  6338    .TYPE 13
                           A  6339    
                           A  6340    .ENDEF
                           A  6341    
                           A  6342    .DEFINE "gypos"
                           A  6343    
                           A  6344    .CLASS 65
                           A  6345    
                           A  6346    .VALUE -4
                           A  6347    
                           A  6348    .TYPE 13
                           A  6349    
                           A  6350    .ENDEF
                           A  6351    
041EE8 DDE5                A  6352    	PUSH	IX
041EEA DD210000 00         A  6353    	LD	IX,0
041EEF DD39                A  6354    	ADD	IX,SP
041EF1 C5                  A  6355    	PUSH	BC
041EF2 3B                  A  6356    	DEC	SP
                           A  6357    ;  686		UINT16 gxpos = xpos * MINIMAP_WIDTH
                           A  6358    .LINE 686
                           A  6359    
041EF3 DD4E06              A  6360    	LD	C,(IX+%6)
041EF6 0600                A  6361    	LD	B,%0
041EF8 C5E1                A  6362    	LD	HL,BC
041EFA 29                  A  6363    	ADD	HL,HL
041EFB 29                  A  6364    	ADD	HL,HL
041EFC 29                  A  6365    	ADD	HL,HL
041EFD DD75FE              A  6366    	LD	(IX+%FFFFFFFE),L
041F00 DD74FF              A  6367    	LD	(IX+%FFFFFFFF),H
                           A  6368    ;  687		UINT16 gypos = (ypos * 8) + 72;
                           A  6369    .LINE 687
                           A  6370    
041F03 DD4E09              A  6371    	LD	C,(IX+%9)
041F06 C5E1                A  6372    	LD	HL,BC
041F08 29                  A  6373    	ADD	HL,HL
041F09 29                  A  6374    	ADD	HL,HL
041F0A 29                  A  6375    	ADD	HL,HL
041F0B E5FDE1              A  6376    	LD	IY,HL
041F0E ED2348              A  6377    	LEA	HL,IY+%48
041F11 DD75FC              A  6378    	LD	(IX+%FFFFFFFC),L
041F14 DD74FD              A  6379    	LD	(IX+%FFFFFFFD),H
                           A  6380    ;  688		vdp_cursorGoto(xpos,ypos);
                           A  6381    .LINE 688
                           A  6382    
041F17 DD4E09              A  6383    	LD	C,(IX+%9)
041F1A C5                  A  6384    	PUSH	BC
041F1B DD4E06              A  6385    	LD	C,(IX+%6)
041F1E C5                  A  6386    	PUSH	BC
041F1F CD 8A 04 04         A  6387    	CALL	_vdp_cursorGoto
041F23 C1                  A  6388    	POP	BC
041F24 C1                  A  6389    	POP	BC
                           A  6390    ;  689		vdp_fgcolour(BRIGHT_WHITE);
                           A  6391    .LINE 689
                           A  6392    
041F25 010F0000            A  6393    	LD	BC,15
041F29 C5                  A  6394    	PUSH	BC
041F2A CD BC 04 04         A  6395    	CALL	_vdp_fgcolour
041F2E C1                  A  6396    	POP	BC
                           A  6397    ;  690		puts("Game objective");
                           A  6398    .LINE 690
                           A  6399    
041F2F 01 88 53 04         A  6400    	LD	BC,L__69
041F33 C5                  A  6401    	PUSH	BC
041F34 CD 77 35 04         A  6402    	CALL	_puts
041F38 C1                  A  6403    	POP	BC
                           A  6404    ;  691		vdp_cursorGoto(xpos,ypos+2);
                           A  6405    .LINE 691
                           A  6406    
041F39 DD4E09              A  6407    	LD	C,(IX+%9)
041F3C 0C                  A  6408    	INC	C
041F3D 0C                  A  6409    	INC	C
041F3E 0600                A  6410    	LD	B,%0
041F40 C5                  A  6411    	PUSH	BC
041F41 DD4E06              A  6412    	LD	C,(IX+%6)
041F44 C5                  A  6413    	PUSH	BC
041F45 CD 8A 04 04         A  6414    	CALL	_vdp_cursorGoto
041F49 C1                  A  6415    	POP	BC
041F4A C1                  A  6416    	POP	BC
                           A  6417    ;  692		vdp_fgcolour(DARK_WHITE);
                           A  6418    .LINE 692
                           A  6419    
041F4B 01070000            A  6420    	LD	BC,7
041F4F C5                  A  6421    	PUSH	BC
041F50 CD BC 04 04         A  6422    	CALL	_vdp_fgcolour
041F54 C1                  A  6423    	POP	BC
                           A  6424    ;  693		puts("Push all boxes");
                           A  6425    .LINE 693
                           A  6426    
041F55 01 97 53 04         A  6427    	LD	BC,L__70
041F59 C5                  A  6428    	PUSH	BC
041F5A CD 77 35 04         A  6429    	CALL	_puts
041F5E C1                  A  6430    	POP	BC
                           A  6431    ;  694		vdp_cursorGoto(xpos,ypos+3);
                           A  6432    .LINE 694
                           A  6433    
041F5F DD7E09              A  6434    	LD	A,(IX+%9)
041F62 C603                A  6435    	ADD	A,%3
041F64 4F                  A  6436    	LD	C,A
041F65 0600                A  6437    	LD	B,%0
041F67 C5                  A  6438    	PUSH	BC
041F68 DD4E06              A  6439    	LD	C,(IX+%6)
041F6B C5                  A  6440    	PUSH	BC
041F6C CD 8A 04 04         A  6441    	CALL	_vdp_cursorGoto
041F70 C1                  A  6442    	POP	BC
041F71 C1                  A  6443    	POP	BC
                           A  6444    ;  695		puts("in this warehouse");
                           A  6445    .LINE 695
                           A  6446    
041F72 01 A6 53 04         A  6447    	LD	BC,L__71
041F76 C5                  A  6448    	PUSH	BC
041F77 CD 77 35 04         A  6449    	CALL	_puts
041F7B C1                  A  6450    	POP	BC
                           A  6451    ;  696		vdp_cursorGoto(xpos,ypos+4);
                           A  6452    .LINE 696
                           A  6453    
041F7C DD7E09              A  6454    	LD	A,(IX+%9)
041F7F C604                A  6455    	ADD	A,%4
041F81 4F                  A  6456    	LD	C,A
041F82 0600                A  6457    	LD	B,%0
041F84 C5                  A  6458    	PUSH	BC
041F85 DD4E06              A  6459    	LD	C,(IX+%6)
041F88 C5                  A  6460    	PUSH	BC
041F89 CD 8A 04 04         A  6461    	CALL	_vdp_cursorGoto
041F8D C1                  A  6462    	POP	BC
041F8E C1                  A  6463    	POP	BC
                           A  6464    ;  697		puts("to the target goals.");
                           A  6465    .LINE 697
                           A  6466    
041F8F 01 B8 53 04         A  6467    	LD	BC,L__72
041F93 C5                  A  6468    	PUSH	BC
041F94 CD 77 35 04         A  6469    	CALL	_puts
041F98 C1                  A  6470    	POP	BC
                           A  6471    ;  698		
                           A  6472    ;  699		vdp_cursorGoto(xpos,ypos+7);
                           A  6473    .LINE 699
                           A  6474    
041F99 DD7E09              A  6475    	LD	A,(IX+%9)
041F9C C607                A  6476    	ADD	A,%7
041F9E 4F                  A  6477    	LD	C,A
041F9F 0600                A  6478    	LD	B,%0
041FA1 C5                  A  6479    	PUSH	BC
041FA2 DD4E06              A  6480    	LD	C,(IX+%6)
041FA5 C5                  A  6481    	PUSH	BC
041FA6 CD 8A 04 04         A  6482    	CALL	_vdp_cursorGoto
041FAA C1                  A  6483    	POP	BC
041FAB C1                  A  6484    	POP	BC
                           A  6485    ;  700		vdp_fgcolour(BRIGHT_WHITE);
                           A  6486    .LINE 700
                           A  6487    
041FAC 010F0000            A  6488    	LD	BC,15
041FB0 C5                  A  6489    	PUSH	BC
041FB1 CD BC 04 04         A  6490    	CALL	_vdp_fgcolour
041FB5 C1                  A  6491    	POP	BC
                           A  6492    ;  701		puts("Legend");
                           A  6493    .LINE 701
                           A  6494    
041FB6 01 CD 53 04         A  6495    	LD	BC,L__73
041FBA C5                  A  6496    	PUSH	BC
041FBB CD 77 35 04         A  6497    	CALL	_puts
041FBF C1                  A  6498    	POP	BC
                           A  6499    ;  702		
                           A  6500    ;  703		vdp_bitmapDraw(TILE_PLAYER_MINI,gxp
                           A  6501    .LINE 703
                           A  6502    
041FC0 DD07FC              A  6503    	LD	BC,(IX+%FFFFFFFC)
041FC3 C5                  A  6504    	PUSH	BC
041FC4 DD07FE              A  6505    	LD	BC,(IX+%FFFFFFFE)
041FC7 C5                  A  6506    	PUSH	BC
041FC8 01080000            A  6507    	LD	BC,8
041FCC C5                  A  6508    	PUSH	BC
041FCD CD 17 08 04         A  6509    	CALL	_vdp_bitmapDraw
041FD1 C1                  A  6510    	POP	BC
041FD2 C1                  A  6511    	POP	BC
041FD3 C1                  A  6512    	POP	BC
                           A  6513    ;  704		vdp_bitmapDraw(TILE_BOX_MINI, gxpos
                           A  6514    .LINE 704
                           A  6515    
041FD4 DD31FC              A  6516    	LD	IY,(IX+%FFFFFFFC)
041FD7 ED0310              A  6517    	LEA	BC,IY+%10
041FDA C5                  A  6518    	PUSH	BC
041FDB DD07FE              A  6519    	LD	BC,(IX+%FFFFFFFE)
041FDE C5                  A  6520    	PUSH	BC
041FDF 010A0000            A  6521    	LD	BC,10
041FE3 C5                  A  6522    	PUSH	BC
041FE4 CD 17 08 04         A  6523    	CALL	_vdp_bitmapDraw
041FE8 C1                  A  6524    	POP	BC
041FE9 C1                  A  6525    	POP	BC
041FEA C1                  A  6526    	POP	BC
                           A  6527    ;  705		vdp_bitmapDraw(TILE_BOXONGOAL_MINI,
                           A  6528    .LINE 705
                           A  6529    
041FEB DD31FC              A  6530    	LD	IY,(IX+%FFFFFFFC)
041FEE ED0320              A  6531    	LEA	BC,IY+%20
041FF1 C5                  A  6532    	PUSH	BC
041FF2 DD07FE              A  6533    	LD	BC,(IX+%FFFFFFFE)
041FF5 C5                  A  6534    	PUSH	BC
041FF6 010B0000            A  6535    	LD	BC,11
041FFA C5                  A  6536    	PUSH	BC
041FFB CD 17 08 04         A  6537    	CALL	_vdp_bitmapDraw
041FFF C1                  A  6538    	POP	BC
042000 C1                  A  6539    	POP	BC
042001 C1                  A  6540    	POP	BC
                           A  6541    ;  706		vdp_bitmapDraw(TILE_GOAL_MINI, gxpo
                           A  6542    .LINE 706
                           A  6543    
042002 DD31FC              A  6544    	LD	IY,(IX+%FFFFFFFC)
042005 ED0338              A  6545    	LEA	BC,IY+%38
042008 C5                  A  6546    	PUSH	BC
042009 DD07FE              A  6547    	LD	BC,(IX+%FFFFFFFE)
04200C C5                  A  6548    	PUSH	BC
04200D 010C0000            A  6549    	LD	BC,12
042011 C5                  A  6550    	PUSH	BC
042012 CD 17 08 04         A  6551    	CALL	_vdp_bitmapDraw
042016 C1                  A  6552    	POP	BC
042017 C1                  A  6553    	POP	BC
042018 C1                  A  6554    	POP	BC
                           A  6555    ;  707		
                           A  6556    ;  708		vdp_fgcolour(DARK_WHITE);
                           A  6557    .LINE 708
                           A  6558    
042019 01070000            A  6559    	LD	BC,7
04201D C5                  A  6560    	PUSH	BC
04201E CD BC 04 04         A  6561    	CALL	_vdp_fgcolour
042022 C1                  A  6562    	POP	BC
                           A  6563    ;  709		vdp_cursorGoto(xpos+2,ypos+9);
                           A  6564    .LINE 709
                           A  6565    
042023 DD7E09              A  6566    	LD	A,(IX+%9)
042026 C609                A  6567    	ADD	A,%9
042028 4F                  A  6568    	LD	C,A
042029 0600                A  6569    	LD	B,%0
04202B C5                  A  6570    	PUSH	BC
04202C DD4E06              A  6571    	LD	C,(IX+%6)
04202F 0C                  A  6572    	INC	C
042030 0C                  A  6573    	INC	C
042031 C5                  A  6574    	PUSH	BC
042032 CD 8A 04 04         A  6575    	CALL	_vdp_cursorGoto
042036 C1                  A  6576    	POP	BC
042037 C1                  A  6577    	POP	BC
                           A  6578    ;  710		puts("You, hard at work");
                           A  6579    .LINE 710
                           A  6580    
042038 01 D4 53 04         A  6581    	LD	BC,L__74
04203C C5                  A  6582    	PUSH	BC
04203D CD 77 35 04         A  6583    	CALL	_puts
042041 C1                  A  6584    	POP	BC
                           A  6585    ;  711		vdp_cursorGoto(xpos+2,ypos+11);
                           A  6586    .LINE 711
                           A  6587    
042042 DD7E09              A  6588    	LD	A,(IX+%9)
042045 C60B                A  6589    	ADD	A,%B
042047 4F                  A  6590    	LD	C,A
042048 0600                A  6591    	LD	B,%0
04204A C5                  A  6592    	PUSH	BC
04204B DD4E06              A  6593    	LD	C,(IX+%6)
04204E 0C                  A  6594    	INC	C
04204F 0C                  A  6595    	INC	C
042050 C5                  A  6596    	PUSH	BC
042051 CD 8A 04 04         A  6597    	CALL	_vdp_cursorGoto
042055 C1                  A  6598    	POP	BC
042056 C1                  A  6599    	POP	BC
                           A  6600    ;  712		puts("Boxes with stuff");
                           A  6601    .LINE 712
                           A  6602    
042057 01 E6 53 04         A  6603    	LD	BC,L__75
04205B C5                  A  6604    	PUSH	BC
04205C CD 77 35 04         A  6605    	CALL	_puts
042060 C1                  A  6606    	POP	BC
                           A  6607    ;  713		vdp_cursorGoto(xpos+2,ypos+13);
                           A  6608    .LINE 713
                           A  6609    
042061 DD7E09              A  6610    	LD	A,(IX+%9)
042064 C60D                A  6611    	ADD	A,%D
042066 4F                  A  6612    	LD	C,A
042067 0600                A  6613    	LD	B,%0
042069 C5                  A  6614    	PUSH	BC
04206A DD4E06              A  6615    	LD	C,(IX+%6)
04206D 0C                  A  6616    	INC	C
04206E 0C                  A  6617    	INC	C
04206F C5                  A  6618    	PUSH	BC
042070 CD 8A 04 04         A  6619    	CALL	_vdp_cursorGoto
042074 C1                  A  6620    	POP	BC
042075 C1                  A  6621    	POP	BC
                           A  6622    ;  714		puts("Boxes in shipping");
                           A  6623    .LINE 714
                           A  6624    
042076 01 F7 53 04         A  6625    	LD	BC,L__76
04207A C5                  A  6626    	PUSH	BC
04207B CD 77 35 04         A  6627    	CALL	_puts
04207F C1                  A  6628    	POP	BC
                           A  6629    ;  715		vdp_cursorGoto(xpos+2,ypos+14);
                           A  6630    .LINE 715
                           A  6631    
042080 DD7E09              A  6632    	LD	A,(IX+%9)
042083 C60E                A  6633    	ADD	A,%E
042085 4F                  A  6634    	LD	C,A
042086 0600                A  6635    	LD	B,%0
042088 C5                  A  6636    	PUSH	BC
042089 DD4E06              A  6637    	LD	C,(IX+%6)
04208C 0C                  A  6638    	INC	C
04208D 0C                  A  6639    	INC	C
04208E C5                  A  6640    	PUSH	BC
04208F CD 8A 04 04         A  6641    	CALL	_vdp_cursorGoto
042093 C1                  A  6642    	POP	BC
042094 C1                  A  6643    	POP	BC
                           A  6644    ;  716		puts("position");
                           A  6645    .LINE 716
                           A  6646    
042095 01 09 54 04         A  6647    	LD	BC,L__77
042099 C5                  A  6648    	PUSH	BC
04209A CD 77 35 04         A  6649    	CALL	_puts
04209E C1                  A  6650    	POP	BC
                           A  6651    ;  717		vdp_cursorGoto(xpos+2,ypos+16);
                           A  6652    .LINE 717
                           A  6653    
04209F DD7E09              A  6654    	LD	A,(IX+%9)
0420A2 C610                A  6655    	ADD	A,%10
0420A4 4F                  A  6656    	LD	C,A
0420A5 0600                A  6657    	LD	B,%0
0420A7 C5                  A  6658    	PUSH	BC
0420A8 DD4E06              A  6659    	LD	C,(IX+%6)
0420AB 0C                  A  6660    	INC	C
0420AC 0C                  A  6661    	INC	C
0420AD C5                  A  6662    	PUSH	BC
0420AE CD 8A 04 04         A  6663    	CALL	_vdp_cursorGoto
0420B2 C1                  A  6664    	POP	BC
0420B3 C1                  A  6665    	POP	BC
                           A  6666    ;  718		puts("Shipping goal");
                           A  6667    .LINE 718
                           A  6668    
0420B4 01 12 54 04         A  6669    	LD	BC,L__78
0420B8 C5                  A  6670    	PUSH	BC
0420B9 CD 77 35 04         A  6671    	CALL	_puts
0420BD C1                  A  6672    	POP	BC
                           A  6673    ;  719		
                           A  6674    ;  720		vdp_fgcolour(BRIGHT_WHITE);
                           A  6675    .LINE 720
                           A  6676    
0420BE 010F0000            A  6677    	LD	BC,15
0420C2 C5                  A  6678    	PUSH	BC
0420C3 CD BC 04 04         A  6679    	CALL	_vdp_fgcolour
0420C7 C1                  A  6680    	POP	BC
                           A  6681    ;  721		vdp_cursorGoto(xpos,ypos+19);
                           A  6682    .LINE 721
                           A  6683    
0420C8 DD7E09              A  6684    	LD	A,(IX+%9)
0420CB C613                A  6685    	ADD	A,%13
0420CD 4F                  A  6686    	LD	C,A
0420CE 0600                A  6687    	LD	B,%0
0420D0 C5                  A  6688    	PUSH	BC
0420D1 DD4E06              A  6689    	LD	C,(IX+%6)
0420D4 C5                  A  6690    	PUSH	BC
0420D5 CD 8A 04 04         A  6691    	CALL	_vdp_cursorGoto
0420D9 C1                  A  6692    	POP	BC
0420DA C1                  A  6693    	POP	BC
                           A  6694    ;  722		puts("Game controls");
                           A  6695    .LINE 722
                           A  6696    
0420DB 01 20 54 04         A  6697    	LD	BC,L__79
0420DF C5                  A  6698    	PUSH	BC
0420E0 CD 77 35 04         A  6699    	CALL	_puts
0420E4 C1                  A  6700    	POP	BC
                           A  6701    ;  723		
                           A  6702    ;  724		vdp_fgcolour(DARK_WHITE);
                           A  6703    .LINE 724
                           A  6704    
0420E5 01070000            A  6705    	LD	BC,7
0420E9 C5                  A  6706    	PUSH	BC
0420EA CD BC 04 04         A  6707    	CALL	_vdp_fgcolour
0420EE C1                  A  6708    	POP	BC
                           A  6709    ;  725		vdp_cursorGoto(xpos,ypos+21);
                           A  6710    .LINE 725
                           A  6711    
0420EF DD7E09              A  6712    	LD	A,(IX+%9)
0420F2 C615                A  6713    	ADD	A,%15
0420F4 4F                  A  6714    	LD	C,A
0420F5 0600                A  6715    	LD	B,%0
0420F7 C5                  A  6716    	PUSH	BC
0420F8 DD4E06              A  6717    	LD	C,(IX+%6)
0420FB C5                  A  6718    	PUSH	BC
0420FC CD 8A 04 04         A  6719    	CALL	_vdp_cursorGoto
042100 C1                  A  6720    	POP	BC
042101 C1                  A  6721    	POP	BC
                           A  6722    ;  726		puts("Cursor");
                           A  6723    .LINE 726
                           A  6724    
042102 01 2E 54 04         A  6725    	LD	BC,L__80
042106 C5                  A  6726    	PUSH	BC
042107 CD 77 35 04         A  6727    	CALL	_puts
04210B C1                  A  6728    	POP	BC
                           A  6729    ;  727		vdp_cursorGoto(xpos,ypos+22);
                           A  6730    .LINE 727
                           A  6731    
04210C DD7E09              A  6732    	LD	A,(IX+%9)
04210F C616                A  6733    	ADD	A,%16
042111 4F                  A  6734    	LD	C,A
042112 0600                A  6735    	LD	B,%0
042114 C5                  A  6736    	PUSH	BC
042115 DD4E06              A  6737    	LD	C,(IX+%6)
042118 C5                  A  6738    	PUSH	BC
042119 CD 8A 04 04         A  6739    	CALL	_vdp_cursorGoto
04211D C1                  A  6740    	POP	BC
04211E C1                  A  6741    	POP	BC
                           A  6742    ;  728		puts(" keys  - move player");
                           A  6743    .LINE 728
                           A  6744    
04211F 01 35 54 04         A  6745    	LD	BC,L__81
042123 C5                  A  6746    	PUSH	BC
042124 CD 77 35 04         A  6747    	CALL	_puts
042128 C1                  A  6748    	POP	BC
                           A  6749    ;  729		vdp_cursorGoto(xpos,ypos+23);
                           A  6750    .LINE 729
                           A  6751    
042129 DD7E09              A  6752    	LD	A,(IX+%9)
04212C C617                A  6753    	ADD	A,%17
04212E 4F                  A  6754    	LD	C,A
04212F 0600                A  6755    	LD	B,%0
042131 C5                  A  6756    	PUSH	BC
042132 DD4E06              A  6757    	LD	C,(IX+%6)
042135 C5                  A  6758    	PUSH	BC
042136 CD 8A 04 04         A  6759    	CALL	_vdp_cursorGoto
04213A C1                  A  6760    	POP	BC
04213B C1                  A  6761    	POP	BC
                           A  6762    ;  730		puts("    u  - undo move");
                           A  6763    .LINE 730
                           A  6764    
04213C 01 4A 54 04         A  6765    	LD	BC,L__82
042140 C5                  A  6766    	PUSH	BC
042141 CD 77 35 04         A  6767    	CALL	_puts
042145 C1                  A  6768    	POP	BC
                           A  6769    ;  731		vdp_cursorGoto(xpos,ypos+24);
                           A  6770    .LINE 731
                           A  6771    
042146 DD7E09              A  6772    	LD	A,(IX+%9)
042149 C618                A  6773    	ADD	A,%18
04214B 4F                  A  6774    	LD	C,A
04214C 0600                A  6775    	LD	B,%0
04214E C5                  A  6776    	PUSH	BC
04214F DD4E06              A  6777    	LD	C,(IX+%6)
042152 C5                  A  6778    	PUSH	BC
042153 CD 8A 04 04         A  6779    	CALL	_vdp_cursorGoto
042157 C1                  A  6780    	POP	BC
042158 C1                  A  6781    	POP	BC
                           A  6782    ;  732		puts("esc/q  - quit level");
                           A  6783    .LINE 732
                           A  6784    
042159 01 5D 54 04         A  6785    	LD	BC,L__83
04215D C5                  A  6786    	PUSH	BC
04215E CD 77 35 04         A  6787    	CALL	_puts
042162 C1                  A  6788    	POP	BC
                           A  6789    ;  733		vdp_cursorGoto(xpos,ypos+26);
                           A  6790    .LINE 733
                           A  6791    
042163 DD7E09              A  6792    	LD	A,(IX+%9)
042166 C61A                A  6793    	ADD	A,%1A
042168 4F                  A  6794    	LD	C,A
042169 0600                A  6795    	LD	B,%0
04216B C5                  A  6796    	PUSH	BC
04216C DD4E06              A  6797    	LD	C,(IX+%6)
04216F C5                  A  6798    	PUSH	BC
042170 CD 8A 04 04         A  6799    	CALL	_vdp_cursorGoto
042174 C1                  A  6800    	POP	BC
042175 C1                  A  6801    	POP	BC
                           A  6802    ;  734		puts("ENTER  - start level");
                           A  6803    .LINE 734
                           A  6804    
042176 01 71 54 04         A  6805    	LD	BC,L__84
04217A C5                  A  6806    	PUSH	BC
04217B CD 77 35 04         A  6807    	CALL	_puts
04217F C1                  A  6808    	POP	BC
                           A  6809    ;  735	
                           A  6810    ;  736		return;
                           A  6811    ;  737	}
                           A  6812    .LINE 737
                           A  6813    
042180 DDF9                A  6814    	LD	SP,IX
042182 DDE1                A  6815    	POP	IX
042184 C9                  A  6816    	RET	
                           A  6817    
                           A  6818    
                           A  6819    ;**************************** _game_displayHelp
                           A  6820    ;Name                         Addr/Register   S
                           A  6821    ;_vdp_bitmapDraw                     IMPORT  --
                           A  6822    ;_puts                               IMPORT  --
                           A  6823    ;_vdp_fgcolour                       IMPORT  --
                           A  6824    ;_vdp_cursorGoto                     IMPORT  --
                           A  6825    ;gypos                                 IX-4    
                           A  6826    ;gxpos                                 IX-2    
                           A  6827    ;ypos                                  IX+9    
                           A  6828    ;xpos                                  IX+6    
                           A  6829    
                           A  6830    
                           A  6831    ; Stack Frame Size: 16 (bytes)
                           A  6832    ;       Spill Code: 0 (instruction)
                           A  6833    
                           A  6834    
                           A  6835    .ENDFUNC "game_displayHelp",737,"_game_displayH
                           A  6836    	SEGMENT STRSECT
045388                     A  6837    L__69:
045388 47616D65 206F626A   A  6838    	DB	"Game objective"
045390 65637469 7665 
045396 00                  A  6839    	DB	0
045397                     A  6840    L__70:
045397 50757368 20616C6C   A  6841    	DB	"Push all boxes"
04539F 20626F78 6573 
0453A5 00                  A  6842    	DB	0
0453A6                     A  6843    L__71:
0453A6 696E2074 68697320   A  6844    	DB	"in this warehouse"
0453AE 77617265 686F7573 
0453B6 65 
0453B7 00                  A  6845    	DB	0
0453B8                     A  6846    L__72:
0453B8 746F2074 68652074   A  6847    	DB	"to the target goals."
0453C0 61726765 7420676F 
0453C8 616C732E 
0453CC 00                  A  6848    	DB	0
0453CD                     A  6849    L__73:
0453CD 4C656765 6E64       A  6850    	DB	"Legend"
0453D3 00                  A  6851    	DB	0
0453D4                     A  6852    L__74:
0453D4 596F752C 20686172   A  6853    	DB	"You, hard at work"
0453DC 64206174 20776F72 
0453E4 6B 
0453E5 00                  A  6854    	DB	0
0453E6                     A  6855    L__75:
0453E6 426F7865 73207769   A  6856    	DB	"Boxes with stuff"
0453EE 74682073 74756666 
0453F6 00                  A  6857    	DB	0
0453F7                     A  6858    L__76:
0453F7 426F7865 7320696E   A  6859    	DB	"Boxes in shipping"
0453FF 20736869 7070696E 
045407 67 
045408 00                  A  6860    	DB	0
045409                     A  6861    L__77:
045409 706F7369 74696F6E   A  6862    	DB	"position"
045411 00                  A  6863    	DB	0
045412                     A  6864    L__78:
045412 53686970 70696E67   A  6865    	DB	"Shipping goal"
04541A 20676F61 6C 
04541F 00                  A  6866    	DB	0
045420                     A  6867    L__79:
045420 47616D65 20636F6E   A  6868    	DB	"Game controls"
045428 74726F6C 73 
04542D 00                  A  6869    	DB	0
04542E                     A  6870    L__80:
04542E 43757273 6F72       A  6871    	DB	"Cursor"
045434 00                  A  6872    	DB	0
045435                     A  6873    L__81:
045435 206B6579 7320202D   A  6874    	DB	" keys  - move player"
04543D 206D6F76 6520706C 
045445 61796572 
045449 00                  A  6875    	DB	0
04544A                     A  6876    L__82:
04544A 20202020 7520202D   A  6877    	DB	"    u  - undo move"
045452 20756E64 6F206D6F 
04545A 7665 
04545C 00                  A  6878    	DB	0
04545D                     A  6879    L__83:
04545D 6573632F 7120202D   A  6880    	DB	"esc/q  - quit level"
045465 20717569 74206C65 
04546D 76656C 
045470 00                  A  6881    	DB	0
045471                     A  6882    L__84:
045471 454E5445 5220202D   A  6883    	DB	"ENTER  - start level"
045479 20737461 7274206C 
045481 6576656C 
045485 00                  A  6884    	DB	0
                           A  6885    	SEGMENT CODE
                           A  6886    ;  738	
                           A  6887    ;  739	INT16 game_selectLevel(UINT8 levels, UI
                           A  6888    ;  740	{
042185                     A  6889    _game_selectLevel:
                           A  6890    .DEFINE "_game_selectLevel"
                           A  6891    
                           A  6892    .VALUE _game_selectLevel
                           A  6893    
                           A  6894    .CLASS 2
                           A  6895    
                           A  6896    .TYPE 67
                           A  6897    
                           A  6898    .ENDEF
                           A  6899    
                           A  6900    .BEGFUNC "game_selectLevel",740,"_game_selectLe
                           A  6901    
                           A  6902    .LINE 740
                           A  6903    
                           A  6904    .DEFINE "levels"
                           A  6905    
                           A  6906    .CLASS 65
                           A  6907    
                           A  6908    .VALUE 6
                           A  6909    
                           A  6910    .TYPE 12
                           A  6911    
                           A  6912    .ENDEF
                           A  6913    
                           A  6914    .DEFINE "previouslevel"
                           A  6915    
                           A  6916    .CLASS 65
                           A  6917    
                           A  6918    .VALUE 9
                           A  6919    
                           A  6920    .TYPE 13
                           A  6921    
                           A  6922    .ENDEF
                           A  6923    
                           A  6924    .DEFINE "lvl"
                           A  6925    
                           A  6926    .CLASS 65
                           A  6927    
                           A  6928    .VALUE -2
                           A  6929    
                           A  6930    .TYPE 3
                           A  6931    
                           A  6932    .ENDEF
                           A  6933    
                           A  6934    .DEFINE "selected"
                           A  6935    
                           A  6936    .CLASS 65
                           A  6937    
                           A  6938    .VALUE -3
                           A  6939    
                           A  6940    .TYPE 12
                           A  6941    
                           A  6942    .ENDEF
                           A  6943    
042185 DDE5                A  6944    	PUSH	IX
042187 DD210000 00         A  6945    	LD	IX,0
04218C DD39                A  6946    	ADD	IX,SP
04218E C5                  A  6947    	PUSH	BC
                           A  6948    ;  741		INT16 lvl;
                           A  6949    ;  742		BOOL selected = FALSE;
                           A  6950    .LINE 742
                           A  6951    
04218F DD36FD00            A  6952    	LD	(IX+%FFFFFFFD),%0
                           A  6953    ;  743		lvl = previouslevel;
                           A  6954    .LINE 743
                           A  6955    
042193 DD0709              A  6956    	LD	BC,(IX+%9)
042196 DD71FE              A  6957    	LD	(IX+%FFFFFFFE),C
042199 DD70FF              A  6958    	LD	(IX+%FFFFFFFF),B
                           A  6959    ;  744		
                           A  6960    ;  745		while(!selected) {
                           A  6961    .LINE 745
                           A  6962    
04219C C3 4D 23 04         A  6963    	JR	L_164
0421A0                     A  6964    L_165:
                           A  6965    ;  746			game_initLevel(lvl);			
                           A  6966    .LINE 746
                           A  6967    
0421A0 DD4EFE              A  6968    	LD	C,(IX+%FFFFFFFE)
0421A3 0600                A  6969    	LD	B,%0
0421A5 C5                  A  6970    	PUSH	BC
0421A6 CD DF 27 04         A  6971    	CALL	_game_initLevel
0421AA C1                  A  6972    	POP	BC
                           A  6973    ;  747			vdp_clearGraphics();
                           A  6974    .LINE 747
                           A  6975    
0421AB CD 0E 05 04         A  6976    	CALL	_vdp_clearGraphics
                           A  6977    ;  748			game_displayMinimap();			
                           A  6978    .LINE 748
                           A  6979    
0421AF CD 2F 25 04         A  6980    	CALL	_game_displayMinimap
                           A  6981    ;  749	
                           A  6982    ;  750			vdp_cursorGoto(4,9);
                           A  6983    .LINE 750
                           A  6984    
0421B3 01090000            A  6985    	LD	BC,9
0421B7 C5                  A  6986    	PUSH	BC
0421B8 01040000            A  6987    	LD	BC,4
0421BC C5                  A  6988    	PUSH	BC
0421BD CD 8A 04 04         A  6989    	CALL	_vdp_cursorGoto
0421C1 C1                  A  6990    	POP	BC
0421C2 C1                  A  6991    	POP	BC
                           A  6992    ;  751			vdp_fgcolour(BRIGHT_WHITE);
                           A  6993    .LINE 751
                           A  6994    
0421C3 010F0000            A  6995    	LD	BC,15
0421C7 C5                  A  6996    	PUSH	BC
0421C8 CD BC 04 04         A  6997    	CALL	_vdp_fgcolour
0421CC C1                  A  6998    	POP	BC
                           A  6999    ;  752			printf("Level %03d / %03d",lvl+
                           A  7000    .LINE 752
                           A  7001    
0421CD 01 B3 2F 04         A  7002    	LD	BC,___print_uputch
0421D1 ED43 58 51 04       A  7003    	LD	(___print_xputch),BC
0421D6 01 86 54 04         A  7004    	LD	BC,L__86
0421DA C5                  A  7005    	PUSH	BC
0421DB CD 27 2E 04         A  7006    	CALL	___print_sendstring
0421DF C1                  A  7007    	POP	BC
0421E0 3E03                A  7008    	LD	A,%3
0421E2 32 52 63 04         A  7009    	LD	(___print_fmt+5),A
0421E6 3E40                A  7010    	LD	A,%40
0421E8 32 4E 63 04         A  7011    	LD	(___print_fmt+1),A
0421EC DD07FE              A  7012    	LD	BC,(IX+%FFFFFFFE)
0421EF CD B0 37 04         A  7013    	CALL	__stoi
0421F3 23                  A  7014    	INC	HL
0421F4 E5C1                A  7015    	LD	BC,HL
0421F6 CD C8 36 04         A  7016    	CALL	__itol
0421FA C5D1                A  7017    	LD	DE,BC
0421FC 4F                  A  7018    	LD	C,A
0421FD 0600                A  7019    	LD	B,%0
0421FF C5                  A  7020    	PUSH	BC
042200 D5                  A  7021    	PUSH	DE
042201 CD AB 30 04         A  7022    	CALL	__u_itoa
042205 C1                  A  7023    	POP	BC
042206 C1                  A  7024    	POP	BC
042207 01 8D 54 04         A  7025    	LD	BC,L__87
04220B C5                  A  7026    	PUSH	BC
04220C CD 27 2E 04         A  7027    	CALL	___print_sendstring
042210 C1                  A  7028    	POP	BC
042211 3E03                A  7029    	LD	A,%3
042213 32 52 63 04         A  7030    	LD	(___print_fmt+5),A
042217 3E40                A  7031    	LD	A,%40
042219 32 4E 63 04         A  7032    	LD	(___print_fmt+1),A
04221D DD7E06              A  7033    	LD	A,(IX+%6)
042220 B7ED62              A  7034    	UEXT	HL
042223 6F                  A  7035    	LD	L,A
042224 E5C1                A  7036    	LD	BC,HL
042226 CD C8 36 04         A  7037    	CALL	__itol
04222A C5D1                A  7038    	LD	DE,BC
04222C 4F                  A  7039    	LD	C,A
04222D 0600                A  7040    	LD	B,%0
04222F C5                  A  7041    	PUSH	BC
042230 D5                  A  7042    	PUSH	DE
042231 CD AB 30 04         A  7043    	CALL	__u_itoa
042235 C1                  A  7044    	POP	BC
042236 C1                  A  7045    	POP	BC
                           A  7046    ;  753	
                           A  7047    ;  754			vdp_cursorGoto(9,43);
                           A  7048    .LINE 754
                           A  7049    
042237 012B0000            A  7050    	LD	BC,43
04223B C5                  A  7051    	PUSH	BC
04223C 01090000            A  7052    	LD	BC,9
042240 C5                  A  7053    	PUSH	BC
042241 CD 8A 04 04         A  7054    	CALL	_vdp_cursorGoto
042245 C1                  A  7055    	POP	BC
042246 C1                  A  7056    	POP	BC
                           A  7057    ;  755			puts("Select level with cursor 
                           A  7058    .LINE 755
                           A  7059    
042247 01 91 54 04         A  7060    	LD	BC,L__88
04224B C5                  A  7061    	PUSH	BC
04224C CD 77 35 04         A  7062    	CALL	_puts
042250 C1                  A  7063    	POP	BC
                           A  7064    ;  756			vdp_cursorGoto(18,45);
                           A  7065    .LINE 756
                           A  7066    
042251 012D0000            A  7067    	LD	BC,45
042255 C5                  A  7068    	PUSH	BC
042256 01120000            A  7069    	LD	BC,18
04225A C5                  A  7070    	PUSH	BC
04225B CD 8A 04 04         A  7071    	CALL	_vdp_cursorGoto
04225F C1                  A  7072    	POP	BC
042260 C1                  A  7073    	POP	BC
                           A  7074    ;  757			vdp_fgcolour(DARK_WHITE);
                           A  7075    .LINE 757
                           A  7076    
042261 01070000            A  7077    	LD	BC,7
042265 C5                  A  7078    	PUSH	BC
042266 CD BC 04 04         A  7079    	CALL	_vdp_fgcolour
04226A C1                  A  7080    	POP	BC
                           A  7081    ;  758			puts("ESC to quit");
                           A  7082    .LINE 758
                           A  7083    
04226B 01 AF 54 04         A  7084    	LD	BC,L__89
04226F C5                  A  7085    	PUSH	BC
042270 CD 77 35 04         A  7086    	CALL	_puts
042274 C1                  A  7087    	POP	BC
                           A  7088    ;  759	
                           A  7089    ;  760			vdp_plotMoveTo(750,335);
                           A  7090    .LINE 760
                           A  7091    
042275 014F0100            A  7092    	LD	BC,335
042279 C5                  A  7093    	PUSH	BC
04227A 01EE0200            A  7094    	LD	BC,750
04227E C5                  A  7095    	PUSH	BC
04227F CD B2 05 04         A  7096    	CALL	_vdp_plotMoveTo
042283 C1                  A  7097    	POP	BC
042284 C1                  A  7098    	POP	BC
                           A  7099    ;  761			vdp_plotColour(DARK_CYAN);
                           A  7100    .LINE 761
                           A  7101    
042285 01060000            A  7102    	LD	BC,6
042289 C5                  A  7103    	PUSH	BC
04228A CD 26 05 04         A  7104    	CALL	_vdp_plotColour
04228E C1                  A  7105    	POP	BC
                           A  7106    ;  762			vdp_plotLineTo(750,804);
                           A  7107    .LINE 762
                           A  7108    
04228F 01240300            A  7109    	LD	BC,804
042293 C5                  A  7110    	PUSH	BC
042294 01EE0200            A  7111    	LD	BC,750
042298 C5                  A  7112    	PUSH	BC
042299 CD D4 05 04         A  7113    	CALL	_vdp_plotLineTo
04229D C1                  A  7114    	POP	BC
04229E C1                  A  7115    	POP	BC
                           A  7116    ;  763			
                           A  7117    ;  764	
                           A  7118    ;  765			game_displayHelp(HELP_XPOS_MAP,
                           A  7119    .LINE 765
                           A  7120    
04229F 010D0000            A  7121    	LD	BC,13
0422A3 C5                  A  7122    	PUSH	BC
0422A4 01320000            A  7123    	LD	BC,50
0422A8 C5                  A  7124    	PUSH	BC
0422A9 CD E8 1E 04         A  7125    	CALL	_game_displayHelp
0422AD C1                  A  7126    	POP	BC
0422AE C1                  A  7127    	POP	BC
                           A  7128    ;  766			
                           A  7129    ;  767			switch(getch())	{
                           A  7130    .LINE 767
                           A  7131    
0422AF CD 90 29 04         A  7132    	CALL	_getch
0422B3 47                  A  7133    	LD	B,A
0422B4 78                  A  7134    	LD	A,B
0422B5 17ED62              A  7135    	SEXT	HL
0422B8 68                  A  7136    	LD	L,B
0422B9 CD F0 36 04         A  7137    	CALL	__case8D
0422BD E9                  A  7138    	JP	(HL)
0422BE                     A  7139    L__90:
0422BE 0600                A  7140    	DW	6
0422C0 08                  A  7141    	DB	8
0422C1 DB2204              A  7142    	DW24	L_149	
                           A  7143    
0422C4 0A                  A  7144    	DB	10
0422C5 DB2204              A  7145    	DW24	L_150	
                           A  7146    
0422C8 0B                  A  7147    	DB	11
0422C9 092304              A  7148    	DW24	L_155	
                           A  7149    
0422CC 0D                  A  7150    	DB	13
0422CD 3B2304              A  7151    	DW24	L_161	
                           A  7152    
0422D0 15                  A  7153    	DB	21
0422D1 092304              A  7154    	DW24	L_156	
                           A  7155    
0422D4 1B                  A  7156    	DB	27
0422D5 412304              A  7157    	DW24	L_162	
                           A  7158    
0422D8 4D2304              A  7159    	DW24	L_164	
                           A  7160    
                           A  7161    ;  768				case 0x8:
0422DB                     A  7162    L_149:
                           A  7163    .LINE 768
                           A  7164    
                           A  7165    ;  769				case 0x0a:
0422DB                     A  7166    L_150:
                           A  7167    .LINE 769
                           A  7168    
                           A  7169    ;  770					if(lvl > 0) lvl --;
                           A  7170    .LINE 770
                           A  7171    
0422DB DD07FE              A  7172    	LD	BC,(IX+%FFFFFFFE)
0422DE B7                  A  7173    	OR	A,A
0422DF ED62                A  7174    	SBC	HL,HL
0422E1 B7                  A  7175    	OR	A,A
0422E2 40ED42              A  7176    	SBC.SIS	HL,BC
0422E5 CD F3 2D 04         A  7177    	CALL	__setflag
0422E9 F2 F9 22 04         A  7178    	JP	P,L_153
0422ED DD27FE              A  7179    	LD	HL,(IX+%FFFFFFFE)
0422F0 2B                  A  7180    	DEC	HL
0422F1 DD75FE              A  7181    	LD	(IX+%FFFFFFFE),L
0422F4 DD74FF              A  7182    	LD	(IX+%FFFFFFFF),H
                           A  7183    ;  771					else lvl = levels-1;
                           A  7184    .LINE 771
                           A  7185    
0422F7 18 54               A  7186    	JR	L_164
0422F9                     A  7187    L_153:
0422F9 DD4E06              A  7188    	LD	C,(IX+%6)
0422FC 0600                A  7189    	LD	B,%0
0422FE 0B                  A  7190    	DEC	BC
0422FF C5E1                A  7191    	LD	HL,BC
042301 DD75FE              A  7192    	LD	(IX+%FFFFFFFE),L
042304 DD74FF              A  7193    	LD	(IX+%FFFFFFFF),H
                           A  7194    ;  772					break;
                           A  7195    .LINE 772
                           A  7196    
042307 18 44               A  7197    	JR	L_164
                           A  7198    ;  773				case 0x0b:
042309                     A  7199    L_155:
                           A  7200    .LINE 773
                           A  7201    
                           A  7202    ;  774				case 0x15:
042309                     A  7203    L_156:
                           A  7204    .LINE 774
                           A  7205    
                           A  7206    ;  775					if(lvl < levels-1) lvl+
                           A  7207    .LINE 775
                           A  7208    
042309 DD7E06              A  7209    	LD	A,(IX+%6)
04230C B7ED62              A  7210    	UEXT	HL
04230F 6F                  A  7211    	LD	L,A
042310 E5D1                A  7212    	LD	DE,HL
042312 1B                  A  7213    	DEC	DE
042313 DD07FE              A  7214    	LD	BC,(IX+%FFFFFFFE)
042316 CD B0 37 04         A  7215    	CALL	__stoi
04231A B7                  A  7216    	OR	A,A
04231B ED52                A  7217    	SBC	HL,DE
04231D CD F3 2D 04         A  7218    	CALL	__setflag
042321 F2 31 23 04         A  7219    	JP	P,L_159
042325 DD27FE              A  7220    	LD	HL,(IX+%FFFFFFFE)
042328 23                  A  7221    	INC	HL
042329 DD75FE              A  7222    	LD	(IX+%FFFFFFFE),L
04232C DD74FF              A  7223    	LD	(IX+%FFFFFFFF),H
                           A  7224    ;  776					else lvl = 0;
                           A  7225    .LINE 776
                           A  7226    
04232F 18 1C               A  7227    	JR	L_164
042331                     A  7228    L_159:
042331 DD36FE00            A  7229    	LD	(IX+%FFFFFFFE),%0
042335 DD36FF00            A  7230    	LD	(IX+%FFFFFFFF),%0
                           A  7231    ;  777					break;
                           A  7232    .LINE 777
                           A  7233    
042339 18 12               A  7234    	JR	L_164
                           A  7235    ;  778				case 0xd:
04233B                     A  7236    L_161:
                           A  7237    .LINE 778
                           A  7238    
                           A  7239    ;  779					selected = TRUE;
                           A  7240    .LINE 779
                           A  7241    
04233B DD36FD01            A  7242    	LD	(IX+%FFFFFFFD),%1
                           A  7243    ;  780					break;
                           A  7244    .LINE 780
                           A  7245    
04233F 18 0C               A  7246    	JR	L_164
                           A  7247    ;  781				case 27:
042341                     A  7248    L_162:
                           A  7249    .LINE 781
                           A  7250    
                           A  7251    ;  782					lvl = -1;
                           A  7252    .LINE 782
                           A  7253    
042341 DD36FEFF            A  7254    	LD	(IX+%FFFFFFFE),%FF
042345 DD36FFFF            A  7255    	LD	(IX+%FFFFFFFF),%FF
                           A  7256    ;  783					selected = TRUE;
                           A  7257    .LINE 783
                           A  7258    
042349 DD36FD01            A  7259    	LD	(IX+%FFFFFFFD),%1
                           A  7260    ;  784					break;
                           A  7261    ;  785				default:
                           A  7262    ;  786					break;
                           A  7263    ;  787			}
                           A  7264    ;  788		}
04234D                     A  7265    L_164:
                           A  7266    .LINE 788
                           A  7267    
04234D DD7EFD              A  7268    	LD	A,(IX+%FFFFFFFD)
042350 B7                  A  7269    	OR	A,A
042351 CA A0 21 04         A  7270    	JR	Z,L_165
                           A  7271    ;  789		return lvl;
                           A  7272    .LINE 789
                           A  7273    
042355 DD27FE              A  7274    	LD	HL,(IX+%FFFFFFFE)
                           A  7275    ;  790	}
                           A  7276    .LINE 790
                           A  7277    
042358 DDF9                A  7278    	LD	SP,IX
04235A DDE1                A  7279    	POP	IX
04235C C9                  A  7280    	RET	
                           A  7281    
                           A  7282    
                           A  7283    ;**************************** _game_selectLevel
                           A  7284    ;Name                         Addr/Register   S
                           A  7285    ;_getch                              IMPORT  --
                           A  7286    ;_game_displayHelp                   IMPORT  --
                           A  7287    ;_vdp_plotLineTo                     IMPORT  --
                           A  7288    ;_vdp_plotColour                     IMPORT  --
                           A  7289    ;_vdp_plotMoveTo                     IMPORT  --
                           A  7290    ;_puts                               IMPORT  --
                           A  7291    ;__u_itoa                            IMPORT  --
                           A  7292    ;___print_fmt                        IMPORT    
                           A  7293    ;___print_sendstring                 IMPORT  --
                           A  7294    ;___print_xputch                     IMPORT    
                           A  7295    ;___print_uputch                     IMPORT  --
                           A  7296    ;_vdp_fgcolour                       IMPORT  --
                           A  7297    ;_vdp_cursorGoto                     IMPORT  --
                           A  7298    ;_game_displayMinimap                IMPORT  --
                           A  7299    ;_vdp_clearGraphics                  IMPORT  --
                           A  7300    ;_game_initLevel                     IMPORT  --
                           A  7301    ;selected                              IX-3    
                           A  7302    ;lvl                                   IX-2    
                           A  7303    ;previouslevel                         IX+9    
                           A  7304    ;levels                                IX+6    
                           A  7305    
                           A  7306    
                           A  7307    ; Stack Frame Size: 15 (bytes)
                           A  7308    ;       Spill Code: 0 (instruction)
                           A  7309    
                           A  7310    
                           A  7311    .ENDFUNC "game_selectLevel",790,"_game_selectLe
                           A  7312    	SEGMENT STRSECT
045486                     A  7313    L__86:
045486 4C657665 6C20       A  7314    	DB	"Level "
04548C 00                  A  7315    	DB	0
04548D                     A  7316    L__87:
04548D 202F20              A  7317    	DB	" / "
045490 00                  A  7318    	DB	0
045491                     A  7319    L__88:
045491 53656C65 6374206C   A  7320    	DB	"Select level with cursor keys"
045499 6576656C 20776974 
0454A1 68206375 72736F72 
0454A9 206B6579 73 
0454AE 00                  A  7321    	DB	0
0454AF                     A  7322    L__89:
0454AF 45534320 746F2071   A  7323    	DB	"ESC to quit"
0454B7 756974 
0454BA 00                  A  7324    	DB	0
                           A  7325    	SEGMENT CODE
                           A  7326    ;  791	
                           A  7327    ;  792	void game_displayLevel(void)
                           A  7328    ;  793	{
04235D                     A  7329    _game_displayLevel:
                           A  7330    .DEFINE "_game_displayLevel"
                           A  7331    
                           A  7332    .VALUE _game_displayLevel
                           A  7333    
                           A  7334    .CLASS 2
                           A  7335    
                           A  7336    .TYPE 65
                           A  7337    
                           A  7338    .ENDEF
                           A  7339    
                           A  7340    .BEGFUNC "game_displayLevel",793,"_game_display
                           A  7341    
                           A  7342    .LINE 793
                           A  7343    
                           A  7344    .DEFINE "x"
                           A  7345    
                           A  7346    .CLASS 65
                           A  7347    
                           A  7348    .VALUE -2
                           A  7349    
                           A  7350    .TYPE 13
                           A  7351    
                           A  7352    .ENDEF
                           A  7353    
                           A  7354    .DEFINE "y"
                           A  7355    
                           A  7356    .CLASS 65
                           A  7357    
                           A  7358    .VALUE -4
                           A  7359    
                           A  7360    .TYPE 13
                           A  7361    
                           A  7362    .ENDEF
                           A  7363    
                           A  7364    .DEFINE "width"
                           A  7365    
                           A  7366    .CLASS 65
                           A  7367    
                           A  7368    .VALUE -6
                           A  7369    
                           A  7370    .TYPE 13
                           A  7371    
                           A  7372    .ENDEF
                           A  7373    
                           A  7374    .DEFINE "height"
                           A  7375    
                           A  7376    .CLASS 65
                           A  7377    
                           A  7378    .VALUE -8
                           A  7379    
                           A  7380    .TYPE 13
                           A  7381    
                           A  7382    .ENDEF
                           A  7383    
                           A  7384    .DEFINE "c"
                           A  7385    
                           A  7386    .CLASS 65
                           A  7387    
                           A  7388    .VALUE -9
                           A  7389    
                           A  7390    .TYPE 2
                           A  7391    
                           A  7392    .ENDEF
                           A  7393    
                           A  7394    .DEFINE "xstart"
                           A  7395    
                           A  7396    .CLASS 65
                           A  7397    
                           A  7398    .VALUE -11
                           A  7399    
                           A  7400    .TYPE 13
                           A  7401    
                           A  7402    .ENDEF
                           A  7403    
                           A  7404    .DEFINE "ystart"
                           A  7405    
                           A  7406    .CLASS 65
                           A  7407    
                           A  7408    .VALUE -13
                           A  7409    
                           A  7410    .TYPE 13
                           A  7411    
                           A  7412    .ENDEF
                           A  7413    
04235D DDE5                A  7414    	PUSH	IX
04235F DD210000 00         A  7415    	LD	IX,0
042364 DD39                A  7416    	ADD	IX,SP
042366 ED22F0              A  7417    	LEA	HL,IX+%FFFFFFF0
042369 F9                  A  7418    	LD	SP,HL
                           A  7419    ;  794		UINT16 width, height;
                           A  7420    ;  795		UINT16 ystart,xstart,x,y;
                           A  7421    ;  796		char c;
                           A  7422    ;  797		
                           A  7423    ;  798		// calculate on-screen base coordin
                           A  7424    ;  799		xstart = ((MAXWIDTH - currentlevel.
                           A  7425    .LINE 799
                           A  7426    
04236A 3A 86 5E 04         A  7427    	LD	A,(_currentlevel+2)
04236E B7ED62              A  7428    	UEXT	HL
042371 6F                  A  7429    	LD	L,A
042372 E5C1                A  7430    	LD	BC,HL
042374 21280000            A  7431    	LD	HL,40
042378 B7                  A  7432    	OR	A,A
042379 ED42                A  7433    	SBC	HL,BC
04237B 01020000            A  7434    	LD	BC,2
04237F CD 22 36 04         A  7435    	CALL	__idivs
042383 29                  A  7436    	ADD	HL,HL
042384 29                  A  7437    	ADD	HL,HL
042385 29                  A  7438    	ADD	HL,HL
042386 29                  A  7439    	ADD	HL,HL
042387 DD75F5              A  7440    	LD	(IX+%FFFFFFF5),L
04238A DD74F6              A  7441    	LD	(IX+%FFFFFFF6),H
                           A  7442    ;  800		ystart = ((MAXHEIGHT - currentlevel
                           A  7443    .LINE 800
                           A  7444    
04238D 3A 87 5E 04         A  7445    	LD	A,(_currentlevel+3)
042391 B7ED62              A  7446    	UEXT	HL
042394 6F                  A  7447    	LD	L,A
042395 E5C1                A  7448    	LD	BC,HL
042397 211E0000            A  7449    	LD	HL,30
04239B B7                  A  7450    	OR	A,A
04239C ED42                A  7451    	SBC	HL,BC
04239E 01020000            A  7452    	LD	BC,2
0423A2 CD 22 36 04         A  7453    	CALL	__idivs
0423A6 29                  A  7454    	ADD	HL,HL
0423A7 29                  A  7455    	ADD	HL,HL
0423A8 29                  A  7456    	ADD	HL,HL
0423A9 29                  A  7457    	ADD	HL,HL
0423AA DD75F3              A  7458    	LD	(IX+%FFFFFFF3),L
0423AD DD74F4              A  7459    	LD	(IX+%FFFFFFF4),H
                           A  7460    ;  801		
                           A  7461    ;  802		y = ystart;
                           A  7462    .LINE 802
                           A  7463    
0423B0 DD07F3              A  7464    	LD	BC,(IX+%FFFFFFF3)
0423B3 DD71FC              A  7465    	LD	(IX+%FFFFFFFC),C
0423B6 DD70FD              A  7466    	LD	(IX+%FFFFFFFD),B
                           A  7467    ;  803		for(height = 0; height < currentlev
                           A  7468    .LINE 803
                           A  7469    
0423B9 DD36F800            A  7470    	LD	(IX+%FFFFFFF8),%0
0423BD DD36F900            A  7471    	LD	(IX+%FFFFFFF9),%0
0423C1 C3 14 25 04         A  7472    	JR	L_187
0423C5                     A  7473    L_185:
                           A  7474    ;  804		{
                           A  7475    ;  805			x = xstart;
                           A  7476    .LINE 805
                           A  7477    
0423C5 DD07F5              A  7478    	LD	BC,(IX+%FFFFFFF5)
0423C8 DD71FE              A  7479    	LD	(IX+%FFFFFFFE),C
0423CB DD70FF              A  7480    	LD	(IX+%FFFFFFFF),B
                           A  7481    ;  806			for(width = 0; width < currentl
                           A  7482    .LINE 806
                           A  7483    
0423CE DD36FA00            A  7484    	LD	(IX+%FFFFFFFA),%0
0423D2 DD36FB00            A  7485    	LD	(IX+%FFFFFFFB),%0
0423D6 C3 EC 24 04         A  7486    	JR	L_183
0423DA                     A  7487    L_181:
                           A  7488    ;  807			{
                           A  7489    ;  808				c = currentlevel.data[heigh
                           A  7490    .LINE 808
                           A  7491    
0423DA DD07F8              A  7492    	LD	BC,(IX+%FFFFFFF8)
0423DD CD AD 2F 04         A  7493    	CALL	__stoiu
0423E1 3E28                A  7494    	LD	A,%28
0423E3 CD 5B 36 04         A  7495    	CALL	__imul_b
0423E7 DD2FF0              A  7496    	LD	(IX+%FFFFFFF0),HL
0423EA 01 8B 5E 04         A  7497    	LD	BC,_currentlevel+7
0423EE DD27F0              A  7498    	LD	HL,(IX+%FFFFFFF0)
0423F1 09                  A  7499    	ADD	HL,BC
0423F2 E5D1                A  7500    	LD	DE,HL
0423F4 DD07FA              A  7501    	LD	BC,(IX+%FFFFFFFA)
0423F7 CD AD 2F 04         A  7502    	CALL	__stoiu
0423FB 19                  A  7503    	ADD	HL,DE
0423FC 7E                  A  7504    	LD	A,(HL)
0423FD DD77F7              A  7505    	LD	(IX+%FFFFFFF7),A
                           A  7506    ;  809				switch(c)
                           A  7507    .LINE 809
                           A  7508    
042400 17ED62              A  7509    	SEXT	HL
042403 DD6EF7              A  7510    	LD	L,(IX+%FFFFFFF7)
042406 CD F0 36 04         A  7511    	CALL	__case8D
04240A E9                  A  7512    	JP	(HL)
04240B                     A  7513    L__95:
04240B 0700                A  7514    	DW	7
04240D 20                  A  7515    	DB	32
04240E C22404              A  7516    	DW24	L_178	
                           A  7517    
042411 23                  A  7518    	DB	35
042412 2C2404              A  7519    	DW24	L_170	
                           A  7520    
042415 24                  A  7521    	DB	36
042416 622404              A  7522    	DW24	L_173	
                           A  7523    
042419 2A                  A  7524    	DB	42
04241A 622404              A  7525    	DW24	L_174	
                           A  7526    
04241D 2B                  A  7527    	DB	43
04241E 442404              A  7528    	DW24	L_172	
                           A  7529    
042421 2E                  A  7530    	DB	46
042422 AC2404              A  7531    	DW24	L_177	
                           A  7532    
042425 40                  A  7533    	DB	64
042426 442404              A  7534    	DW24	L_171	
                           A  7535    
042429 D62404              A  7536    	DW24	L_180	
                           A  7537    
                           A  7538    ;  810				{
                           A  7539    ;  811					case CHAR_WALL:
04242C                     A  7540    L_170:
                           A  7541    .LINE 811
                           A  7542    
                           A  7543    ;  812						vdp_bitmapDraw(TILE
                           A  7544    .LINE 812
                           A  7545    
04242C DD07FC              A  7546    	LD	BC,(IX+%FFFFFFFC)
04242F C5                  A  7547    	PUSH	BC
042430 DD07FE              A  7548    	LD	BC,(IX+%FFFFFFFE)
042433 C5                  A  7549    	PUSH	BC
042434 01000000            A  7550    	LD	BC,0
042438 C5                  A  7551    	PUSH	BC
042439 CD 17 08 04         A  7552    	CALL	_vdp_bitmapDraw
04243D C1                  A  7553    	POP	BC
04243E C1                  A  7554    	POP	BC
04243F C1                  A  7555    	POP	BC
                           A  7556    ;  813						break;
                           A  7557    .LINE 813
                           A  7558    
042440 C3 D6 24 04         A  7559    	JR	L_180
                           A  7560    ;  814					case CHAR_PLAYER:
042444                     A  7561    L_171:
                           A  7562    .LINE 814
                           A  7563    
                           A  7564    ;  815					case CHAR_PLAYERONGOAL:
042444                     A  7565    L_172:
                           A  7566    .LINE 815
                           A  7567    
                           A  7568    ;  816						vdp_spriteSelect(0)
                           A  7569    .LINE 816
                           A  7570    
042444 01000000            A  7571    	LD	BC,0
042448 C5                  A  7572    	PUSH	BC
042449 CD BF 08 04         A  7573    	CALL	_vdp_spriteSelect
04244D C1                  A  7574    	POP	BC
                           A  7575    ;  817						vdp_spriteMoveToSel
                           A  7576    .LINE 817
                           A  7577    
04244E DD07FC              A  7578    	LD	BC,(IX+%FFFFFFFC)
042451 C5                  A  7579    	PUSH	BC
042452 DD07FE              A  7580    	LD	BC,(IX+%FFFFFFFE)
042455 C5                  A  7581    	PUSH	BC
042456 CD 1F 0B 04         A  7582    	CALL	_vdp_spriteMoveToSelected
04245A C1                  A  7583    	POP	BC
04245B C1                  A  7584    	POP	BC
                           A  7585    ;  818						vdp_spriteShowSelec
                           A  7586    .LINE 818
                           A  7587    
04245C CD 8D 0A 04         A  7588    	CALL	_vdp_spriteShowSelected
                           A  7589    ;  819						break;
                           A  7590    .LINE 819
                           A  7591    
042460 18 74               A  7592    	JR	L_180
                           A  7593    ;  820					case CHAR_BOX:
042462                     A  7594    L_173:
                           A  7595    .LINE 820
                           A  7596    
                           A  7597    ;  821					case CHAR_BOXONGOAL:
042462                     A  7598    L_174:
                           A  7599    .LINE 821
                           A  7600    
                           A  7601    ;  822						vdp_spriteSelect(sp
                           A  7602    .LINE 822
                           A  7603    
042462 01 D4 59 04         A  7604    	LD	BC,_sprites
042466 DD27F0              A  7605    	LD	HL,(IX+%FFFFFFF0)
042469 09                  A  7606    	ADD	HL,BC
04246A E5D1                A  7607    	LD	DE,HL
04246C DD07FA              A  7608    	LD	BC,(IX+%FFFFFFFA)
04246F CD AD 2F 04         A  7609    	CALL	__stoiu
042473 19                  A  7610    	ADD	HL,DE
042474 4E                  A  7611    	LD	C,(HL)
042475 0600                A  7612    	LD	B,%0
042477 C5                  A  7613    	PUSH	BC
042478 CD BF 08 04         A  7614    	CALL	_vdp_spriteSelect
04247C C1                  A  7615    	POP	BC
                           A  7616    ;  823						vdp_spriteMoveToSel
                           A  7617    .LINE 823
                           A  7618    
04247D DD07FC              A  7619    	LD	BC,(IX+%FFFFFFFC)
042480 C5                  A  7620    	PUSH	BC
042481 DD07FE              A  7621    	LD	BC,(IX+%FFFFFFFE)
042484 C5                  A  7622    	PUSH	BC
042485 CD 1F 0B 04         A  7623    	CALL	_vdp_spriteMoveToSelected
042489 C1                  A  7624    	POP	BC
04248A C1                  A  7625    	POP	BC
                           A  7626    ;  824						vdp_spriteShowSelec
                           A  7627    .LINE 824
                           A  7628    
04248B CD 8D 0A 04         A  7629    	CALL	_vdp_spriteShowSelected
                           A  7630    ;  825						if(c == CHAR_BOXONG
                           A  7631    .LINE 825
                           A  7632    
04248F DD7EF7              A  7633    	LD	A,(IX+%FFFFFFF7)
042492 FE2A                A  7634    	CP	A,%2A
042494 20 40               A  7635    	JR	NZ,L_180
                           A  7636    ;  826						{
                           A  7637    ;  827							vdp_bitmapDraw(
                           A  7638    .LINE 827
                           A  7639    
042496 DD07FC              A  7640    	LD	BC,(IX+%FFFFFFFC)
042499 C5                  A  7641    	PUSH	BC
04249A DD07FE              A  7642    	LD	BC,(IX+%FFFFFFFE)
04249D C5                  A  7643    	PUSH	BC
04249E 01050000            A  7644    	LD	BC,5
0424A2 C5                  A  7645    	PUSH	BC
0424A3 CD 17 08 04         A  7646    	CALL	_vdp_bitmapDraw
0424A7 C1                  A  7647    	POP	BC
0424A8 C1                  A  7648    	POP	BC
0424A9 C1                  A  7649    	POP	BC
                           A  7650    ;  828						}
                           A  7651    .LINE 828
                           A  7652    
                           A  7653    ;  829						break;
                           A  7654    .LINE 829
                           A  7655    
0424AA 18 2A               A  7656    	JR	L_180
                           A  7657    ;  830					case CHAR_GOAL:
0424AC                     A  7658    L_177:
                           A  7659    .LINE 830
                           A  7660    
                           A  7661    ;  831						vdp_bitmapDraw(TILE
                           A  7662    .LINE 831
                           A  7663    
0424AC DD07FC              A  7664    	LD	BC,(IX+%FFFFFFFC)
0424AF C5                  A  7665    	PUSH	BC
0424B0 DD07FE              A  7666    	LD	BC,(IX+%FFFFFFFE)
0424B3 C5                  A  7667    	PUSH	BC
0424B4 01050000            A  7668    	LD	BC,5
0424B8 C5                  A  7669    	PUSH	BC
0424B9 CD 17 08 04         A  7670    	CALL	_vdp_bitmapDraw
0424BD C1                  A  7671    	POP	BC
0424BE C1                  A  7672    	POP	BC
0424BF C1                  A  7673    	POP	BC
                           A  7674    ;  832						break;
                           A  7675    .LINE 832
                           A  7676    
0424C0 18 14               A  7677    	JR	L_180
                           A  7678    ;  833					case CHAR_FLOOR:
0424C2                     A  7679    L_178:
                           A  7680    .LINE 833
                           A  7681    
                           A  7682    ;  834						vdp_bitmapDraw(TILE
                           A  7683    .LINE 834
                           A  7684    
0424C2 DD07FC              A  7685    	LD	BC,(IX+%FFFFFFFC)
0424C5 C5                  A  7686    	PUSH	BC
0424C6 DD07FE              A  7687    	LD	BC,(IX+%FFFFFFFE)
0424C9 C5                  A  7688    	PUSH	BC
0424CA 01060000            A  7689    	LD	BC,6
0424CE C5                  A  7690    	PUSH	BC
0424CF CD 17 08 04         A  7691    	CALL	_vdp_bitmapDraw
0424D3 C1                  A  7692    	POP	BC
0424D4 C1                  A  7693    	POP	BC
0424D5 C1                  A  7694    	POP	BC
                           A  7695    ;  835						break;
                           A  7696    ;  836					default:
                           A  7697    ;  837						break;
                           A  7698    ;  838				}
0424D6                     A  7699    L_180:
                           A  7700    .LINE 838
                           A  7701    
                           A  7702    ;  839				x += BITMAP_WIDTH;
                           A  7703    .LINE 839
                           A  7704    
0424D6 DD31FE              A  7705    	LD	IY,(IX+%FFFFFFFE)
0424D9 ED2310              A  7706    	LEA	HL,IY+%10
0424DC DD75FE              A  7707    	LD	(IX+%FFFFFFFE),L
0424DF DD74FF              A  7708    	LD	(IX+%FFFFFFFF),H
0424E2 DD27FA              A  7709    	LD	HL,(IX+%FFFFFFFA)
0424E5 23                  A  7710    	INC	HL
0424E6 DD75FA              A  7711    	LD	(IX+%FFFFFFFA),L
0424E9 DD74FB              A  7712    	LD	(IX+%FFFFFFFB),H
                           A  7713    ;  840			}
0424EC                     A  7714    L_183:
                           A  7715    .LINE 840
                           A  7716    
0424EC 3A 86 5E 04         A  7717    	LD	A,(_currentlevel+2)
0424F0 4F                  A  7718    	LD	C,A
0424F1 0600                A  7719    	LD	B,%0
0424F3 DD27FA              A  7720    	LD	HL,(IX+%FFFFFFFA)
0424F6 B7                  A  7721    	OR	A,A
0424F7 40ED42              A  7722    	SBC.SIS	HL,BC
0424FA DA DA 23 04         A  7723    	JR	C,L_181
                           A  7724    ;  841			y += BITMAP_HEIGHT;
                           A  7725    .LINE 841
                           A  7726    
0424FE DD31FC              A  7727    	LD	IY,(IX+%FFFFFFFC)
042501 ED2310              A  7728    	LEA	HL,IY+%10
042504 DD75FC              A  7729    	LD	(IX+%FFFFFFFC),L
042507 DD74FD              A  7730    	LD	(IX+%FFFFFFFD),H
04250A DD27F8              A  7731    	LD	HL,(IX+%FFFFFFF8)
04250D 23                  A  7732    	INC	HL
04250E DD75F8              A  7733    	LD	(IX+%FFFFFFF8),L
042511 DD74F9              A  7734    	LD	(IX+%FFFFFFF9),H
                           A  7735    ;  842		}
042514                     A  7736    L_187:
                           A  7737    .LINE 842
                           A  7738    
042514 3A 87 5E 04         A  7739    	LD	A,(_currentlevel+3)
042518 4F                  A  7740    	LD	C,A
042519 0600                A  7741    	LD	B,%0
04251B DD27F8              A  7742    	LD	HL,(IX+%FFFFFFF8)
04251E B7                  A  7743    	OR	A,A
04251F 40ED42              A  7744    	SBC.SIS	HL,BC
042522 DA C5 23 04         A  7745    	JR	C,L_185
                           A  7746    ;  843	
                           A  7747    ;  844		vdp_spriteRefresh();
                           A  7748    .LINE 844
                           A  7749    
042526 CD 22 0C 04         A  7750    	CALL	_vdp_spriteRefresh
                           A  7751    ;  845	}
                           A  7752    .LINE 845
                           A  7753    
04252A DDF9                A  7754    	LD	SP,IX
04252C DDE1                A  7755    	POP	IX
04252E C9                  A  7756    	RET	
                           A  7757    
                           A  7758    
                           A  7759    ;**************************** _game_displayLeve
                           A  7760    ;Name                         Addr/Register   S
                           A  7761    ;_vdp_spriteRefresh                  IMPORT  --
                           A  7762    ;_sprites                            STATIC   1
                           A  7763    ;_vdp_spriteShowSelected             IMPORT  --
                           A  7764    ;_vdp_spriteMoveToSelected           IMPORT  --
                           A  7765    ;_vdp_spriteSelect                   IMPORT  --
                           A  7766    ;_vdp_bitmapDraw                     IMPORT  --
                           A  7767    ;_currentlevel                       STATIC   1
                           A  7768    ;G_31                                 IX-16    
                           A  7769    ;ystart                               IX-13    
                           A  7770    ;xstart                               IX-11    
                           A  7771    ;c                                     IX-9    
                           A  7772    ;height                                IX-8    
                           A  7773    ;width                                 IX-6    
                           A  7774    ;y                                     IX-4    
                           A  7775    ;x                                     IX-2    
                           A  7776    
                           A  7777    
                           A  7778    ; Stack Frame Size: 22 (bytes)
                           A  7779    ;       Spill Code: 0 (instruction)
                           A  7780    
                           A  7781    
                           A  7782    .ENDFUNC "game_displayLevel",845,"_game_display
                           A  7783    ;  846	
                           A  7784    ;  847	void game_displayMinimap(void)
                           A  7785    ;  848	{
04252F                     A  7786    _game_displayMinimap:
                           A  7787    .DEFINE "_game_displayMinimap"
                           A  7788    
                           A  7789    .VALUE _game_displayMinimap
                           A  7790    
                           A  7791    .CLASS 2
                           A  7792    
                           A  7793    .TYPE 65
                           A  7794    
                           A  7795    .ENDEF
                           A  7796    
                           A  7797    .BEGFUNC "game_displayMinimap",848,"_game_displ
                           A  7798    
                           A  7799    .LINE 848
                           A  7800    
                           A  7801    .DEFINE "x"
                           A  7802    
                           A  7803    .CLASS 65
                           A  7804    
                           A  7805    .VALUE -2
                           A  7806    
                           A  7807    .TYPE 13
                           A  7808    
                           A  7809    .ENDEF
                           A  7810    
                           A  7811    .DEFINE "y"
                           A  7812    
                           A  7813    .CLASS 65
                           A  7814    
                           A  7815    .VALUE -4
                           A  7816    
                           A  7817    .TYPE 13
                           A  7818    
                           A  7819    .ENDEF
                           A  7820    
                           A  7821    .DEFINE "width"
                           A  7822    
                           A  7823    .CLASS 65
                           A  7824    
                           A  7825    .VALUE -6
                           A  7826    
                           A  7827    .TYPE 13
                           A  7828    
                           A  7829    .ENDEF
                           A  7830    
                           A  7831    .DEFINE "height"
                           A  7832    
                           A  7833    .CLASS 65
                           A  7834    
                           A  7835    .VALUE -8
                           A  7836    
                           A  7837    .TYPE 13
                           A  7838    
                           A  7839    .ENDEF
                           A  7840    
                           A  7841    .DEFINE "c"
                           A  7842    
                           A  7843    .CLASS 65
                           A  7844    
                           A  7845    .VALUE -9
                           A  7846    
                           A  7847    .TYPE 2
                           A  7848    
                           A  7849    .ENDEF
                           A  7850    
                           A  7851    .DEFINE "xstart"
                           A  7852    
                           A  7853    .CLASS 65
                           A  7854    
                           A  7855    .VALUE -11
                           A  7856    
                           A  7857    .TYPE 13
                           A  7858    
                           A  7859    .ENDEF
                           A  7860    
                           A  7861    .DEFINE "ystart"
                           A  7862    
                           A  7863    .CLASS 65
                           A  7864    
                           A  7865    .VALUE -13
                           A  7866    
                           A  7867    .TYPE 13
                           A  7868    
                           A  7869    .ENDEF
                           A  7870    
04252F DDE5                A  7871    	PUSH	IX
042531 DD210000 00         A  7872    	LD	IX,0
042536 DD39                A  7873    	ADD	IX,SP
042538 ED22F3              A  7874    	LEA	HL,IX+%FFFFFFF3
04253B F9                  A  7875    	LD	SP,HL
                           A  7876    ;  849		UINT16 width, height;
                           A  7877    ;  850		UINT16 ystart,xstart,x,y;
                           A  7878    ;  851		char c;
                           A  7879    ;  852		
                           A  7880    ;  853		// calculate on-screen base coordin
                           A  7881    ;  854		xstart = (((MAXWIDTH - currentlevel
                           A  7882    .LINE 854
                           A  7883    
04253C 3A 86 5E 04         A  7884    	LD	A,(_currentlevel+2)
042540 B7ED62              A  7885    	UEXT	HL
042543 6F                  A  7886    	LD	L,A
042544 E5C1                A  7887    	LD	BC,HL
042546 21280000            A  7888    	LD	HL,40
04254A B7                  A  7889    	OR	A,A
04254B ED42                A  7890    	SBC	HL,BC
04254D 01020000            A  7891    	LD	BC,2
042551 CD 22 36 04         A  7892    	CALL	__idivs
042555 29                  A  7893    	ADD	HL,HL
042556 29                  A  7894    	ADD	HL,HL
042557 29                  A  7895    	ADD	HL,HL
042558 E5FDE1              A  7896    	LD	IY,HL
04255B ED2320              A  7897    	LEA	HL,IY+%20
04255E DD75F5              A  7898    	LD	(IX+%FFFFFFF5),L
042561 DD74F6              A  7899    	LD	(IX+%FFFFFFF6),H
                           A  7900    ;  855		ystart = (((MAXHEIGHT - currentleve
                           A  7901    .LINE 855
                           A  7902    
042564 3A 87 5E 04         A  7903    	LD	A,(_currentlevel+3)
042568 B7ED62              A  7904    	UEXT	HL
04256B 6F                  A  7905    	LD	L,A
04256C E5C1                A  7906    	LD	BC,HL
04256E 211E0000            A  7907    	LD	HL,30
042572 B7                  A  7908    	OR	A,A
042573 ED42                A  7909    	SBC	HL,BC
042575 01020000            A  7910    	LD	BC,2
042579 CD 22 36 04         A  7911    	CALL	__idivs
04257D 29                  A  7912    	ADD	HL,HL
04257E 29                  A  7913    	ADD	HL,HL
04257F 29                  A  7914    	ADD	HL,HL
042580 E5FDE1              A  7915    	LD	IY,HL
042583 ED235C              A  7916    	LEA	HL,IY+%5C
042586 DD75F3              A  7917    	LD	(IX+%FFFFFFF3),L
042589 DD74F4              A  7918    	LD	(IX+%FFFFFFF4),H
                           A  7919    ;  856		
                           A  7920    ;  857		y = ystart;
                           A  7921    .LINE 857
                           A  7922    
04258C DD07F3              A  7923    	LD	BC,(IX+%FFFFFFF3)
04258F DD71FC              A  7924    	LD	(IX+%FFFFFFFC),C
042592 DD70FD              A  7925    	LD	(IX+%FFFFFFFD),B
                           A  7926    ;  858		for(height = 0; height < currentlev
                           A  7927    .LINE 858
                           A  7928    
042595 DD36F800            A  7929    	LD	(IX+%FFFFFFF8),%0
042599 DD36F900            A  7930    	LD	(IX+%FFFFFFF9),%0
04259D C3 DA 26 04         A  7931    	JR	L_207
0425A1                     A  7932    L_205:
                           A  7933    ;  859		{
                           A  7934    ;  860			x = xstart;
                           A  7935    .LINE 860
                           A  7936    
0425A1 DD07F5              A  7937    	LD	BC,(IX+%FFFFFFF5)
0425A4 DD71FE              A  7938    	LD	(IX+%FFFFFFFE),C
0425A7 DD70FF              A  7939    	LD	(IX+%FFFFFFFF),B
                           A  7940    ;  861			for(width = 0; width < currentl
                           A  7941    .LINE 861
                           A  7942    
0425AA DD36FA00            A  7943    	LD	(IX+%FFFFFFFA),%0
0425AE DD36FB00            A  7944    	LD	(IX+%FFFFFFFB),%0
0425B2 C3 B2 26 04         A  7945    	JR	L_203
0425B6                     A  7946    L_201:
                           A  7947    ;  862			{
                           A  7948    ;  863				c = currentlevel.data[heigh
                           A  7949    .LINE 863
                           A  7950    
0425B6 DD07F8              A  7951    	LD	BC,(IX+%FFFFFFF8)
0425B9 CD AD 2F 04         A  7952    	CALL	__stoiu
0425BD 3E28                A  7953    	LD	A,%28
0425BF CD 5B 36 04         A  7954    	CALL	__imul_b
0425C3 01 8B 5E 04         A  7955    	LD	BC,_currentlevel+7
0425C7 09                  A  7956    	ADD	HL,BC
0425C8 E5D1                A  7957    	LD	DE,HL
0425CA DD07FA              A  7958    	LD	BC,(IX+%FFFFFFFA)
0425CD CD AD 2F 04         A  7959    	CALL	__stoiu
0425D1 19                  A  7960    	ADD	HL,DE
0425D2 7E                  A  7961    	LD	A,(HL)
0425D3 DD77F7              A  7962    	LD	(IX+%FFFFFFF7),A
                           A  7963    ;  864				switch(c)
                           A  7964    .LINE 864
                           A  7965    
0425D6 17ED62              A  7966    	SEXT	HL
0425D9 DD6EF7              A  7967    	LD	L,(IX+%FFFFFFF7)
0425DC CD F0 36 04         A  7968    	CALL	__case8D
0425E0 E9                  A  7969    	JP	(HL)
0425E1                     A  7970    L__100:
0425E1 0700                A  7971    	DW	7
0425E3 20                  A  7972    	DB	32
0425E4 882604              A  7973    	DW24	L_198	
                           A  7974    
0425E7 23                  A  7975    	DB	35
0425E8 022604              A  7976    	DW24	L_192	
                           A  7977    
0425EB 24                  A  7978    	DB	36
0425EC 462604              A  7979    	DW24	L_195	
                           A  7980    
0425EF 2A                  A  7981    	DB	42
0425F0 5C2604              A  7982    	DW24	L_196	
                           A  7983    
0425F3 2B                  A  7984    	DB	43
0425F4 302604              A  7985    	DW24	L_194	
                           A  7986    
0425F7 2E                  A  7987    	DB	46
0425F8 722604              A  7988    	DW24	L_197	
                           A  7989    
0425FB 40                  A  7990    	DB	64
0425FC 1A2604              A  7991    	DW24	L_193	
                           A  7992    
0425FF 9C2604              A  7993    	DW24	L_200	
                           A  7994    
                           A  7995    ;  865				{
                           A  7996    ;  866					case CHAR_WALL:
042602                     A  7997    L_192:
                           A  7998    .LINE 866
                           A  7999    
                           A  8000    ;  867						vdp_bitmapDraw(TILE
                           A  8001    .LINE 867
                           A  8002    
042602 DD07FC              A  8003    	LD	BC,(IX+%FFFFFFFC)
042605 C5                  A  8004    	PUSH	BC
042606 DD07FE              A  8005    	LD	BC,(IX+%FFFFFFFE)
042609 C5                  A  8006    	PUSH	BC
04260A 01070000            A  8007    	LD	BC,7
04260E C5                  A  8008    	PUSH	BC
04260F CD 17 08 04         A  8009    	CALL	_vdp_bitmapDraw
042613 C1                  A  8010    	POP	BC
042614 C1                  A  8011    	POP	BC
042615 C1                  A  8012    	POP	BC
                           A  8013    ;  868						break;
                           A  8014    .LINE 868
                           A  8015    
042616 C3 9C 26 04         A  8016    	JR	L_200
                           A  8017    ;  869					case CHAR_PLAYER:
04261A                     A  8018    L_193:
                           A  8019    .LINE 869
                           A  8020    
                           A  8021    ;  870						vdp_bitmapDraw(TILE
                           A  8022    .LINE 870
                           A  8023    
04261A DD07FC              A  8024    	LD	BC,(IX+%FFFFFFFC)
04261D C5                  A  8025    	PUSH	BC
04261E DD07FE              A  8026    	LD	BC,(IX+%FFFFFFFE)
042621 C5                  A  8027    	PUSH	BC
042622 01080000            A  8028    	LD	BC,8
042626 C5                  A  8029    	PUSH	BC
042627 CD 17 08 04         A  8030    	CALL	_vdp_bitmapDraw
04262B C1                  A  8031    	POP	BC
04262C C1                  A  8032    	POP	BC
04262D C1                  A  8033    	POP	BC
                           A  8034    ;  871						break;
                           A  8035    .LINE 871
                           A  8036    
04262E 18 6C               A  8037    	JR	L_200
                           A  8038    ;  872					case CHAR_PLAYERONGOAL:
042630                     A  8039    L_194:
                           A  8040    .LINE 872
                           A  8041    
                           A  8042    ;  873						vdp_bitmapDraw(TILE
                           A  8043    .LINE 873
                           A  8044    
042630 DD07FC              A  8045    	LD	BC,(IX+%FFFFFFFC)
042633 C5                  A  8046    	PUSH	BC
042634 DD07FE              A  8047    	LD	BC,(IX+%FFFFFFFE)
042637 C5                  A  8048    	PUSH	BC
042638 01090000            A  8049    	LD	BC,9
04263C C5                  A  8050    	PUSH	BC
04263D CD 17 08 04         A  8051    	CALL	_vdp_bitmapDraw
042641 C1                  A  8052    	POP	BC
042642 C1                  A  8053    	POP	BC
042643 C1                  A  8054    	POP	BC
                           A  8055    ;  874						break;
                           A  8056    .LINE 874
                           A  8057    
042644 18 56               A  8058    	JR	L_200
                           A  8059    ;  875					case CHAR_BOX:
042646                     A  8060    L_195:
                           A  8061    .LINE 875
                           A  8062    
                           A  8063    ;  876						vdp_bitmapDraw(TILE
                           A  8064    .LINE 876
                           A  8065    
042646 DD07FC              A  8066    	LD	BC,(IX+%FFFFFFFC)
042649 C5                  A  8067    	PUSH	BC
04264A DD07FE              A  8068    	LD	BC,(IX+%FFFFFFFE)
04264D C5                  A  8069    	PUSH	BC
04264E 010A0000            A  8070    	LD	BC,10
042652 C5                  A  8071    	PUSH	BC
042653 CD 17 08 04         A  8072    	CALL	_vdp_bitmapDraw
042657 C1                  A  8073    	POP	BC
042658 C1                  A  8074    	POP	BC
042659 C1                  A  8075    	POP	BC
                           A  8076    ;  877						break;
                           A  8077    .LINE 877
                           A  8078    
04265A 18 40               A  8079    	JR	L_200
                           A  8080    ;  878					case CHAR_BOXONGOAL:
04265C                     A  8081    L_196:
                           A  8082    .LINE 878
                           A  8083    
                           A  8084    ;  879						vdp_bitmapDraw(TILE
                           A  8085    .LINE 879
                           A  8086    
04265C DD07FC              A  8087    	LD	BC,(IX+%FFFFFFFC)
04265F C5                  A  8088    	PUSH	BC
042660 DD07FE              A  8089    	LD	BC,(IX+%FFFFFFFE)
042663 C5                  A  8090    	PUSH	BC
042664 010B0000            A  8091    	LD	BC,11
042668 C5                  A  8092    	PUSH	BC
042669 CD 17 08 04         A  8093    	CALL	_vdp_bitmapDraw
04266D C1                  A  8094    	POP	BC
04266E C1                  A  8095    	POP	BC
04266F C1                  A  8096    	POP	BC
                           A  8097    ;  880						break;
                           A  8098    .LINE 880
                           A  8099    
042670 18 2A               A  8100    	JR	L_200
                           A  8101    ;  881						break;
                           A  8102    ;  882					case CHAR_GOAL:
042672                     A  8103    L_197:
                           A  8104    .LINE 882
                           A  8105    
                           A  8106    ;  883						vdp_bitmapDraw(TILE
                           A  8107    .LINE 883
                           A  8108    
042672 DD07FC              A  8109    	LD	BC,(IX+%FFFFFFFC)
042675 C5                  A  8110    	PUSH	BC
042676 DD07FE              A  8111    	LD	BC,(IX+%FFFFFFFE)
042679 C5                  A  8112    	PUSH	BC
04267A 010C0000            A  8113    	LD	BC,12
04267E C5                  A  8114    	PUSH	BC
04267F CD 17 08 04         A  8115    	CALL	_vdp_bitmapDraw
042683 C1                  A  8116    	POP	BC
042684 C1                  A  8117    	POP	BC
042685 C1                  A  8118    	POP	BC
                           A  8119    ;  884						break;
                           A  8120    .LINE 884
                           A  8121    
042686 18 14               A  8122    	JR	L_200
                           A  8123    ;  885					case CHAR_FLOOR:
042688                     A  8124    L_198:
                           A  8125    .LINE 885
                           A  8126    
                           A  8127    ;  886						vdp_bitmapDraw(TILE
                           A  8128    .LINE 886
                           A  8129    
042688 DD07FC              A  8130    	LD	BC,(IX+%FFFFFFFC)
04268B C5                  A  8131    	PUSH	BC
04268C DD07FE              A  8132    	LD	BC,(IX+%FFFFFFFE)
04268F C5                  A  8133    	PUSH	BC
042690 010D0000            A  8134    	LD	BC,13
042694 C5                  A  8135    	PUSH	BC
042695 CD 17 08 04         A  8136    	CALL	_vdp_bitmapDraw
042699 C1                  A  8137    	POP	BC
04269A C1                  A  8138    	POP	BC
04269B C1                  A  8139    	POP	BC
                           A  8140    ;  887						break;
                           A  8141    ;  888					default:
                           A  8142    ;  889						break;
                           A  8143    ;  890				}
04269C                     A  8144    L_200:
                           A  8145    .LINE 890
                           A  8146    
                           A  8147    ;  891				x += MINIMAP_WIDTH;
                           A  8148    .LINE 891
                           A  8149    
04269C DD31FE              A  8150    	LD	IY,(IX+%FFFFFFFE)
04269F ED2308              A  8151    	LEA	HL,IY+%8
0426A2 DD75FE              A  8152    	LD	(IX+%FFFFFFFE),L
0426A5 DD74FF              A  8153    	LD	(IX+%FFFFFFFF),H
0426A8 DD27FA              A  8154    	LD	HL,(IX+%FFFFFFFA)
0426AB 23                  A  8155    	INC	HL
0426AC DD75FA              A  8156    	LD	(IX+%FFFFFFFA),L
0426AF DD74FB              A  8157    	LD	(IX+%FFFFFFFB),H
                           A  8158    ;  892			}
0426B2                     A  8159    L_203:
                           A  8160    .LINE 892
                           A  8161    
0426B2 3A 86 5E 04         A  8162    	LD	A,(_currentlevel+2)
0426B6 4F                  A  8163    	LD	C,A
0426B7 0600                A  8164    	LD	B,%0
0426B9 DD27FA              A  8165    	LD	HL,(IX+%FFFFFFFA)
0426BC B7                  A  8166    	OR	A,A
0426BD 40ED42              A  8167    	SBC.SIS	HL,BC
0426C0 DA B6 25 04         A  8168    	JR	C,L_201
                           A  8169    ;  893			y += MINIMAP_HEIGHT;
                           A  8170    .LINE 893
                           A  8171    
0426C4 DD31FC              A  8172    	LD	IY,(IX+%FFFFFFFC)
0426C7 ED2308              A  8173    	LEA	HL,IY+%8
0426CA DD75FC              A  8174    	LD	(IX+%FFFFFFFC),L
0426CD DD74FD              A  8175    	LD	(IX+%FFFFFFFD),H
0426D0 DD27F8              A  8176    	LD	HL,(IX+%FFFFFFF8)
0426D3 23                  A  8177    	INC	HL
0426D4 DD75F8              A  8178    	LD	(IX+%FFFFFFF8),L
0426D7 DD74F9              A  8179    	LD	(IX+%FFFFFFF9),H
                           A  8180    ;  894		}
0426DA                     A  8181    L_207:
                           A  8182    .LINE 894
                           A  8183    
0426DA 3A 87 5E 04         A  8184    	LD	A,(_currentlevel+3)
0426DE 4F                  A  8185    	LD	C,A
0426DF 0600                A  8186    	LD	B,%0
0426E1 DD27F8              A  8187    	LD	HL,(IX+%FFFFFFF8)
0426E4 B7                  A  8188    	OR	A,A
0426E5 40ED42              A  8189    	SBC.SIS	HL,BC
0426E8 DA A1 25 04         A  8190    	JR	C,L_205
                           A  8191    ;  895	}
                           A  8192    .LINE 895
                           A  8193    
0426EC DDF9                A  8194    	LD	SP,IX
0426EE DDE1                A  8195    	POP	IX
0426F0 C9                  A  8196    	RET	
                           A  8197    
                           A  8198    
                           A  8199    ;**************************** _game_displayMini
                           A  8200    ;Name                         Addr/Register   S
                           A  8201    ;_vdp_bitmapDraw                     IMPORT  --
                           A  8202    ;_currentlevel                       STATIC   1
                           A  8203    ;ystart                               IX-13    
                           A  8204    ;xstart                               IX-11    
                           A  8205    ;c                                     IX-9    
                           A  8206    ;height                                IX-8    
                           A  8207    ;width                                 IX-6    
                           A  8208    ;y                                     IX-4    
                           A  8209    ;x                                     IX-2    
                           A  8210    
                           A  8211    
                           A  8212    ; Stack Frame Size: 19 (bytes)
                           A  8213    ;       Spill Code: 0 (instruction)
                           A  8214    
                           A  8215    
                           A  8216    .ENDFUNC "game_displayMinimap",895,"_game_displ
                           A  8217    ;  896	
                           A  8218    ;  897	
                           A  8219    ;  898	UINT8 game_readLevels(char *filename)
                           A  8220    ;  899	{
0426F1                     A  8221    _game_readLevels:
                           A  8222    .DEFINE "_game_readLevels"
                           A  8223    
                           A  8224    .VALUE _game_readLevels
                           A  8225    
                           A  8226    .CLASS 2
                           A  8227    
                           A  8228    .TYPE 76
                           A  8229    
                           A  8230    .ENDEF
                           A  8231    
                           A  8232    .BEGFUNC "game_readLevels",899,"_game_readLevel
                           A  8233    
                           A  8234    .LINE 899
                           A  8235    
                           A  8236    .DEFINE "filename"
                           A  8237    
                           A  8238    .CLASS 65
                           A  8239    
                           A  8240    .VALUE 6
                           A  8241    
                           A  8242    .TYPE 34
                           A  8243    
                           A  8244    .ENDEF
                           A  8245    
                           A  8246    .DEFINE "numlevels"
                           A  8247    
                           A  8248    .CLASS 65
                           A  8249    
                           A  8250    .VALUE -1
                           A  8251    
                           A  8252    .TYPE 12
                           A  8253    
                           A  8254    .ENDEF
                           A  8255    
                           A  8256    .DEFINE "file"
                           A  8257    
                           A  8258    .CLASS 65
                           A  8259    
                           A  8260    .VALUE -2
                           A  8261    
                           A  8262    .TYPE 12
                           A  8263    
                           A  8264    .ENDEF
                           A  8265    
                           A  8266    .DEFINE "size"
                           A  8267    
                           A  8268    .CLASS 65
                           A  8269    
                           A  8270    .VALUE -4
                           A  8271    
                           A  8272    .TYPE 13
                           A  8273    
                           A  8274    .ENDEF
                           A  8275    
                           A  8276    .DEFINE "ptr"
                           A  8277    
                           A  8278    .CLASS 65
                           A  8279    
                           A  8280    .VALUE -7
                           A  8281    
                           A  8282    .TYPE 34
                           A  8283    
                           A  8284    .ENDEF
                           A  8285    
0426F1 DDE5                A  8286    	PUSH	IX
0426F3 DD210000 00         A  8287    	LD	IX,0
0426F8 DD39                A  8288    	ADD	IX,SP
0426FA C5                  A  8289    	PUSH	BC
0426FB C5                  A  8290    	PUSH	BC
0426FC 3B                  A  8291    	DEC	SP
                           A  8292    ;  900		// Reads all the levels in the stan
                           A  8293    ;  901		UINT8 numlevels = 0;
                           A  8294    .LINE 901
                           A  8295    
0426FD DD36FF00            A  8296    	LD	(IX+%FFFFFFFF),%0
                           A  8297    ;  902		UINT16 size;
                           A  8298    ;  903		UINT8 file;
                           A  8299    ;  904		char* ptr = (char*)LEVELDATA;
                           A  8300    .LINE 904
                           A  8301    
042701 01000006            A  8302    	LD	BC,393216
042705 DD0FF9              A  8303    	LD	(IX+%FFFFFFF9),BC
                           A  8304    ;  905	
                           A  8305    ;  906		vdp_fgcolour(BRIGHT_WHITE);
                           A  8306    .LINE 906
                           A  8307    
042708 010F0000            A  8308    	LD	BC,15
04270C C5                  A  8309    	PUSH	BC
04270D CD BC 04 04         A  8310    	CALL	_vdp_fgcolour
042711 C1                  A  8311    	POP	BC
                           A  8312    ;  907	
                           A  8313    ;  908		file = mos_fopen(filename, fa_read)
                           A  8314    .LINE 908
                           A  8315    
042712 01010000            A  8316    	LD	BC,1
042716 C5                  A  8317    	PUSH	BC
042717 DD0706              A  8318    	LD	BC,(IX+%6)
04271A C5                  A  8319    	PUSH	BC
04271B CD B5 2B 04         A  8320    	CALL	_mos_fopen
04271F C1                  A  8321    	POP	BC
042720 C1                  A  8322    	POP	BC
042721 DD77FE              A  8323    	LD	(IX+%FFFFFFFE),A
                           A  8324    ;  909		if(file)
                           A  8325    .LINE 909
                           A  8326    
042724 B7                  A  8327    	OR	A,A
042725 CA D7 27 04         A  8328    	JR	Z,L_219
                           A  8329    ;  910		{
                           A  8330    ;  911			numlevels = 0;
                           A  8331    .LINE 911
                           A  8332    
042729 DD36FF00            A  8333    	LD	(IX+%FFFFFFFF),%0
                           A  8334    ;  912			
                           A  8335    ;  913			while(!mos_feof(file))
                           A  8336    .LINE 913
                           A  8337    
04272D C3 BC 27 04         A  8338    	JR	L_215
042731                     A  8339    L_216:
                           A  8340    ;  914			{
                           A  8341    ;  915				size = sizeof(struct sokoba
                           A  8342    .LINE 915
                           A  8343    
042731 DD36FCB7            A  8344    	LD	(IX+%FFFFFFFC),%B7
042735 DD36FD04            A  8345    	LD	(IX+%FFFFFFFD),%4
                           A  8346    ;  916				while(size)
                           A  8347    .LINE 916
                           A  8348    
042739 18 22               A  8349    	JR	L_211
04273B                     A  8350    L_212:
                           A  8351    ;  917				{
                           A  8352    ;  918					*ptr = mos_fgetc(file);
                           A  8353    .LINE 918
                           A  8354    
04273B DD4EFE              A  8355    	LD	C,(IX+%FFFFFFFE)
04273E 0600                A  8356    	LD	B,%0
042740 C5                  A  8357    	PUSH	BC
042741 CD E2 2B 04         A  8358    	CALL	_mos_fgetc
042745 C1                  A  8359    	POP	BC
042746 DD27F9              A  8360    	LD	HL,(IX+%FFFFFFF9)
042749 77                  A  8361    	LD	(HL),A
                           A  8362    ;  919					ptr++;
                           A  8363    .LINE 919
                           A  8364    
04274A DD07F9              A  8365    	LD	BC,(IX+%FFFFFFF9)
04274D 03                  A  8366    	INC	BC
04274E DD0FF9              A  8367    	LD	(IX+%FFFFFFF9),BC
                           A  8368    ;  920					size--;
                           A  8369    .LINE 920
                           A  8370    
042751 DD31FC              A  8371    	LD	IY,(IX+%FFFFFFFC)
042754 ED23FF              A  8372    	LEA	HL,IY+%FFFFFFFF
042757 DD75FC              A  8373    	LD	(IX+%FFFFFFFC),L
04275A DD74FD              A  8374    	LD	(IX+%FFFFFFFD),H
                           A  8375    ;  921				}
04275D                     A  8376    L_211:
                           A  8377    .LINE 921
                           A  8378    
04275D DD27FC              A  8379    	LD	HL,(IX+%FFFFFFFC)
042760 CD 49 37 04         A  8380    	CALL	__scmpzero
042764 20 D5               A  8381    	JR	NZ,L_212
                           A  8382    ;  922				numlevels++;
                           A  8383    .LINE 922
                           A  8384    
042766 DD34FF              A  8385    	INC	(IX+%FFFFFFFF)
                           A  8386    ;  923				vdp_cursorGoto(20,38);
                           A  8387    .LINE 923
                           A  8388    
042769 01260000            A  8389    	LD	BC,38
04276D C5                  A  8390    	PUSH	BC
04276E 01140000            A  8391    	LD	BC,20
042772 C5                  A  8392    	PUSH	BC
042773 CD 8A 04 04         A  8393    	CALL	_vdp_cursorGoto
042777 C1                  A  8394    	POP	BC
042778 C1                  A  8395    	POP	BC
                           A  8396    ;  924				printf("Loading levels (%03
                           A  8397    .LINE 924
                           A  8398    
042779 01 B3 2F 04         A  8399    	LD	BC,___print_uputch
04277D ED43 58 51 04       A  8400    	LD	(___print_xputch),BC
042782 01 BB 54 04         A  8401    	LD	BC,L__106
042786 C5                  A  8402    	PUSH	BC
042787 CD 27 2E 04         A  8403    	CALL	___print_sendstring
04278B C1                  A  8404    	POP	BC
04278C 3E03                A  8405    	LD	A,%3
04278E 32 52 63 04         A  8406    	LD	(___print_fmt+5),A
042792 3E40                A  8407    	LD	A,%40
042794 32 4E 63 04         A  8408    	LD	(___print_fmt+1),A
042798 DD7EFF              A  8409    	LD	A,(IX+%FFFFFFFF)
04279B B7ED62              A  8410    	UEXT	HL
04279E 6F                  A  8411    	LD	L,A
04279F E5C1                A  8412    	LD	BC,HL
0427A1 CD C8 36 04         A  8413    	CALL	__itol
0427A5 C5D1                A  8414    	LD	DE,BC
0427A7 4F                  A  8415    	LD	C,A
0427A8 0600                A  8416    	LD	B,%0
0427AA C5                  A  8417    	PUSH	BC
0427AB D5                  A  8418    	PUSH	DE
0427AC CD AB 30 04         A  8419    	CALL	__u_itoa
0427B0 C1                  A  8420    	POP	BC
0427B1 C1                  A  8421    	POP	BC
0427B2 01 CC 54 04         A  8422    	LD	BC,L__107
0427B6 C5                  A  8423    	PUSH	BC
0427B7 CD 27 2E 04         A  8424    	CALL	___print_sendstring
0427BB C1                  A  8425    	POP	BC
                           A  8426    ;  925	
                           A  8427    ;  926			}		
0427BC                     A  8428    L_215:
                           A  8429    .LINE 926
                           A  8430    
0427BC DD4EFE              A  8431    	LD	C,(IX+%FFFFFFFE)
0427BF 0600                A  8432    	LD	B,%0
0427C1 C5                  A  8433    	PUSH	BC
0427C2 CD 0F 2C 04         A  8434    	CALL	_mos_feof
0427C6 C1                  A  8435    	POP	BC
0427C7 B7                  A  8436    	OR	A,A
0427C8 CA 31 27 04         A  8437    	JR	Z,L_216
                           A  8438    ;  927			mos_fclose(file);
                           A  8439    .LINE 927
                           A  8440    
0427CC DD4EFE              A  8441    	LD	C,(IX+%FFFFFFFE)
0427CF 0600                A  8442    	LD	B,%0
0427D1 C5                  A  8443    	PUSH	BC
0427D2 CD CD 2B 04         A  8444    	CALL	_mos_fclose
0427D6 C1                  A  8445    	POP	BC
                           A  8446    ;  928		}
0427D7                     A  8447    L_219:
                           A  8448    .LINE 928
                           A  8449    
                           A  8450    ;  929		return numlevels;
                           A  8451    .LINE 929
                           A  8452    
0427D7 DD7EFF              A  8453    	LD	A,(IX+%FFFFFFFF)
                           A  8454    ;  930	}	
                           A  8455    .LINE 930
                           A  8456    
0427DA DDF9                A  8457    	LD	SP,IX
0427DC DDE1                A  8458    	POP	IX
0427DE C9                  A  8459    	RET	
                           A  8460    
                           A  8461    
                           A  8462    ;**************************** _game_readLevels 
                           A  8463    ;Name                         Addr/Register   S
                           A  8464    ;_mos_fclose                         IMPORT  --
                           A  8465    ;_mos_feof                           IMPORT  --
                           A  8466    ;__u_itoa                            IMPORT  --
                           A  8467    ;___print_fmt                        IMPORT    
                           A  8468    ;___print_sendstring                 IMPORT  --
                           A  8469    ;___print_xputch                     IMPORT    
                           A  8470    ;___print_uputch                     IMPORT  --
                           A  8471    ;_vdp_cursorGoto                     IMPORT  --
                           A  8472    ;_mos_fgetc                          IMPORT  --
                           A  8473    ;_mos_fopen                          IMPORT  --
                           A  8474    ;_vdp_fgcolour                       IMPORT  --
                           A  8475    ;ptr                                   IX-7    
                           A  8476    ;size                                  IX-4    
                           A  8477    ;file                                  IX-2    
                           A  8478    ;numlevels                             IX-1    
                           A  8479    ;filename                              IX+6    
                           A  8480    
                           A  8481    
                           A  8482    ; Stack Frame Size: 16 (bytes)
                           A  8483    ;       Spill Code: 0 (instruction)
                           A  8484    
                           A  8485    
                           A  8486    .ENDFUNC "game_readLevels",930,"_game_readLevel
                           A  8487    	SEGMENT STRSECT
0454BB                     A  8488    L__106:
0454BB 4C6F6164 696E6720   A  8489    	DB	"Loading levels ("
0454C3 6C657665 6C732028 
0454CB 00                  A  8490    	DB	0
0454CC                     A  8491    L__107:
0454CC 292E2E2E 2E         A  8492    	DB	")...."
0454D1 00                  A  8493    	DB	0
                           A  8494    	SEGMENT CODE
                           A  8495    ;  931	
                           A  8496    ;  932	
                           A  8497    ;  933	void game_initLevel(UINT8 levelid)
                           A  8498    ;  934	{
0427DF                     A  8499    _game_initLevel:
                           A  8500    .DEFINE "_game_initLevel"
                           A  8501    
                           A  8502    .VALUE _game_initLevel
                           A  8503    
                           A  8504    .CLASS 2
                           A  8505    
                           A  8506    .TYPE 65
                           A  8507    
                           A  8508    .ENDEF
                           A  8509    
                           A  8510    .BEGFUNC "game_initLevel",934,"_game_initLevel"
                           A  8511    
                           A  8512    .LINE 934
                           A  8513    
                           A  8514    .DEFINE "levelid"
                           A  8515    
                           A  8516    .CLASS 65
                           A  8517    
                           A  8518    .VALUE 6
                           A  8519    
                           A  8520    .TYPE 12
                           A  8521    
                           A  8522    .ENDEF
                           A  8523    
0427DF DDE5                A  8524    	PUSH	IX
0427E1 DD210000 00         A  8525    	LD	IX,0
0427E6 DD39                A  8526    	ADD	IX,SP
                           A  8527    ;  935		memset(&currentlevel, 0, sizeof(str
                           A  8528    .LINE 935
                           A  8529    
0427E8 01B70400            A  8530    	LD	BC,1207
0427EC C5                  A  8531    	PUSH	BC
0427ED 01000000            A  8532    	LD	BC,0
0427F1 C5                  A  8533    	PUSH	BC
0427F2 01 84 5E 04         A  8534    	LD	BC,_currentlevel
0427F6 C5                  A  8535    	PUSH	BC
0427F7 CD 86 37 04         A  8536    	CALL	_memset
0427FB C1                  A  8537    	POP	BC
0427FC C1                  A  8538    	POP	BC
0427FD C1                  A  8539    	POP	BC
                           A  8540    ;  936		memcpy(&currentlevel, (void*)(LEVEL
                           A  8541    .LINE 936
                           A  8542    
0427FE 01B70400            A  8543    	LD	BC,1207
042802 C5                  A  8544    	PUSH	BC
042803 DD7E06              A  8545    	LD	A,(IX+%6)
042806 B7ED62              A  8546    	UEXT	HL
042809 6F                  A  8547    	LD	L,A
04280A E5C1                A  8548    	LD	BC,HL
04280C 21B70400            A  8549    	LD	HL,1207
042810 CD 67 36 04         A  8550    	CALL	__imulu
042814 01000006            A  8551    	LD	BC,393216
042818 09                  A  8552    	ADD	HL,BC
042819 E5                  A  8553    	PUSH	HL
04281A 01 84 5E 04         A  8554    	LD	BC,_currentlevel
04281E C5                  A  8555    	PUSH	BC
04281F CD 75 33 04         A  8556    	CALL	_memcpy
042823 C1                  A  8557    	POP	BC
042824 C1                  A  8558    	POP	BC
042825 C1                  A  8559    	POP	BC
                           A  8560    ;  937		// initialize undo buffer
                           A  8561    ;  938		undo_head = 0;
                           A  8562    .LINE 938
                           A  8563    
042826 AF                  A  8564    	XOR	A,A
042827 32 D2 55 04         A  8565    	LD	(_undo_head),A
                           A  8566    ;  939		num_undomoves = 0;
                           A  8567    .LINE 939
                           A  8568    
04282B AF                  A  8569    	XOR	A,A
04282C 32 D3 55 04         A  8570    	LD	(_num_undomoves),A
                           A  8571    ;  940	}
                           A  8572    .LINE 940
                           A  8573    
042830 DDF9                A  8574    	LD	SP,IX
042832 DDE1                A  8575    	POP	IX
042834 C9                  A  8576    	RET	
                           A  8577    
                           A  8578    
                           A  8579    ;**************************** _game_initLevel *
                           A  8580    ;Name                         Addr/Register   S
                           A  8581    ;_num_undomoves                      STATIC    
                           A  8582    ;_undo_head                          STATIC    
                           A  8583    ;_memcpy                             IMPORT  --
                           A  8584    ;_currentlevel                       STATIC   1
                           A  8585    ;_memset                             IMPORT  --
                           A  8586    ;levelid                               IX+6    
                           A  8587    
                           A  8588    
                           A  8589    ; Stack Frame Size: 9 (bytes)
                           A  8590    ;       Spill Code: 0 (instruction)
                           A  8591    
                           A  8592    
                           A  8593    .ENDFUNC "game_initLevel",940,"_game_initLevel"
                           A  8594    ;  941	
                           A  8595    ;  942	void game_initSprites(void)
                           A  8596    ;  943	{
042835                     A  8597    _game_initSprites:
                           A  8598    .DEFINE "_game_initSprites"
                           A  8599    
                           A  8600    .VALUE _game_initSprites
                           A  8601    
                           A  8602    .CLASS 2
                           A  8603    
                           A  8604    .TYPE 65
                           A  8605    
                           A  8606    .ENDEF
                           A  8607    
                           A  8608    .BEGFUNC "game_initSprites",943,"_game_initSpri
                           A  8609    
                           A  8610    .LINE 943
                           A  8611    
                           A  8612    .DEFINE "x"
                           A  8613    
                           A  8614    .CLASS 65
                           A  8615    
                           A  8616    .VALUE -1
                           A  8617    
                           A  8618    .TYPE 12
                           A  8619    
                           A  8620    .ENDEF
                           A  8621    
                           A  8622    .DEFINE "boxsprite"
                           A  8623    
                           A  8624    .CLASS 65
                           A  8625    
                           A  8626    .VALUE -2
                           A  8627    
                           A  8628    .TYPE 12
                           A  8629    
                           A  8630    .ENDEF
                           A  8631    
                           A  8632    .DEFINE "y"
                           A  8633    
                           A  8634    .CLASS 65
                           A  8635    
                           A  8636    .VALUE -3
                           A  8637    
                           A  8638    .TYPE 12
                           A  8639    
                           A  8640    .ENDEF
                           A  8641    
042835 DDE5                A  8642    	PUSH	IX
042837 DD210000 00         A  8643    	LD	IX,0
04283C DD39                A  8644    	ADD	IX,SP
04283E ED22F4              A  8645    	LEA	HL,IX+%FFFFFFF4
042841 F9                  A  8646    	LD	SP,HL
                           A  8647    ;  944		UINT8 x,y;
                           A  8648    ;  945		UINT8 boxsprite = 1;
                           A  8649    .LINE 945
                           A  8650    
042842 DD36FE01            A  8651    	LD	(IX+%FFFFFFFE),%1
                           A  8652    ;  946		
                           A  8653    ;  947		// Now build up the current level
                           A  8654    ;  948		// Player sprite
                           A  8655    ;  949		vdp_spriteSelect(0);
                           A  8656    .LINE 949
                           A  8657    
042846 01000000            A  8658    	LD	BC,0
04284A C5                  A  8659    	PUSH	BC
04284B CD BF 08 04         A  8660    	CALL	_vdp_spriteSelect
04284F C1                  A  8661    	POP	BC
                           A  8662    ;  950		vdp_spriteClearFramesSelected();
                           A  8663    .LINE 950
                           A  8664    
042850 CD F8 08 04         A  8665    	CALL	_vdp_spriteClearFramesSelected
                           A  8666    ;  951		vdp_spriteAddFrameSelected(TILE_PLA
                           A  8667    .LINE 951
                           A  8668    
042854 01010000            A  8669    	LD	BC,1
042858 C5                  A  8670    	PUSH	BC
042859 CD 41 09 04         A  8671    	CALL	_vdp_spriteAddFrameSelected
04285D C1                  A  8672    	POP	BC
                           A  8673    ;  952		vdp_spriteHideSelected();
                           A  8674    .LINE 952
                           A  8675    
04285E CD D6 0A 04         A  8676    	CALL	_vdp_spriteHideSelected
                           A  8677    ;  953	
                           A  8678    ;  954		// set sprite positions
                           A  8679    ;  955		for(y = 0; y < currentlevel.height;
                           A  8680    .LINE 955
                           A  8681    
042862 DD36FD00            A  8682    	LD	(IX+%FFFFFFFD),%0
042866 C3 3E 29 04         A  8683    	JR	L_236
04286A                     A  8684    L_234:
                           A  8685    ;  956		{
                           A  8686    ;  957			for(x = 0; x < currentlevel.wid
                           A  8687    .LINE 957
                           A  8688    
04286A DD36FF00            A  8689    	LD	(IX+%FFFFFFFF),%0
04286E C3 2F 29 04         A  8690    	JR	L_233
042872                     A  8691    L_231:
                           A  8692    ;  958			{
                           A  8693    ;  959				switch(currentlevel.data[y]
                           A  8694    .LINE 959
                           A  8695    
042872 DD7EFD              A  8696    	LD	A,(IX+%FFFFFFFD)
042875 B7ED62              A  8697    	UEXT	HL
042878 6F                  A  8698    	LD	L,A
042879 3E28                A  8699    	LD	A,%28
04287B CD 5B 36 04         A  8700    	CALL	__imul_b
04287F DD2FFA              A  8701    	LD	(IX+%FFFFFFFA),HL
042882 01 8B 5E 04         A  8702    	LD	BC,_currentlevel+7
042886 09                  A  8703    	ADD	HL,BC
042887 DD2FF4              A  8704    	LD	(IX+%FFFFFFF4),HL
04288A DD7EFF              A  8705    	LD	A,(IX+%FFFFFFFF)
04288D B7ED62              A  8706    	UEXT	HL
042890 6F                  A  8707    	LD	L,A
042891 DD07F4              A  8708    	LD	BC,(IX+%FFFFFFF4)
042894 09                  A  8709    	ADD	HL,BC
042895 DD2FF7              A  8710    	LD	(IX+%FFFFFFF7),HL
042898 7E                  A  8711    	LD	A,(HL)
042899 B7ED62              A  8712    	UEXT	HL
04289C 6F                  A  8713    	LD	L,A
04289D CD F0 36 04         A  8714    	CALL	__case8D
0428A1 E9                  A  8715    	JP	(HL)
0428A2                     A  8716    L__111:
0428A2 0200                A  8717    	DW	2
0428A4 24                  A  8718    	DB	36
0428A5 AF2804              A  8719    	DW24	L_224	
                           A  8720    
0428A8 2A                  A  8721    	DB	42
0428A9 AF2804              A  8722    	DW24	L_225	
                           A  8723    
0428AC 182904              A  8724    	DW24	L_230	
                           A  8725    
                           A  8726    ;  960				{
                           A  8727    ;  961					case CHAR_BOX:
0428AF                     A  8728    L_224:
                           A  8729    .LINE 961
                           A  8730    
                           A  8731    ;  962					case CHAR_BOXONGOAL:
0428AF                     A  8732    L_225:
                           A  8733    .LINE 962
                           A  8734    
                           A  8735    ;  963						vdp_spriteSelect(bo
                           A  8736    .LINE 963
                           A  8737    
0428AF DD4EFE              A  8738    	LD	C,(IX+%FFFFFFFE)
0428B2 0600                A  8739    	LD	B,%0
0428B4 C5                  A  8740    	PUSH	BC
0428B5 CD BF 08 04         A  8741    	CALL	_vdp_spriteSelect
0428B9 C1                  A  8742    	POP	BC
                           A  8743    ;  964						vdp_spriteClearFram
                           A  8744    .LINE 964
                           A  8745    
0428BA CD F8 08 04         A  8746    	CALL	_vdp_spriteClearFramesSelected
                           A  8747    ;  965						vdp_spriteAddFrameS
                           A  8748    .LINE 965
                           A  8749    
0428BE 01030000            A  8750    	LD	BC,3
0428C2 C5                  A  8751    	PUSH	BC
0428C3 CD 41 09 04         A  8752    	CALL	_vdp_spriteAddFrameSelected
0428C7 C1                  A  8753    	POP	BC
                           A  8754    ;  966						vdp_spriteAddFrameS
                           A  8755    .LINE 966
                           A  8756    
0428C8 01040000            A  8757    	LD	BC,4
0428CC C5                  A  8758    	PUSH	BC
0428CD CD 41 09 04         A  8759    	CALL	_vdp_spriteAddFrameSelected
0428D1 C1                  A  8760    	POP	BC
                           A  8761    ;  967						if(currentlevel.dat
                           A  8762    .LINE 967
                           A  8763    
0428D2 DD27F7              A  8764    	LD	HL,(IX+%FFFFFFF7)
0428D5 7E                  A  8765    	LD	A,(HL)
0428D6 B7ED62              A  8766    	UEXT	HL
0428D9 6F                  A  8767    	LD	L,A
0428DA 012A0000            A  8768    	LD	BC,42
0428DE B7                  A  8769    	OR	A,A
0428DF ED42                A  8770    	SBC	HL,BC
0428E1 20 0C               A  8771    	JR	NZ,L_227
0428E3 01010000            A  8772    	LD	BC,1
0428E7 C5                  A  8773    	PUSH	BC
0428E8 CD 30 0A 04         A  8774    	CALL	_vdp_spriteSetFrameSelected
0428EC C1                  A  8775    	POP	BC
                           A  8776    ;  968						else vdp_spriteSetF
                           A  8777    .LINE 968
                           A  8778    
0428ED 18 0A               A  8779    	JR	L_228
0428EF                     A  8780    L_227:
0428EF 01000000            A  8781    	LD	BC,0
0428F3 C5                  A  8782    	PUSH	BC
0428F4 CD 30 0A 04         A  8783    	CALL	_vdp_spriteSetFrameSelected
0428F8 C1                  A  8784    	POP	BC
0428F9                     A  8785    L_228:
                           A  8786    ;  969						vdp_spriteHideSelec
                           A  8787    .LINE 969
                           A  8788    
0428F9 CD D6 0A 04         A  8789    	CALL	_vdp_spriteHideSelected
                           A  8790    ;  970						sprites[y][x] = box
                           A  8791    .LINE 970
                           A  8792    
0428FD 01 D4 59 04         A  8793    	LD	BC,_sprites
042901 DD27FA              A  8794    	LD	HL,(IX+%FFFFFFFA)
042904 09                  A  8795    	ADD	HL,BC
042905 E5C1                A  8796    	LD	BC,HL
042907 DD7EFF              A  8797    	LD	A,(IX+%FFFFFFFF)
04290A B7ED62              A  8798    	UEXT	HL
04290D 6F                  A  8799    	LD	L,A
04290E 09                  A  8800    	ADD	HL,BC
04290F DD7EFE              A  8801    	LD	A,(IX+%FFFFFFFE)
042912 77                  A  8802    	LD	(HL),A
                           A  8803    ;  971						boxsprite++;
                           A  8804    .LINE 971
                           A  8805    
042913 DD34FE              A  8806    	INC	(IX+%FFFFFFFE)
                           A  8807    ;  972						break;
                           A  8808    .LINE 972
                           A  8809    
042916 18 14               A  8810    	JR	L_232
                           A  8811    ;  973					default:
042918                     A  8812    L_230:
                           A  8813    .LINE 973
                           A  8814    
                           A  8815    ;  974						sprites[y][x] = NOS
                           A  8816    .LINE 974
                           A  8817    
042918 01 D4 59 04         A  8818    	LD	BC,_sprites
04291C DD27FA              A  8819    	LD	HL,(IX+%FFFFFFFA)
04291F 09                  A  8820    	ADD	HL,BC
042920 E5C1                A  8821    	LD	BC,HL
042922 DD7EFF              A  8822    	LD	A,(IX+%FFFFFFFF)
042925 B7ED62              A  8823    	UEXT	HL
042928 6F                  A  8824    	LD	L,A
042929 09                  A  8825    	ADD	HL,BC
04292A 36FF                A  8826    	LD	(HL),%FF
                           A  8827    ;  975						break;
                           A  8828    ;  976				}	
                           A  8829    ;  977			}
04292C                     A  8830    L_232:
                           A  8831    .LINE 977
                           A  8832    
04292C DD34FF              A  8833    	INC	(IX+%FFFFFFFF)
04292F                     A  8834    L_233:
04292F DD7EFF              A  8835    	LD	A,(IX+%FFFFFFFF)
042932 21 86 5E 04         A  8836    	LD	HL,_currentlevel+2
042936 BE                  A  8837    	CP	A,(HL)
042937 DA 72 28 04         A  8838    	JR	C,L_231
04293B DD34FD              A  8839    	INC	(IX+%FFFFFFFD)
                           A  8840    ;  978		}
04293E                     A  8841    L_236:
                           A  8842    .LINE 978
                           A  8843    
04293E DD7EFD              A  8844    	LD	A,(IX+%FFFFFFFD)
042941 21 87 5E 04         A  8845    	LD	HL,_currentlevel+3
042945 BE                  A  8846    	CP	A,(HL)
042946 DA 6A 28 04         A  8847    	JR	C,L_234
                           A  8848    ;  979	
                           A  8849    ;  980		// activate all sprites. boxsprite 
                           A  8850    ;  981		spritenumber = boxsprite;
                           A  8851    .LINE 981
                           A  8852    
04294A DD7EFE              A  8853    	LD	A,(IX+%FFFFFFFE)
04294D 32 3B 63 04         A  8854    	LD	(_spritenumber),A
                           A  8855    ;  982		vdp_spriteActivateTotal(spritenumbe
                           A  8856    .LINE 982
                           A  8857    
042951 4F                  A  8858    	LD	C,A
042952 0600                A  8859    	LD	B,%0
042954 C5                  A  8860    	PUSH	BC
042955 CD E9 0B 04         A  8861    	CALL	_vdp_spriteActivateTotal
042959 C1                  A  8862    	POP	BC
                           A  8863    ;  983	}
                           A  8864    .LINE 983
                           A  8865    
04295A DDF9                A  8866    	LD	SP,IX
04295C DDE1                A  8867    	POP	IX
04295E C9                  A  8868    	RET	
                           A  8869    
                           A  8870    
                           A  8871    ;**************************** _game_initSprites
                           A  8872    ;Name                         Addr/Register   S
                           A  8873    ;_vdp_spriteActivateTotal            IMPORT  --
                           A  8874    ;_spritenumber                       STATIC    
                           A  8875    ;_sprites                            STATIC   1
                           A  8876    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  8877    ;_currentlevel                       STATIC   1
                           A  8878    ;_vdp_spriteHideSelected             IMPORT  --
                           A  8879    ;_vdp_spriteAddFrameSelected         IMPORT  --
                           A  8880    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  8881    ;_vdp_spriteSelect                   IMPORT  --
                           A  8882    ;G_32                                 IX-12    
                           A  8883    ;G_33                                  IX-9    
                           A  8884    ;G_34                                  IX-6    
                           A  8885    ;y                                     IX-3    
                           A  8886    ;boxsprite                             IX-2    
                           A  8887    ;x                                     IX-1    
                           A  8888    
                           A  8889    
                           A  8890    ; Stack Frame Size: 18 (bytes)
                           A  8891    ;       Spill Code: 0 (instruction)
                           A  8892    
                           A  8893    
                           A  8894    .ENDFUNC "game_initSprites",983,"_game_initSpri
                           A  8895    	XREF _strlen:ROM
                           A  8896    	XREF _memset:ROM
                           A  8897    	XREF _memcpy:ROM
                           A  8898    	XREF _puts:ROM
                           A  8899    	XREF __u_itoa:ROM
                           A  8900    	XREF ___print_sendstring:ROM
                           A  8901    	XREF ___print_xputch:ROM
                           A  8902    	XREF ___print_uputch:ROM
                           A  8903    	XREF ___print_fmt:ROM
                           A  8904    	XREF _vdp_spriteRefresh:ROM
                           A  8905    	XREF _vdp_spriteActivateTotal:ROM
                           A  8906    	XREF _vdp_spriteMoveBySelected:ROM
                           A  8907    	XREF _vdp_spriteMoveToSelected:ROM
                           A  8908    	XREF _vdp_spriteHide:ROM
                           A  8909    	XREF _vdp_spriteHideSelected:ROM
                           A  8910    	XREF _vdp_spriteShowSelected:ROM
                           A  8911    	XREF _vdp_spriteSetFrame:ROM
                           A  8912    	XREF _vdp_spriteSetFrameSelected:ROM
                           A  8913    	XREF _vdp_spriteAddFrameSelected:ROM
                           A  8914    	XREF _vdp_spriteClearFramesSelected:ROM
                           A  8915    	XREF _vdp_spriteSelect:ROM
                           A  8916    	XREF _vdp_bitmapCreateSolidColor:ROM
                           A  8917    	XREF _vdp_bitmapDraw:ROM
                           A  8918    	XREF _vdp_bitmapSendData:ROM
                           A  8919    	XREF _vdp_plotLineTo:ROM
                           A  8920    	XREF _vdp_plotMoveTo:ROM
                           A  8921    	XREF _vdp_plotColour:ROM
                           A  8922    	XREF _vdp_clearGraphics:ROM
                           A  8923    	XREF _vdp_fgcolour:ROM
                           A  8924    	XREF _vdp_cursorDisable:ROM
                           A  8925    	XREF _vdp_cursorGoto:ROM
                           A  8926    	XREF _vdp_cls:ROM
                           A  8927    	XREF _mos_feof:ROM
                           A  8928    	XREF _mos_fgetc:ROM
                           A  8929    	XREF _mos_fclose:ROM
                           A  8930    	XREF _mos_fopen:ROM
                           A  8931    	XREF _getch:ROM
                           A  8932    	XREF _putch:ROM
                           A  8933    	XREF __idivs:ROM
                           A  8934    	XREF __imulu:ROM
                           A  8935    	XREF __stoi:ROM
                           A  8936    	XREF __stoiu:ROM
                           A  8937    	XREF __itol:ROM
                           A  8938    	XREF __setflag:ROM
                           A  8939    	XREF __scmpzero:ROM
                           A  8940    	XREF __case8D:ROM
                           A  8941    	XREF __imul_b:ROM
                           A  8942    	XDEF _game_initSprites
                           A  8943    	XDEF _game_initLevel
                           A  8944    	XDEF _game_readLevels
                           A  8945    	XDEF _game_displayMinimap
                           A  8946    	XDEF _game_displayLevel
                           A  8947    	XDEF _game_selectLevel
                           A  8948    	XDEF _game_displayHelp
                           A  8949    	XDEF _game_splash_screen
                           A  8950    	XDEF _game_getResponse
                           A  8951    	XDEF _game_handleKey
                           A  8952    	XDEF _game_handleUndoMove
                           A  8953    	XDEF _undomove_updatelevel
                           A  8954    	XDEF _move_updatelevel
                           A  8955    	XDEF _undomove_sprites
                           A  8956    	XDEF _move_sprites
                           A  8957    	XDEF _canmove
                           A  8958    	XDEF _game_resetSprites
                           A  8959    	XDEF _game_sendSpriteData
                           A  8960    	XDEF _debug_print_playfieldText
                           A  8961    	XDEF _playermini_data
                           A  8962    	XDEF _boxongoalmini_data
                           A  8963    	XDEF _goalmini_data
                           A  8964    	XDEF _wallmini_data
                           A  8965    	XDEF _boxmini_data
                           A  8966    	XDEF _boxongoal_data
                           A  8967    	XDEF _box_data
                           A  8968    	XDEF _goal_data
                           A  8969    	XDEF _player_data
                           A  8970    	XDEF _wall_data
                           A  8971    	XDEF _spritenumber
                           A  8972    	XDEF _currentlevel
                           A  8973    	XDEF _sprites
                           A  8974    	XDEF _bitmapbuffer
                           A  8975    	XDEF _num_undomoves
                           A  8976    	XDEF _undo_head
                           A  8977    	XDEF _undomove
                           A  8978    	END


Errors: 0
Warnings: 0
Lines Assembled: 8979
